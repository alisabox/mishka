"use strict";(self.webpackChunkmishka=self.webpackChunkmishka||[]).push([[179],{881:()=>{function Ue(t){return"function"==typeof t}function sl(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const pf=sl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ka(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class rr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof pf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Rx(s)}catch(o){e=e??[],o instanceof pf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Rx(e);else{if(e instanceof rr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ka(n,e)}remove(e){const{_finalizers:n}=this;n&&Ka(n,e),e instanceof rr&&e._removeParent(this)}}rr.EMPTY=(()=>{const t=new rr;return t.closed=!0,t})();const Ax=rr.EMPTY;function xx(t){return t instanceof rr||t&&"closed"in t&&Ue(t.remove)&&Ue(t.add)&&Ue(t.unsubscribe)}function Rx(t){Ue(t)?t():t.unsubscribe()}const ko={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gf={setTimeout(t,e,...n){const{delegate:r}=gf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=gf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kx(t){gf.setTimeout(()=>{const{onUnhandledError:e}=ko;if(!e)throw t;e(t)})}function Mx(){}const UB=ay("C",void 0,void 0);function ay(t,e,n){return{kind:t,value:e,error:n}}let Mo=null;function mf(t){if(ko.useDeprecatedSynchronousErrorHandling){const e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Mo;if(Mo=null,n)throw r}}else t()}class uy extends rr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xx(e)&&e.add(this)):this.destination=zB}static create(e,n,r){return new ol(e,n,r)}next(e){this.isStopped?ly(function BB(t){return ay("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ly(function VB(t){return ay("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ly(UB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jB=Function.prototype.bind;function cy(t,e){return jB.call(t,e)}class HB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_f(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_f(r)}else _f(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_f(n)}}}class ol extends uy{constructor(e,n,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ko.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cy(e.next,s),error:e.error&&cy(e.error,s),complete:e.complete&&cy(e.complete,s)}):i=e}this.destination=new HB(i)}}function _f(t){ko.useDeprecatedSynchronousErrorHandling?function $B(t){ko.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=t)}(t):kx(t)}function ly(t,e){const{onStoppedNotification:n}=ko;n&&gf.setTimeout(()=>n(t,e))}const zB={closed:!0,next:Mx,error:function GB(t){throw t},complete:Mx},dy="function"==typeof Symbol&&Symbol.observable||"@@observable";function xs(t){return t}function Nx(t){return 0===t.length?xs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function KB(t){return t&&t instanceof uy||function qB(t){return t&&Ue(t.next)&&Ue(t.error)&&Ue(t.complete)}(t)&&xx(t)}(n)?n:new ol(n,r,i);return mf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Px(r))((i,s)=>{const o=new ol({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[dy](){return this}pipe(...n){return Nx(n)(this)}toPromise(n){return new(n=Px(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Px(t){var e;return null!==(e=t??ko.Promise)&&void 0!==e?e:Promise}const QB=sl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Or=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ox(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QB}next(n){mf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){mf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Ax:(this.currentObservers=null,s.push(n),new rr(()=>{this.currentObservers=null,Ka(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new Ox(e,n),t})();class Ox extends Or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Ax}}function Fx(t){return Ue(t?.lift)}function Ze(t){return e=>{if(Fx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new Lx(t,e,n,r,i)}class Lx extends uy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(t,e){return Ze((n,r)=>{let i=0;n.subscribe(ft(r,s=>{r.next(t.call(e,s,i++))}))})}function Vx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Bx(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function JB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof No?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function XB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function jx(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const Hx=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Gx(t){return Ue(t?.then)}function zx(t){return Ue(t[dy])}function Wx(t){return Symbol.asyncIterator&&Ue(t?.[Symbol.asyncIterator])}function qx(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kx=function e$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qx(t){return Ue(t?.[Kx])}function Yx(t){return JB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield No(n.read());if(i)return yield No(void 0);yield yield No(r)}}finally{n.releaseLock()}})}function Jx(t){return Ue(t?.getReader)}function Fr(t){if(t instanceof Ge)return t;if(null!=t){if(zx(t))return function t$(t){return new Ge(e=>{const n=t[dy]();if(Ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Hx(t))return function n$(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Gx(t))return function r$(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kx)})}(t);if(Wx(t))return Xx(t);if(Qx(t))return function i$(t){return new Ge(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Jx(t))return function s$(t){return Xx(Yx(t))}(t)}throw qx(t)}function Xx(t){return new Ge(e=>{(function o$(t,e){var n,r,i,s;return Bx(this,void 0,void 0,function*(){try{for(n=XB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $i(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qe(t,e,n=1/0){return Ue(e)?qe((r,i)=>ce((s,o)=>e(r,s,i,o))(Fr(t(r,i))),n):("number"==typeof e&&(n=e),Ze((r,i)=>function a$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let _=!1;Fr(n(g,l++)).subscribe(ft(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const v=u.shift();o?$i(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Qa(t=1/0){return qe(xs,t)}const ui=new Ge(t=>t.complete());function fy(t){return t[t.length-1]}function al(t){return function c$(t){return t&&Ue(t.schedule)}(fy(t))?t.pop():void 0}function yf(t,e=0){return Ze((n,r)=>{n.subscribe(ft(r,i=>$i(r,t,()=>r.next(i),e),()=>$i(r,t,()=>r.complete(),e),i=>$i(r,t,()=>r.error(i),e)))})}function vf(t,e=0){return Ze((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zx(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{$i(n,e,()=>{const r=t[Symbol.asyncIterator]();$i(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function et(t,e){return e?function _$(t,e){if(null!=t){if(zx(t))return function h$(t,e){return Fr(t).pipe(vf(e),yf(e))}(t,e);if(Hx(t))return function p$(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Gx(t))return function f$(t,e){return Fr(t).pipe(vf(e),yf(e))}(t,e);if(Wx(t))return Zx(t,e);if(Qx(t))return function g$(t,e){return new Ge(n=>{let r;return $i(n,e,()=>{r=t[Kx](),$i(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(t,e);if(Jx(t))return function m$(t,e){return Zx(Yx(t),e)}(t,e)}throw qx(t)}(t,e):Fr(t)}function py(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ol({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function Fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function my(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const w$=Oe({__forward_ref__:Oe});function _y(t){return t.__forward_ref__=_y,t.toString=function(){return Fe(this())},t}function X(t){return function yy(t){return"function"==typeof t&&t.hasOwnProperty(w$)&&t.__forward_ref__===_y}(t)?t():t}class $ extends Error{constructor(e,n){super(function wf(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function Ef(t,e){throw new $(-201,!1)}function sr(t,e){null==t&&function Re(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Et(t){return{providers:t.providers||[],imports:t.imports||[]}}function vy(t){return eR(t,Cf)||eR(t,nR)}function eR(t,e){return t.hasOwnProperty(e)?t[e]:null}function tR(t){return t&&(t.hasOwnProperty(wy)||t.hasOwnProperty(A$))?t[wy]:null}const Cf=Oe({\u0275prov:Oe}),wy=Oe({\u0275inj:Oe}),nR=Oe({ngInjectableDef:Oe}),A$=Oe({ngInjectorDef:Oe});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let Ey;function Ir(t){const e=Ey;return Ey=t,e}function rR(t,e,n){const r=vy(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Q.Optional?null:void 0!==e?e:void Ef(Fe(t))}function Rs(t){return{toString:t}.toString()}var Lr=(()=>((Lr=Lr||{})[Lr.OnPush=0]="OnPush",Lr[Lr.Default=1]="Default",Lr))(),ci=(()=>{return(t=ci||(ci={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ci;var t})();const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ya={},xe=[],If=Oe({\u0275cmp:Oe}),Cy=Oe({\u0275dir:Oe}),Iy=Oe({\u0275pipe:Oe}),iR=Oe({\u0275mod:Oe}),Hi=Oe({\u0275fac:Oe}),ul=Oe({__NG_ELEMENT_ID__:Oe});let R$=0;function ot(t){return Rs(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ci.Emulated,id:"c"+R$++,styles:t.styles||xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=aR(t.inputs,r),i.outputs=aR(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(sR).filter(oR):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(An).filter(oR):null,i})}function sR(t){return Me(t)||Sn(t)}function oR(t){return null!==t}function Rt(t){return Rs(()=>({type:t.type,bootstrap:t.bootstrap||xe,declarations:t.declarations||xe,imports:t.imports||xe,exports:t.exports||xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aR(t,e){if(null==t)return Ya;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const _n=ot;function yn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[If]||null}function Sn(t){return t[Cy]||null}function An(t){return t[Iy]||null}function or(t,e){const n=t[iR]||null;if(!n&&!0===e)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return n}function Hn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vr(t){return Array.isArray(t)&&!0===t[1]}function Dy(t){return 0!=(8&t.flags)}function Sf(t){return 2==(2&t.flags)}function Af(t){return 1==(1&t.flags)}function Br(t){return null!==t.template}function F$(t){return 0!=(256&t[2])}function Uo(t,e){return t.hasOwnProperty(Hi)?t[Hi]:null}class V${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vo(){return lR}function lR(t){return t.type.prototype.ngOnChanges&&(t.setInput=$$),B$}function B$(){const t=hR(this),e=t?.current;if(e){const n=t.previous;if(n===Ya)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $$(t,e,n,r){const i=hR(t)||function j$(t,e){return t[dR]=e}(t,{previous:Ya,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new V$(u&&u.currentValue,e,o===Ya),t[r]=e}Vo.ngInherit=!0;const dR="__ngSimpleChanges__";function hR(t){return t[dR]||null}function Ct(t){for(;Array.isArray(t);)t=t[0];return t}function xf(t,e){return Ct(e[t])}function Dr(t,e){return Ct(e[t.index])}function ky(t,e){return t.data[e]}function tu(t,e){return t[e]}function ur(t,e){const n=e[t];return Hn(n)?n:n[0]}function fR(t){return 4==(4&t[2])}function Rf(t){return 64==(64&t[2])}function ks(t,e){return null==e?null:t[e]}function pR(t){t[18]=0}function My(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ee={lFrame:IR(null),bindingsEnabled:!0};function mR(){return ee.bindingsEnabled}function D(){return ee.lFrame.lView}function Ee(){return ee.lFrame.tView}function Ny(t){return ee.lFrame.contextLView=t,t[8]}function Py(t){return ee.lFrame.contextLView=null,t}function kt(){let t=_R();for(;null!==t&&64===t.type;)t=t.parent;return t}function _R(){return ee.lFrame.currentTNode}function li(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Oy(){return ee.lFrame.isParent}function xn(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gi(){return ee.lFrame.bindingIndex}function nu(){return ee.lFrame.bindingIndex++}function zi(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nj(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ly(e)}function Ly(t){ee.lFrame.currentDirectiveIndex=t}function wR(){return ee.lFrame.currentQueryIndex}function Vy(t){ee.lFrame.currentQueryIndex=t}function ij(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ER(t,e,n){if(n&Q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Q.Host||(i=ij(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=CR();return r.currentTNode=e,r.lView=t,!0}function By(t){const e=CR(),n=t[1];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CR(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?IR(t):e}function IR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function bR(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const TR=bR;function $y(){const t=bR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rn(){return ee.lFrame.selectedIndex}function Ms(t){ee.lFrame.selectedIndex=t}function ut(){const t=ee.lFrame;return ky(t.tView,t.selectedIndex)}function di(){ee.lFrame.currentNamespace="svg"}function Ns(){!function uj(){ee.lFrame.currentNamespace=null}()}function Mf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Nf(t,e,n){DR(t,e,3,n)}function Pf(t,e,n,r){(3&t[2])===n&&DR(t,e,n,r)}function jy(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function DR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(dj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function dj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class fl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Of(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];AR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function SR(t){return 3===t||4===t||6===t}function AR(t){return 64===t.charCodeAt(0)}function Ff(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xR(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function RR(t){return-1!==t}function ru(t){return 32767&t}function iu(t,e){let n=function mj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Gy=!0;function Lf(t){const e=Gy;return Gy=t,e}let _j=0;const hi={};function gl(t,e){const n=Wy(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,zy(r.data,t),zy(e,null),zy(r.blueprint,null));const i=Uf(t,e),s=t.injectorIndex;if(RR(i)){const o=ru(i),a=iu(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function zy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Wy(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Uf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=VR(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Vf(t,e,n){!function yj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ul)&&(r=n[ul]),null==r&&(r=n[ul]=_j++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function NR(t,e,n){if(n&Q.Optional)return t;Ef()}function PR(t,e,n,r){if(n&Q.Optional&&void 0===r&&(r=null),0==(n&(Q.Self|Q.Host))){const i=t[9],s=Ir(void 0);try{return i?i.get(e,r,n&Q.Optional):rR(e,r,n&Q.Optional)}finally{Ir(s)}}return NR(r,0,n)}function OR(t,e,n,r=Q.Default,i){if(null!==t){if(1024&e[2]){const o=function bj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=FR(s,o,n,r|Q.Self,hi);if(a!==hi)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,hi,r);if(l!==hi)return l}u=VR(o),o=o[15]}s=u}return i}(t,e,n,r,hi);if(o!==hi)return o}const s=FR(t,e,n,r,hi);if(s!==hi)return s}return PR(e,n,r,i)}function FR(t,e,n,r,i){const s=function Ej(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ul)?t[ul]:void 0;return"number"==typeof e?e>=0?255&e:Cj:e}(n);if("function"==typeof s){if(!ER(e,t,r))return r&Q.Host?NR(i,0,r):PR(e,n,r,i);try{const o=s(r);if(null!=o||r&Q.Optional)return o;Ef()}finally{TR()}}else if("number"==typeof s){let o=null,a=Wy(t,e),u=-1,c=r&Q.Host?e[16][6]:null;for((-1===a||r&Q.SkipSelf)&&(u=-1===a?Uf(t,e):e[a+8],-1!==u&&UR(r,!1)?(o=e[1],a=ru(u),e=iu(u,e)):a=-1);-1!==a;){const l=e[1];if(LR(s,a,l.data)){const d=wj(a,e,n,o,r,c);if(d!==hi)return d}u=e[a+8],-1!==u&&UR(r,e[1].data[a+8]===c)&&LR(s,a,e)?(o=l,a=ru(u),e=iu(u,e)):a=-1}}return i}function wj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Bf(a,o,n,null==r?Sf(a)&&Gy:r!=o&&0!=(3&a.type),i&Q.Host&&s===a);return null!==l?ml(e,o,l,a):hi}function Bf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Br(f)&&f.type===n)return u}return null}function ml(t,e,n,r){let i=t[n];const s=e.data;if(function hj(t){return t instanceof fl}(i)){const o=i;o.resolving&&function E$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ae(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(s[n]));const a=Lf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ir(o.injectImpl):null;ER(t,r,Q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function lj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=lR(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ir(u),Lf(a),o.resolving=!1,TR()}}return i}function LR(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function UR(t,e){return!(t&Q.Self||t&Q.Host&&e)}class su{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OR(this._tNode,this._lView,e,r,n)}}function Cj(){return new su(kt(),D())}function VR(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const au="__parameters__";function cu(t,e,n){return Rs(()=>{const r=function Ky(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(au)?u[au]:Object.defineProperty(u,au,{value:[]})[au];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class W{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cr(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cr(r,e)):e!==t&&e.push(r)}return e}function Wi(t,e){t.forEach(n=>Array.isArray(n)?Wi(n,e):e(n))}function $R(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $f(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lr(t,e,n){let r=lu(t,e);return r>=0?t[1|r]=n:(r=~r,function Aj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Yy(t,e){const n=lu(t,e);if(n>=0)return t[1|n]}function lu(t,e){return function GR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const El={},Xy="__NG_DI_FLAG__",Hf="ngTempTokenPath",Fj=/\n/gm,zR="__source";let Cl;function du(t){const e=Cl;return Cl=t,e}function Uj(t,e=Q.Default){if(void 0===Cl)throw new $(-203,!1);return null===Cl?rR(t,void 0,e):Cl.get(t,e&Q.Optional?null:void 0,e)}function N(t,e=Q.Default){return(function x$(){return Ey}()||Uj)(X(t),e)}function pt(t,e=Q.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),N(t,e)}function Zy(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new $(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Vj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function Il(t,e){return t[Xy]=e,t.prototype[Xy]=e,t}function Vj(t){return t[Xy]}const ve=Il(cu("Optional"),8),bl=Il(cu("SkipSelf"),4);let tv;class ik{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Os(t){return t instanceof ik?t.changingThisBreaksApplicationSecurity:t}const cH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var It=(()=>((It=It||{})[It.NONE=0]="NONE",It[It.HTML=1]="HTML",It[It.STYLE=2]="STYLE",It[It.SCRIPT=3]="SCRIPT",It[It.URL=4]="URL",It[It.RESOURCE_URL=5]="RESOURCE_URL",It))();function gt(t){const e=function xl(){const t=D();return t&&t[12]}();return e?e.sanitize(It.URL,t)||"":function Sl(t,e){const n=function sH(t){return t instanceof ik&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Os(t):function Kf(t){return(t=String(t)).match(cH)||t.match(lH)?t:"unsafe:"+t}(re(t))}const uv=new W("ENVIRONMENT_INITIALIZER"),fk=new W("INJECTOR",-1),pk=new W("INJECTOR_DEF_TYPES");class gk{get(e,n=El){if(n===El){const r=new Error(`NullInjectorError: No provider for ${Fe(e)}!`);throw r.name="NullInjectorError",r}return n}}function bH(...t){return{\u0275providers:mk(0,t)}}function mk(t,...e){const n=[],r=new Set;let i;return Wi(e,s=>{const o=s;cv(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&_k(i,n),n}function _k(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Wi(i,s=>{e.push(s)})}}function cv(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=tR(t);const o=!s&&Me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=tR(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)cv(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Wi(s.imports,l=>{cv(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&_k(c,e)}if(!a){const c=Uo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:xe},{provide:pk,useValue:i,multi:!0},{provide:uv,useValue:()=>N(i),multi:!0})}const u=s.providers;null==u||a||Wi(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const TH=Oe({provide:String,useValue:Oe});function lv(t){return null!==t&&"object"==typeof t&&TH in t}function Bo(t){return"function"==typeof t}const dv=new W("Set Injector scope."),Yf={},SH={};let hv;function Jf(){return void 0===hv&&(hv=new gk),hv}class Fs{}class wk extends Fs{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pv(e,o=>this.processProvider(o)),this.records.set(fk,pu(void 0,this)),i.has("environment")&&this.records.set(Fs,pu(void 0,this));const s=this.records.get(dv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(pk.multi,xe,Q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=du(this),r=Ir(void 0);try{return e()}finally{du(n),Ir(r)}}get(e,n=El,r=Q.Default){this.assertNotDestroyed();const i=du(this),s=Ir(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function MH(t){return"function"==typeof t||"object"==typeof t&&t instanceof W}(e)&&vy(e);a=u&&this.injectableDefInScope(u)?pu(fv(e),Yf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?Jf():this.parent).get(e,n=r&Q.Optional&&n===El?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Hf]=o[Hf]||[]).unshift(Fe(e)),i)throw o;return function Bj(t,e,n,r){const i=t[Hf];throw e[zR]&&i.unshift(e[zR]),t.message=function $j(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Fe(e);if(Array.isArray(e))i=e.map(Fe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Fe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Hf]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Ir(s),du(i)}}resolveInjectorInitializers(){const e=du(this),n=Ir(void 0);try{const r=this.get(uv.multi,xe,Q.Self);for(const i of r)i()}finally{du(e),Ir(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Fe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){let n=Bo(e=X(e))?e:X(e&&e.provide);const r=function xH(t){return lv(t)?pu(void 0,t.useValue):pu(function Ek(t,e,n){let r;if(Bo(t)){const i=X(t);return Uo(i)||fv(i)}if(lv(t))r=()=>X(t.useValue);else if(function vk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Zy(t.deps||[]));else if(function yk(t){return!(!t||!t.useExisting)}(t))r=()=>N(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function RH(t){return!!t.deps}(t))return Uo(i)||fv(i);r=()=>new i(...Zy(t.deps))}return r}(t),Yf)}(e);if(Bo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=pu(void 0,Yf,!0),i.factory=()=>Zy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yf&&(n.value=SH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function fv(t){const e=vy(t),n=null!==e?e.factory:Uo(t);if(null!==n)return n;if(t instanceof W)throw new $(204,!1);if(t instanceof Function)return function AH(t){const e=t.length;if(e>0)throw function wl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new $(204,!1);const n=function D$(t){const e=t&&(t[Cf]||t[nR]);if(e){const n=function S$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new $(204,!1)}function pu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NH(t){return!!t.\u0275providers}function pv(t,e){for(const n of t)Array.isArray(n)?pv(n,e):NH(n)?pv(n.\u0275providers,e):e(n)}class Ck{}class FH{resolveComponentFactory(e){throw function OH(t){const e=Error(`No component factory found for ${Fe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let gu=(()=>{class t{}return t.NULL=new FH,t})();function LH(){return mu(kt(),D())}function mu(t,e){return new Ls(Dr(t,e))}let Ls=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=LH,t})();function UH(t){return t instanceof Ls?t.nativeElement:t}class bk{}let BH=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Rl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Tk=new Rl("14.1.3"),gv={};function wv(t){return t.ngOriginalError}class _u{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wv(e);for(;n&&wv(n);)n=wv(n);return n||null}}const Ev=new Map;let XH=0;const Iv="__ngContext__";function En(t,e){Hn(e)?(t[Iv]=e[20],function eG(t){Ev.set(t[20],t)}(e)):t[Iv]=e}function kl(t){const e=t[Iv];return"number"==typeof e?function kk(t){return Ev.get(t)||null}(e):e||null}function bv(t){const e=kl(t);return e?Hn(e)?e:e.lView:null}const cG=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ne))();function qi(t){return t instanceof Function?t():t}var Gn=(()=>((Gn=Gn||{})[Gn.Important=1]="Important",Gn[Gn.DashCase=2]="DashCase",Gn))();function Dv(t,e){return undefined(t,e)}function Ml(t){const e=t[3];return Vr(e)?e[3]:e}function Sv(t){return Vk(t[13])}function Av(t){return Vk(t[4])}function Vk(t){for(;null!==t&&!Vr(t);)t=t[4];return t}function vu(t,e,n,r,i){if(null!=r){let s,o=!1;Vr(r)?s=r:Hn(r)&&(o=!0,r=r[0]);const a=Ct(r);0===t&&null!==n?null==i?zk(e,n,a):$o(e,n,a,i||null,!0):1===t&&null!==n?$o(e,n,a,i||null,!0):2===t?function Xk(t,e,n){const r=Zf(t,e);r&&function SG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function RG(t,e,n,r,i){const s=n[7];s!==Ct(n)&&vu(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Nl(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Rv(t,e,n){return t.createElement(e,n)}function $k(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,My(i,-1)),n.splice(r,1)}function kv(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&$k(i,r),e>0&&(t[n-1][4]=r[4]);const s=$f(t,10+e);!function vG(t,e){Nl(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function jk(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Nl(t,e,n,3,null,null),function CG(t){let e=t[13];if(!e)return Mv(t[1],t);for(;e;){let n=null;if(Hn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Hn(e)&&Mv(e[1],e),e=e[3];null===e&&(e=t),Hn(e)&&Mv(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mv(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof fl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function TG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ct(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Vr(e[3])){n!==e[3]&&$k(n,e);const r=e[19];null!==r&&r.detachView(t)}!function tG(t){Ev.delete(t[20])}(e)}}function Hk(t,e,n){return function Gk(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===ci.None||i===ci.Emulated)return null}return Dr(r,n)}(t,e.parent,n)}function $o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zk(t,e,n){t.appendChild(e,n)}function Wk(t,e,n,r,i){null!==r?$o(t,e,n,r,i):zk(t,e,n)}function Zf(t,e){return t.parentNode(e)}let Qk=function Kk(t,e,n){return 40&t.type?Dr(t,n):null};function ep(t,e,n,r){const i=Hk(t,r,e),s=e[11],a=function qk(t,e,n){return Qk(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Wk(s,i,n[u],a,!1);else Wk(s,i,n,a,!1)}function tp(t,e){if(null!==e){const n=e.type;if(3&n)return Dr(e,t);if(4&n)return Pv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return tp(t,r);{const i=t[e.index];return Vr(i)?Pv(-1,i):Ct(i)}}if(32&n)return Dv(e,t)()||Ct(t[e.index]);{const r=Jk(t,e);return null!==r?Array.isArray(r)?r[0]:tp(Ml(t[16]),r):tp(t,e.next)}}return null}function Jk(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Pv(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return tp(r,i)}return e[7]}function Ov(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&En(Ct(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ov(t,e,n.child,r,i,s,!1),vu(e,t,i,a,s);else if(32&u){const c=Dv(n,r);let l;for(;l=c();)vu(e,t,i,l,s);vu(e,t,i,a,s)}else 16&u?Zk(t,e,r,n,i,s):vu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nl(t,e,n,r,i,s){Ov(n,r,t.firstChild,e,i,s,!1)}function Zk(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)vu(e,t,i,u[c],s);else Ov(t,e,u,o[3],i,s,!0)}function eM(t,e,n){t.setAttribute(e,"style",n)}function Fv(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const nM="ng-template";function MG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==tM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function rM(t){return 4===t.type&&t.value!==nM}function NG(t,e,n){return e===(4!==t.type||n?t.value:nM)}function PG(t,e,n){let r=4;const i=t.attrs||[],s=function LG(t){for(let e=0;e<t.length;e++)if(SR(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!NG(t,u,n)||""===u&&1===e.length){if($r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!MG(t.attrs,c,n)){if($r(r))return!1;o=!0}continue}const d=OG(8&r?"class":u,i,rM(t),n);if(-1===d){if($r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==tM(f,c,0)||2&r&&c!==h){if($r(r))return!1;o=!0}}}}else{if(!o&&!$r(r)&&!$r(u))return!1;if(o&&$r(u))continue;o=!1,r=u|1&r}}return $r(r)||o}function $r(t){return 0==(1&t)}function OG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function UG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function iM(t,e,n=!1){for(let r=0;r<e.length;r++)if(PG(t,e[r],n))return!0;return!1}function sM(t,e){return t?":not("+e.trim()+")":e}function BG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!$r(o)&&(e+=sM(s,i),i=""),r=o,s=s||!$r(r);n++}return""!==i&&(e+=sM(s,i)),e}const ie={};function U(t){oM(Ee(),D(),Rn()+t,!1)}function oM(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Nf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Pf(e,s,0,n)}Ms(n)}function lM(t,e=null,n=null,r){const i=dM(t,e,n,r);return i.resolveInjectorInitializers(),i}function dM(t,e=null,n=null,r,i=new Set){const s=[n||xe,bH(t)];return r=r||("object"==typeof t?void 0:Fe(t)),new wk(s,e||Jf(),r||null,i)}let Qe=(()=>{class t{static create(n,r){if(Array.isArray(n))return lM({name:""},r,n,"");{const i=n.name??"";return lM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=El,t.NULL=new gk,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>N(fk)}),t.__NG_ELEMENT_ID__=-1,t})();function H(t,e=Q.Default){const n=D();return null===n?N(t,e):OR(kt(),n,X(t),e)}function $v(){throw new Error("invalid")}function rp(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function jv(t){return 2|t}function Ki(t){return(131068&t)>>2}function Hv(t,e){return-131069&t|e<<2}function Gv(t){return 1|t}function AM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Vy(i),o.contentQueries(2,e[s],s)}}}function op(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),pR(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function ZH(){return XH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Eu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Zv(t,e,n,r,i){const s=_R(),o=Oy(),u=t.data[e]=function Iz(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function tj(){return ee.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function hl(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return li(s,!0),s}function Cu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ap(t,e,n){By(e);try{const r=t.viewQuery;null!==r&&c0(1,r,n);const i=t.template;null!==i&&xM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&AM(t,e),t.staticViewQueries&&c0(2,t.viewQuery,n);const s=t.components;null!==s&&function vz(t,e){for(let n=0;n<e.length;n++)Vz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,$y()}}function Pl(t,e,n,r){const i=e[2];if(128!=(128&i)){By(e);try{pR(e),function yR(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&xM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Nf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Pf(e,c,0,null),jy(e,0)}if(function Lz(t){for(let e=Sv(t);null!==e;e=Av(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&My(s,1),i[2]|=512}}}(e),function Fz(t){for(let e=Sv(t);null!==e;e=Av(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Rf(r)&&Pl(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&AM(t,e),o){const c=t.contentCheckHooks;null!==c&&Nf(e,c)}else{const c=t.contentHooks;null!==c&&Pf(e,c,1),jy(e,1)}!function _z(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ms(~i);else{const s=i,o=n[++r],a=n[++r];nj(o,s),a(2,e[s])}}}finally{Ms(-1)}}(t,e);const a=t.components;null!==a&&function yz(t,e){for(let n=0;n<e.length;n++)Uz(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&c0(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Nf(e,c)}else{const c=t.viewHooks;null!==c&&Pf(e,c,2),jy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,My(e[3],-1))}finally{$y()}}}function wz(t,e,n,r){const i=e[10],o=fR(e);try{!o&&i.begin&&i.begin(),o&&ap(t,e,r),Pl(t,e,n,r)}finally{!o&&i.end&&i.end()}}function xM(t,e,n,r,i){const s=Rn(),o=2&r;try{Ms(-1),o&&e.length>22&&oM(t,e,22,!1),n(r,i)}finally{Ms(s)}}function e0(t,e,n){!mR()||(function Az(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||gl(n,e),En(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Br(u);c&&Nz(e,n,u);const l=ml(e,t,a,n);En(l,e),null!==o&&Pz(0,a-i,l,u,0,o),c&&(ur(n.index,e)[8]=l)}}(t,e,n,Dr(n,e)),128==(128&n.flags)&&function xz(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function rj(){return ee.lFrame.currentDirectiveIndex}();try{Ms(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Ly(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&LM(u,c)}}finally{Ms(-1),Ly(o)}}(t,e,n))}function t0(t,e,n=Dr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function kM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=n0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function n0(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function Ez(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function MM(t,e,n,r){const i=GM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&zM(t).push(r,i.length-1))}function NM(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function PM(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||rM(e)?null:Oz(d,s);o.push(h),a=NM(d,c,a),u=NM(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function dr(t,e,n,r,i,s,o,a){const u=Dr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(l0(t,n,l,r,i),Sf(e)&&OM(n,e.index)):3&e.type&&(r=function bz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function OM(t,e){const n=ur(e,t);16&n[2]||(n[2]|=32)}function r0(t,e,n,r){let i=!1;if(mR()){const s=function Rz(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];iM(n,o.selectors,!1)&&(i||(i=[]),Vf(gl(n,e),t,o.type),Br(o)?(UM(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,VM(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Cu(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Ff(n.mergedAttrs,d.hostAttrs),BM(t,n,e,c,d),Mz(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}PM(t,n)}o&&function kz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new $(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Ff(n.mergedAttrs,n.attrs),i}function FM(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function Sz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function LM(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function UM(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Br(e)&&(n[""]=t)}}function VM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function BM(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Uo(i.type)),o=new fl(s,Br(i),H);t.blueprint[r]=o,n[r]=o,FM(t,e,0,r,Cu(t,n,i.hostVars,ie),i)}function Nz(t,e,n){const r=Dr(e,t),i=kM(n),s=t[10],o=up(t,op(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function pi(t,e,n,r,i,s){const o=Dr(t,e);!function s0(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?re(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function Pz(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function Oz(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $M(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Uz(t,e){const n=ur(e,t);if(Rf(n)){const r=n[1];48&n[2]?Pl(r,n,r.template,n[8]):n[5]>0&&o0(n)}}function o0(t){for(let r=Sv(t);null!==r;r=Av(r))for(let i=10;i<r.length;i++){const s=r[i];if(Rf(s))if(512&s[2]){const o=s[1];Pl(o,s,o.template,s[8])}else s[5]>0&&o0(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ur(n[r],t);Rf(i)&&i[5]>0&&o0(i)}}function Vz(t,e){const n=ur(e,t),r=n[1];(function Bz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ap(r,n,n[8])}function up(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function a0(t){for(;t;){t[2]|=32;const e=Ml(t);if(F$(t)&&!e)return t;t=e}return null}function HM(t){!function jM(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=bv(n);if(null!==r){const i=r[1];wz(i,r,i.template,n)}}}(t[8])}function c0(t,e,n){Vy(0),e(t,n)}const jz=(()=>Promise.resolve(null))();function GM(t){return t[7]||(t[7]=[])}function zM(t){return t.cleanup||(t.cleanup=[])}function qM(t,e){const n=t[9],r=n?n.get(_u,null):null;r&&r.handleError(e)}function l0(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qi(t,e,n){const r=xf(e,t);!function Bk(t,e,n){t.setValue(e,n)}(t[11],r,n)}function cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=my(i,a):2==s&&(r=my(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function lp(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ct(s)),Vr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&lp(u[1],u,c,r)}const o=n.type;if(8&o)lp(t,e,n.child,r);else if(32&o){const a=Dv(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Jk(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ml(e[16]);lp(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ol{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return lp(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Vr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(kv(e,r),$f(n,r))}this._attachedToViewContainer=!1}jk(this._lView[1],this._lView)}onDestroy(e){MM(this._lView[1],this._lView,null,e)}markForCheck(){a0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function u0(t,e,n){const r=e[10];r.begin&&r.begin();try{Pl(t,e,t.template,n)}catch(i){throw qM(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EG(t,e){Nl(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e}}class Hz extends Ol{constructor(e){super(e),this._view=e}detectChanges(){HM(this._view)}checkNoChanges(){}get context(){return null}}class d0 extends gu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new Fl(n,this.ngModule)}}function KM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class zz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,gv,r);return i!==gv||n===gv?i:this.parentInjector.get(e,n,r)}}class Fl extends Ck{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function $G(t){return t.map(BG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return KM(this.componentDef.inputs)}get outputs(){return KM(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Fs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new zz(e,s):e,a=o.get(bk,null);if(null===a)throw new $(407,!1);const u=o.get(BH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function Cz(t,e,n){return t.selectRootElement(e,n===ci.ShadowDom)}(c,r,this.componentDef.encapsulation):Rv(a.createRenderer(null,this.componentDef),l,function Gz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=function Yz(t,e){return{components:[],scheduler:t||cG,clean:jz,playerHandler:e||null,flags:0}}(),p=n0(0,null,null,1,0,null,null,null,null,null),g=op(null,p,f,h,null,null,a,c,u,o,null);let _,v;By(g);try{const I=function Kz(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=Eu(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(cp(u,c,!0),null!==t&&(Of(i,t,c),null!==u.classes&&Fv(i,t,u.classes),null!==u.styles&&eM(i,t,u.styles)));const l=r.createRenderer(t,e),d=op(n,kM(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Vf(gl(u,n),o,e.type),UM(o,u),VM(u,n.length,1)),up(n,d),n[22]=d}(d,this.componentDef,g,a,c);if(d)if(r)Of(c,d,["ng-version",Tk.full]);else{const{attrs:y,classes:T}=function jG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!$r(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Of(c,d,y),T&&T.length>0&&Fv(c,d,T.join(" "))}if(v=ky(p,22),void 0!==n){const y=v.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const R=n[T];y.push(null!=R?Array.from(R):null)}}_=function Qz(t,e,n,r,i){const s=n[1],o=function Dz(t,e,n){const r=kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),BM(t,r,e,Cu(t,e,1,null),n),PM(t,r));const i=ml(e,t,r.directiveStart,r);En(i,e);const s=Dr(r,e);return s&&En(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=kt();e.contentQueries(1,o,u.directiveStart)}const a=kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ms(a.index),FM(n[1],a,0,a.directiveStart,a.directiveEnd,e),LM(e,o)),o}(I,this.componentDef,g,f,[Jz]),ap(p,g,null)}finally{$y()}return new qz(this.componentType,_,mu(v,g),g,v)}}class qz extends class PH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Hz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;l0(s[1],s,i,e,n),OM(s,this._tNode.index)}}get injector(){return new su(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Jz(){const t=kt();Mf(D()[1],t)}let dp=null;function jo(){if(!dp){const t=Ne.Symbol;if(t&&t.iterator)dp=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dp=r)}}}return dp}function Ll(t){return!!function f0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function gi(t,e,n){return t[e]=n}function Cn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,r){const i=Cn(t,e,n);return Cn(t,e+1,r)||i}function p0(t,e,n,r){const i=D();return Cn(i,nu(),e)&&(Ee(),pi(ut(),i,t,e,n,r)),p0}function bu(t,e,n,r){return Cn(t,nu(),n)?e+re(n)+r:ie}function Su(t,e,n,r,i,s,o,a,u,c){const d=function Sr(t,e,n,r,i,s){const o=Ho(t,e,n,r);return Ho(t,e+2,i,s)||o}(t,Gi(),n,i,o,u);return zi(4),d?e+re(n)+r+re(i)+s+re(o)+a+re(u)+c:ie}function en(t,e,n,r,i,s,o,a){const u=D(),c=Ee(),l=t+22,d=c.firstCreatePass?function lW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Eu(e,t,4,o||null,ks(c,a));r0(e,n,l,ks(c,u)),Mf(e,l);const d=l.tViews=n0(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];li(d,!1);const h=u[11].createComment("");ep(c,u,h,d),En(h,u),up(u,u[l]=$M(h,u,h,d)),Af(d)&&e0(c,u,d),null!=o&&t0(u,d,a)}function ge(t,e,n){const r=D();return Cn(r,nu(),e)&&dr(Ee(),ut(),r,t,e,r[11],n,!1),ge}function g0(t,e,n,r,i){const o=i?"class":"style";l0(t,n,e.inputs[o],o,r)}function C(t,e,n,r){const i=D(),s=Ee(),o=22+t,a=i[11],u=i[o]=Rv(a,e,function cj(){return ee.lFrame.currentNamespace}()),c=s.firstCreatePass?function hW(t,e,n,r,i,s,o){const a=e.consts,c=Eu(e,t,2,i,ks(a,s));return r0(e,n,c,ks(a,o)),null!==c.attrs&&cp(c,c.attrs,!1),null!==c.mergedAttrs&&cp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];li(c,!0);const l=c.mergedAttrs;null!==l&&Of(a,u,l);const d=c.classes;null!==d&&Fv(a,u,d);const h=c.styles;return null!==h&&eM(a,u,h),64!=(64&c.flags)&&ep(s,i,u,c),0===function Q$(){return ee.lFrame.elementDepthCount}()&&En(u,i),function Y$(){ee.lFrame.elementDepthCount++}(),Af(c)&&(e0(s,i,c),function RM(t,e,n){if(Dy(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&t0(i,c),C}function b(){let t=kt();Oy()?function Fy(){ee.lFrame.isParent=!1}():(t=t.parent,li(t,!1));const e=t;!function J$(){ee.lFrame.elementDepthCount--}();const n=Ee();return n.firstCreatePass&&(Mf(n,t),Dy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function pj(t){return 0!=(16&t.flags)}(e)&&g0(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gj(t){return 0!=(32&t.flags)}(e)&&g0(n,e,D(),e.stylesWithoutHost,!1),b}function G(t,e,n,r){return C(t,e,n,r),b(),G}function y0(){return D()}function fp(t){return!!t&&"function"==typeof t.then}const cN=function uN(t){return!!t&&"function"==typeof t.subscribe};function Bs(t,e,n,r){const i=D(),s=Ee(),o=kt();return function dN(t,e,n,r,i,s,o,a){const u=Af(r),l=t.firstCreatePass&&zM(t),d=e[8],h=GM(e);let f=!0;if(3&r.type||a){const _=Dr(r,e),v=a?a(_):_,I=h.length,y=a?R=>a(Ct(R[r.index])):r.index;let T=null;if(!a&&u&&(T=function pW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1;else{s=fN(r,e,d,s,!1);const R=n.listen(v,i,s);h.push(s,R),l&&l.push(i,y,I,I+1)}}else s=fN(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let v=0;v<_;v+=2){const V=e[g[v]][g[v+1]].subscribe(s),Se=h.length;h.push(s,V),l&&l.push(i,r.index,Se,-(Se+1))}}}(s,i,i[11],o,t,e,0,r),Bs}function hN(t,e,n,r){try{return!1!==n(r)}catch(i){return qM(t,i),!1}}function fN(t,e,n,r,i){return function s(o){if(o===Function)return r;a0(2&t.flags?ur(t.index,e):e);let u=hN(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=hN(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function tn(t=1){return function sj(t){return(ee.lFrame.contextLView=function oj(t,e){for(;t>0;)e=e[15],t--;return e}(t,ee.lFrame.contextLView))[8]}(t)}function Ar(t,e,n){return Mu(t,"",e,"",n),Ar}function Mu(t,e,n,r,i){const s=D(),o=bu(s,e,n,r);return o!==ie&&dr(Ee(),ut(),s,t,o,s[11],i,!1),Mu}function zn(t,e,n,r,i,s,o){const a=D(),u=function Tu(t,e,n,r,i,s){const a=Ho(t,Gi(),n,i);return zi(2),a?e+re(n)+r+re(i)+s:ie}(a,e,n,r,i,s);return u!==ie&&dr(Ee(),ut(),a,t,u,a[11],o,!1),zn}function EN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?jr(s):Ki(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];wW(t[a],e)&&(u=!0,t[a+1]=r?Gv(l):jv(l)),a=r?jr(l):Ki(l)}u&&(t[n+1]=r?jv(s):Gv(s))}function wW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&lu(t,e)>=0}const Nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CN(t){return t.substring(Nt.key,Nt.keyEnd)}function IN(t,e){const n=Nt.textEnd;return n===e?-1:(e=Nt.keyEnd=function bW(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Nt.key=e,n),Nu(t,e,n))}function Nu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _i(t,e){for(let n=function CW(t){return function TN(t){Nt.key=0,Nt.keyEnd=0,Nt.value=0,Nt.valueEnd=0,Nt.textEnd=t.length}(t),IN(t,Nu(t,0,Nt.textEnd))}(e);n>=0;n=IN(e,n))lr(t,CN(e),!0)}function Gr(t,e,n,r){const i=Ee(),s=zi(2);i.firstUpdatePass&&function kN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Rn()],o=RN(t,n);ON(s,r)&&null===e&&!o&&(e=!1),e=function xW(t,e,n,r){const i=function Uy(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Vl(n=v0(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=v0(i,t,e,n,r),null===s){let u=function RW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ki(r))return t[jr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=v0(null,t,e,u[1],r),u=Vl(u,e.attrs,r),function kW(t,e,n,r){t[jr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function MW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Vl(r,t[s].hostAttrs,n);return Vl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=jr(o),u=Ki(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||lu(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=jr(t[a+1]);t[r+1]=rp(h,a),0!==h&&(t[h+1]=Hv(t[h+1],r)),t[a+1]=function az(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=rp(a,0),0!==a&&(t[a+1]=Hv(t[a+1],r)),a=r;else t[r+1]=rp(u,0),0===a?a=r:t[u+1]=Hv(t[u+1],r),u=r;c&&(t[r+1]=jv(t[r+1])),EN(t,l,r,!0),EN(t,l,r,!1),function vW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&lu(s,e)>=0&&(n[r+1]=Gv(n[r+1]))}(e,l,t,r,s),o=rp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=D();if(n!==ie&&Cn(o,s,n)){const a=i.data[Rn()];if(ON(a,r)&&!RN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=my(u,n||"")),g0(i,a,o,n,r)}else!function PW(t,e,n,r,i,s,o,a){i===ie&&(i=xe);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&NN(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function NW(t,e,n){if(null==n||""===n)return xe;const r=[],i=Os(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function RN(t,e){return e>=t.expandoStartIndex}function v0(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Vl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Vl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),lr(t,o,!!n||e[++s]))}return void 0===t?null:t}function NN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];pp(function wM(t){return 1==(1&t)}(c)?PN(u,e,n,i,Ki(c),o):void 0)||(pp(s)||function vM(t){return 2==(2&t)}(c)&&(s=PN(u,null,n,i,a,o)),function kG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Gn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gn.Important),t.setStyle(n,r,i,s))}}(r,o,xf(Rn(),n),i,s))}function PN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ie&&(h=d?xe:void 0);let f=d?Yy(h,r):l===r?h:void 0;if(c&&!pp(f)&&(f=Yy(u,r)),pp(f)&&(a=f,o))return a;const p=t[i+1];i=o?jr(p):Ki(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Yy(u,r))}return a}function pp(t){return void 0!==t}function ON(t,e){return 0!=(t.flags&(e?16:32))}function x(t,e=""){const n=D(),r=Ee(),i=t+22,s=r.firstCreatePass?Eu(r,i,1,e,null):r.data[i],o=n[i]=function xv(t,e){return t.createText(e)}(n[11],e);ep(r,n,o,s),li(s,!1)}function mt(t){return zr("",t,""),mt}function zr(t,e,n){const r=D(),i=bu(r,t,e,n);return i!==ie&&Qi(r,Rn(),i),zr}function w0(t,e,n,r,i,s,o,a,u){const c=D(),l=Su(c,t,e,n,r,i,s,o,a,u);return l!==ie&&Qi(c,Rn(),l),w0}function E0(t,e,n){Gr(lr,_i,bu(D(),t,e,n),!0)}const Go=void 0;var eq=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZW(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Pu={};function Mn(t){const e=function tq(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=t2(e);if(n)return n;const r=e.split("-")[0];if(n=t2(r),n)return n;if("en"===r)return eq;throw new $(701,!1)}function t2(t){return t in Pu||(Pu[t]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[t]),Pu[t]}var L=(()=>((L=L||{})[L.LocaleId=0]="LocaleId",L[L.DayPeriodsFormat=1]="DayPeriodsFormat",L[L.DayPeriodsStandalone=2]="DayPeriodsStandalone",L[L.DaysFormat=3]="DaysFormat",L[L.DaysStandalone=4]="DaysStandalone",L[L.MonthsFormat=5]="MonthsFormat",L[L.MonthsStandalone=6]="MonthsStandalone",L[L.Eras=7]="Eras",L[L.FirstDayOfWeek=8]="FirstDayOfWeek",L[L.WeekendRange=9]="WeekendRange",L[L.DateFormat=10]="DateFormat",L[L.TimeFormat=11]="TimeFormat",L[L.DateTimeFormat=12]="DateTimeFormat",L[L.NumberSymbols=13]="NumberSymbols",L[L.NumberFormats=14]="NumberFormats",L[L.CurrencyCode=15]="CurrencyCode",L[L.CurrencySymbol=16]="CurrencySymbol",L[L.CurrencyName=17]="CurrencyName",L[L.Currencies=18]="Currencies",L[L.Directionality=19]="Directionality",L[L.PluralCase=20]="PluralCase",L[L.ExtraData=21]="ExtraData",L))();const Ou="en-US";let n2=Ou;class zo{}class A2{}class x2 extends zo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new d0(this);const r=or(e);this._bootstrapComponents=qi(r.bootstrap),this._r3Injector=dM(e,n,[{provide:zo,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],Fe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class A0 extends A2{constructor(e){super(),this.moduleType=e}create(e){return new x2(this.moduleType,e)}}class tK extends zo{constructor(e,n,r){super(),this.componentFactoryResolver=new d0(this),this.instance=null;const i=new wk([...e,{provide:zo,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],n||Jf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vp(t,e,n=null){return new tK(t,e,n).injector}function yi(t,e,n){const r=xn()+t,i=D();return i[r]===ie?gi(i,r,n?e.call(n):e()):function Ul(t,e){return t[e]}(i,r)}function wp(t,e,n,r){return F2(D(),xn(),t,e,n,r)}function F2(t,e,n,r,i,s){const o=e+n;return Cn(t,o,i)?gi(t,o+1,s?r.call(s,i):r(i)):function Gl(t,e){const n=t[e];return n===ie?void 0:n}(t,o+1)}function ze(t,e){const n=Ee();let r;const i=t+22;n.firstCreatePass?(r=function wK(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Uo(r.type)),o=Ir(H);try{const a=Lf(!1),u=s();return Lf(a),function dW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,u),u}finally{Ir(o)}}function We(t,e,n){const r=t+22,i=D(),s=tu(i,r);return function zl(t,e){return t[1].data[e].pure}(i,r)?F2(i,xn(),e,s.transform,n,s):s.transform(n)}function R0(t){return e=>{setTimeout(t,void 0,e)}}const In=class TK extends Or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=R0(s),i&&(i=R0(i)),o&&(o=R0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rr&&e.add(a),a}};function DK(){return this._results[jo()]()}class k0{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=jo(),r=k0.prototype;r[n]||(r[n]=DK)}get changes(){return this._changes||(this._changes=new In)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=cr(e);(this._changesDetected=!function Dj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yi=(()=>{class t{}return t.__NG_ELEMENT_ID__=xK,t})();const SK=Yi,AK=class extends SK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=op(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),ap(r,i,e),new Ol(i)}};function xK(){return Ep(kt(),D())}function Ep(t,e){return 4&t.type?new AK(e,t,mu(t,e)):null}let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=RK,t})();function RK(){return H2(kt(),D())}const kK=Wr,$2=class extends kK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new su(this._hostTNode,this._hostLView)}get parentInjector(){const e=Uf(this._hostTNode,this._hostLView);if(RR(e)){const n=iu(e,this._hostLView),r=ru(e);return new su(n[1].data[r+8],n)}return new su(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=j2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function vl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Fl(Me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Fs,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function K$(t){return Vr(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new $2(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function IG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],$R(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function bG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Pv(s,o),u=r[11],c=Zf(u,o[7]);return null!==c&&function wG(t,e,n,r,i,s){r[0]=i,r[6]=e,Nl(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),$R(M0(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=j2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=kv(this._lContainer,n);r&&($f(M0(this._lContainer),n),jk(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=kv(this._lContainer,n);return r&&null!=$f(M0(this._lContainer),n)?new Ol(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function j2(t){return t[8]}function M0(t){return t[8]||(t[8]=[])}function H2(t,e){let n;const r=e[t.index];if(Vr(r))n=r;else{let i;if(8&t.type)i=Ct(r);else{const s=e[11];i=s.createComment("");const o=Dr(t,e);$o(s,Zf(s,o),i,function AG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=$M(r,e,i,t),up(e,n)}return new $2(n,t,e)}class N0{constructor(e){this.queryList=e,this.matches=null}clone(){return new N0(this.queryList)}setDirty(){this.queryList.setDirty()}}class P0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new P0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==K2(e,n).matches&&this.queries[n].setDirty()}}class G2{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class O0{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new O0(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class F0{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new F0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,PK(n,s)),this.matchTNodeWithReadOption(e,n,Bf(n,e,s,!1,!1))}else r===Yi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Bf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ls||i===Wr||i===Yi&&4&n.type)this.addMatch(n.index,-2);else{const s=Bf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function PK(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function FK(t,e,n,r){return-1===n?function OK(t,e){return 11&t.type?mu(t,e):4&t.type?Ep(t,e):null}(e,t):-2===n?function LK(t,e,n){return n===Ls?mu(e,t):n===Yi?Ep(e,t):n===Wr?H2(e,t):void 0}(t,e,r):ml(t,t[1],n,e)}function z2(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:FK(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function L0(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=z2(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&L0(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];L0(f[1],f,c,r)}}}}}return r}function Lu(t){const e=D(),n=Ee(),r=wR();Vy(r+1);const i=K2(n,r);if(t.dirty&&fR(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?L0(n,e,r,[]):z2(n,e,i,r);t.reset(s,UH),t.notifyOnChanges()}return!0}return!1}function Cp(t,e,n){const r=Ee();r.firstCreatePass&&(function q2(t,e,n){null===t.queries&&(t.queries=new O0),t.queries.track(new F0(e,n))}(r,new G2(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function W2(t,e,n){const r=new k0(4==(4&n));MM(t,e,r,r.destroy),null===e[19]&&(e[19]=new P0),e[19].queries.push(new N0(r))}(r,D(),e)}function Uu(){return function UK(t,e){return t[19].queries[e].queryList}(D(),wR())}function K2(t,e){return t.queries.getByIndex(e)}function Q2(t,e){return Ep(t,e)}function bp(...t){}const Ji=new W("Application Initializer");let Tp=(()=>{class t{constructor(n){this.appInits=n,this.resolve=bp,this.reject=bp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(fp(s))n.push(s);else if(cN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(N(Ji,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ql=new W("AppId",{providedIn:"root",factory:function pP(){return`${H0()}${H0()}${H0()}`}});function H0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gP=new W("Platform Initializer"),Wo=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mP=new W("appBootstrapListener");let sQ=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Xi=new W("LocaleId",{providedIn:"root",factory:()=>pt(Xi,Q.Optional|Q.SkipSelf)||function oQ(){return typeof $localize<"u"&&$localize.locale||Ou}()}),_P=new W("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class aQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let G0=(()=>{class t{compileModuleSync(n){return new A0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=qi(or(n).declarations).reduce((o,a)=>{const u=Me(a);return u&&o.push(new Fl(u)),o},[]);return new aQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lQ=(()=>Promise.resolve(0))();function z0(t){typeof Zone>"u"?lQ.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new In(!1),this.onMicrotaskEmpty=new In(!1),this.onStable=new In(!1),this.onError=new In(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dQ(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function pQ(t){const e=()=>{!function fQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,q0(t),t.isCheckStableRunning=!0,W0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),q0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return wP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),EP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return wP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),EP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,q0(t),W0(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hQ,bp,bp);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const hQ={};function W0(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function q0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EP(t){t._nesting--,W0(t)}class gQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new In,this.onMicrotaskEmpty=new In,this.onStable=new In,this.onError=new In}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const CP=new W(""),Dp=new W("");let Y0,K0=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Y0||(function mQ(t){Y0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),z0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z0(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(N(Te),N(Q0),N(Dp))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Q0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Y0?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),$s=null;const IP=new W("AllowMultipleToken"),J0=new W("PlatformDestroyListeners");class bP{constructor(e,n){this.name=e,this.token=n}}function DP(t,e,n=[]){const r=`Platform: ${e}`,i=new W(r);return(s=[])=>{let o=X0();if(!o||o.injector.get(IP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function vQ(t){if($s&&!$s.get(IP,!1))throw new $(400,!1);$s=t;const e=t.get(AP);(function TP(t){const e=t.get(gP,null);e&&e.forEach(n=>n())})(t)}(function SP(t=[],e){return Qe.create({name:e,providers:[{provide:dv,useValue:"platform"},{provide:J0,useValue:new Set([()=>$s=null])},...t]})}(a,r))}return function EQ(t){const e=X0();if(!e)throw new $(401,!1);return e}()}}function X0(){return $s?.get(AP)??null}let AP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function CQ(t,e){let n;return n="noop"===t?new gQ:("zone.js"===t?void 0:t)||new Te(e),n}(r?.ngZone,function xP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Te,useValue:i}];return i.run(()=>{const o=Qe.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(_u,null);if(!u)throw new $(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Ap(this._modules,a),c.unsubscribe()})}),function RP(t,e,n){try{const r=n();return fp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Tp);return c.runInitializers(),c.donePromise.then(()=>(function r2(t){sr(t,"Expected localeId to be defined"),"string"==typeof t&&(n2=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Xi,Ou)||Ou),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=kP({},r);return function _Q(t,e,n){const r=new A0(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Sp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new $(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(J0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(N(Qe))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function kP(t,e){return Array.isArray(e)?e.reduce(kP,t):{...t,...e}}let Sp=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ge(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ge(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),z0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function y$(...t){const e=al(t),n=function d$(t,e){return"number"==typeof fy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Fr(r[0]):Qa(n)(et(r,e)):ui}(s,o.pipe(function v$(t={}){const{connector:e=(()=>new Or),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Ze((g,_)=>{c++,!d&&!l&&h();const v=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=py(p,i))}),v.subscribe(_),!o&&c>0&&(o=new ol({next:I=>v.next(I),error:I=>{d=!0,h(),a=py(f,n,I),v.error(I)},complete:()=>{l=!0,h(),a=py(f,r),v.complete()}}),Fr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Ck;if(!this._injector.get(Tp).done)throw!i&&function Bu(t){const e=Me(t)||Sn(t)||An(t);return null!==e&&e.standalone}(n),new $(405,false);let o;o=i?n:this._injector.get(gu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function yQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(zo),c=o.create(Qe.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(CP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ap(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new $(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ap(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(mP,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ap(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(N(Te),N(Fs),N(_u))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ap(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let NP=!0,Z0=(()=>{class t{}return t.__NG_ELEMENT_ID__=TQ,t})();function TQ(t){return function DQ(t,e,n){if(Sf(t)&&!n){const r=ur(t.index,e);return new Ol(r,r)}return 47&t.type?new Ol(e[16],e):null}(kt(),D(),16==(16&t))}class UP{constructor(){}supports(e){return Ll(e)}create(e){return new MQ(e)}}const kQ=(t,e)=>e;class MQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kQ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<BP(r,i,s)?n:r,a=BP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ll(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function oW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new NQ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new VP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NQ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class VP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new PQ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function jP(){return new kp([new UP])}let kp=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||jP()),deps:[[t,new bl,new ve]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new $(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:jP}),t})();const VQ=DP(null,"core",[]);let BQ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(N(Sp))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({}),t})();function ju(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Mp=null;function js(){return Mp}const Pn=new W("DocumentToken");let i1=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return function GQ(){return N(GP)}()},providedIn:"platform"}),t})();const zQ=new W("Location Initialized");let GP=(()=>{class t extends i1{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return js().getBaseHref(this._doc)}onPopState(n){const r=js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){zP()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){zP()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(N(Pn))},t.\u0275prov=q({token:t,factory:function(){return function WQ(){return new GP(N(Pn))}()},providedIn:"platform"}),t})();function zP(){return!!window.history.pushState}function s1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function WP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function es(t){return t&&"?"!==t[0]?"?"+t:t}let Ko=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return pt(KP)},providedIn:"root"}),t})();const qP=new W("appBaseHref");let KP=(()=>{class t extends Ko{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pt(Pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return s1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+es(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+es(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+es(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(N(i1),N(qP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qQ=(()=>{class t extends Ko{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=s1(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+es(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+es(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(N(i1),N(qP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),o1=(()=>{class t{constructor(n){this._subject=new In,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=WP(QP(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+es(r))}normalize(n){return t.stripTrailingSlash(function QQ(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,QP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+es(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+es(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=es,t.joinWithSlash=s1,t.stripTrailingSlash=WP,t.\u0275fac=function(n){return new(n||t)(N(Ko))},t.\u0275prov=q({token:t,factory:function(){return function KQ(){return new o1(N(Ko))}()},providedIn:"root"}),t})();function QP(t){return t.replace(/\/index.html$/,"")}const YP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Wn=(()=>((Wn=Wn||{})[Wn.Decimal=0]="Decimal",Wn[Wn.Percent=1]="Percent",Wn[Wn.Currency=2]="Currency",Wn[Wn.Scientific=3]="Scientific",Wn))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function xr(t,e){const n=Mn(t),r=n[L.NumberSymbols][e];if(typeof r>"u"){if(e===K.CurrencyDecimal)return n[L.NumberSymbols][K.Decimal];if(e===K.CurrencyGroup)return n[L.NumberSymbols][K.Group]}return r}const EY=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function TY(t,e,n,r,i){const o=function f1(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const d=u.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function a1(t,e){return Mn(t)[L.NumberFormats][e]}(e,Wn.Currency),xr(e,K.MinusSign));return o.minFrac=function aY(t){let e;const n=YP[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function h1(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function xY(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function AY(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const I=s.match(EY);if(null===I)throw new Error(`${s} is not a valid digit info`);const y=I[1],T=I[3],R=I[5];null!=y&&(l=p1(y)),null!=T&&(d=p1(T)),null!=R?h=p1(R):null!=T&&d>h&&(h=d)}!function RY(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let _=[];for(u=f.every(I=>!I);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?_=f.splice(p,f.length):(_=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(xr(n,r)),_.length&&(a+=xr(n,i)+_.join("")),g&&(a+=xr(n,K.Exponential)+"+"+g)}else a=xr(n,K.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,K.CurrencyGroup,K.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function p1(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function iO(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class PY{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let aO=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new PY(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),uO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{uO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(H(Wr),H(Yi),H(kp))},t.\u0275dir=_n({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function uO(t,e){t.context.$implicit=e.item}let Hu=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new FY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(H(Wr),H(Yi))},t.\u0275dir=_n({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class FY{constructor(){this.$implicit=null,this.ngIf=null}}function cO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Fe(e)}'.`)}function Qr(t,e){return new $(2100,!1)}let dO=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw Qr();return n.toLowerCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=yn({name:"lowercase",type:t,pure:!0,standalone:!0}),t})(),fO=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function y1(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function sY(t,e,n="en"){const r=function tY(t){return Mn(t)[L.Currencies]}(n)[t]||YP[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return TY(function v1(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw Qr()}}}return t.\u0275fac=function(n){return new(n||t)(H(Xi,16),H(_P,16))},t.\u0275pipe=yn({name:"currency",type:t,pure:!0,standalone:!0}),t})();let aJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({}),t})();const pO="browser";function gO(t){return t===pO}let dJ=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new hJ(N(Pn),window)}),t})();class hJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function fJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mO(this.window.history)||mO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mO(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class _O{}class w1 extends class pJ extends class HQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function jQ(t){Mp||(Mp=t)}(new w1)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function gJ(){return Jl=Jl||document.querySelector("base"),Jl?Jl.getAttribute("href"):null}();return null==n?null:function mJ(t){jp=jp||document.createElement("a"),jp.setAttribute("href",t);const e=jp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iO(document.cookie,e)}}let jp,Jl=null;const yO=new W("TRANSITION_ID"),yJ=[{provide:Ji,useFactory:function _J(t,e,n){return()=>{n.get(Tp).donePromise.then(()=>{const r=js(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[yO,Pn,Qe],multi:!0}];let wJ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const Hp=new W("EventManagerPlugins");let Gp=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(N(Hp),N(Te))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class vO{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=js().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let wO=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Xl=(()=>{class t extends wO{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(EO),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(EO))}}return t.\u0275fac=function(n){return new(n||t)(N(Pn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function EO(t){js().remove(t)}const E1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C1=/%COMP%/g;function zp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zp(t,i,n):(i=i.replace(C1,t),n.push(i))}return n}function bO(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let I1=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new b1(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case ci.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new DJ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case ci.ShadowDom:return new SJ(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=zp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(N(Gp),N(Xl),N(ql))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class b1{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(E1[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(DO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=E1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=E1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,bO(r)):this.eventManager.addEventListener(e,n,bO(r))}}function DO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class DJ extends b1{constructor(e,n,r,i){super(e),this.component=r;const s=zp(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function IJ(t){return"_ngcontent-%COMP%".replace(C1,t)}(i+"-"+r.id),this.hostAttr=function bJ(t){return"_nghost-%COMP%".replace(C1,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class SJ extends b1{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let AJ=(()=>{class t extends vO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(N(Pn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const SO=["alt","control","meta","shift"],RJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kJ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let MJ=(()=>{class t extends vO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>js().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(SO.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function NJ(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&AO.hasOwnProperty(e)&&(e=AO[e]))}return RJ[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),SO.forEach(s=>{s!=i&&(0,kJ[s])(n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(N(Pn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const xO=[{provide:Wo,useValue:pO},{provide:gP,useValue:function PJ(){w1.makeCurrent()},multi:!0},{provide:Pn,useFactory:function FJ(){return function Jj(t){tv=t}(document),document},deps:[]}],LJ=DP(VQ,"browser",xO),RO=new W(""),kO=[{provide:Dp,useClass:class vJ{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?js().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:CP,useClass:K0,deps:[Te,Q0,Dp]},{provide:K0,useClass:K0,deps:[Te,Q0,Dp]}],MO=[{provide:dv,useValue:"root"},{provide:_u,useFactory:function OJ(){return new _u},deps:[]},{provide:Hp,useClass:AJ,multi:!0,deps:[Pn,Te,Wo]},{provide:Hp,useClass:MJ,multi:!0,deps:[Pn]},{provide:I1,useClass:I1,deps:[Gp,Xl,ql]},{provide:bk,useExisting:I1},{provide:wO,useExisting:Xl},{provide:Xl,useClass:Xl,deps:[Pn]},{provide:Gp,useClass:Gp,deps:[Hp,Te]},{provide:_O,useClass:wJ,deps:[]},[]];let UJ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ql,useValue:n.appId},{provide:yO,useExisting:ql},yJ]}}}return t.\u0275fac=function(n){return new(n||t)(N(RO,12))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[...MO,...kO],imports:[aJ,BQ]}),t})(),D1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(N(Pn))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function BJ(){return new D1(N(Pn))}(),r},providedIn:"root"}),t})();function z(...t){return et(t,al(t))}typeof window<"u"&&window;class Yr extends Or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Wp=sl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:KJ}=Array,{getPrototypeOf:QJ,prototype:YJ,keys:JJ}=Object;const{isArray:eX}=Array;function OO(...t){const e=al(t),n=function l$(t){return Ue(fy(t))?t.pop():void 0}(t),{args:r,keys:i}=function XJ(t){if(1===t.length){const e=t[0];if(KJ(e))return{args:e,keys:null};if(function ZJ(t){return t&&"object"==typeof t&&QJ(t)===YJ}(e)){const n=JJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return et([],e);const s=new Ge(function iX(t,e,n=xs){return r=>{FO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)FO(e,()=>{const c=et(t[u],e);let l=!1;c.subscribe(ft(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function rX(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):xs));return n?s.pipe(function nX(t){return ce(e=>function tX(t,e){return eX(e)?t(...e):t(e)}(t,e))}(n)):s}function FO(t,e,n){t?$i(n,t,e):e()}function A1(...t){return function sX(){return Qa(1)}()(et(t,al(t)))}function LO(t){return new Ge(e=>{Fr(t()).subscribe(e)})}function Zl(t,e){const n=Ue(t)?t:()=>t,r=i=>i.error(n());return new Ge(e?i=>e.schedule(r,0,i):r)}function x1(){return Ze((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class UO extends Ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rr;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rr.EMPTY)}return e}refCount(){return x1()(this)}}function hr(t,e){return Ze((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ft(r,u=>{i?.unsubscribe();let c=0;const l=s++;Fr(t(u,l)).subscribe(i=ft(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ed(t){return t<=0?()=>ui:Ze((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function VO(...t){const e=al(t);return Ze((n,r)=>{(e?A1(t,n,e):A1(t,n)).subscribe(r)})}function Jr(t,e){return Ze((n,r)=>{let i=0;n.subscribe(ft(r,s=>t.call(e,s,i++)&&r.next(s)))})}function qp(t){return Ze((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function BO(t=oX){return Ze((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oX(){return new Wp}function vi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jr((i,s)=>t(i,s,r)):xs,ed(1),n?qp(e):BO(()=>new Wp))}function Gs(t,e){return Ue(e)?qe(t,e,1):qe(t,1)}function nn(t,e,n){const r=Ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ze((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xs}function ns(t){return Ze((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,o=>{s=Fr(t(o,ns(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function $O(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ft(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function jO(t,e){return Ze($O(t,e,arguments.length>=2,!0))}function R1(t){return t<=0?()=>ui:Ze((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function HO(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jr((i,s)=>t(i,s,r)):xs,R1(1),n?qp(e):BO(()=>new Wp))}function k1(t){return Ze((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const de="primary";class cX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gu(t){return new cX(t)}function lX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!GO(t[i],e[i]))return!1;return!0}function GO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function zO(t){return Array.prototype.concat.apply([],t)}function WO(t){return t.length>0?t[t.length-1]:null}function rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rs(t){return cN(t)?t:fp(t)?et(Promise.resolve(t)):z(t)}const fX={exact:function QO(t,e,n){if(!Yo(t.segments,e.segments)||!Kp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!QO(t.children[r],e.children[r],n))return!1;return!0},subset:YO},qO={exact:function pX(t,e){return wi(t,e)},subset:function gX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GO(t[n],e[n]))},ignored:()=>!0};function KO(t,e,n){return fX[n.paths](t.root,e.root,n.matrixParams)&&qO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function YO(t,e,n){return JO(t,e,e.segments,n)}function JO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Yo(i,n)||e.hasChildren()||!Kp(i,n,r))}if(t.segments.length===n.length){if(!Yo(t.segments,n)||!Kp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!YO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Yo(t.segments,i)&&Kp(t.segments,i,r)&&t.children[de])&&JO(t.children[de],e,s,r)}}function Kp(t,e,n){return e.every((r,i)=>qO[n](t[i].parameters,r.parameters))}class Qo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return yX.serialize(this)}}class me{constructor(e,n){this.segments=e,this.children=n,this.parent=null,rn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qp(this)}}class td{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Gu(this.parameters)),this._parameterMap}toString(){return tF(this)}}function Yo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let XO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new N1},providedIn:"root"}),t})();class N1{parse(e){const n=new SX(e);return new Qo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nd(e.root,!0)}`,r=function EX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Yp(n)}=${Yp(i)}`).join("&"):`${Yp(n)}=${Yp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yX=new N1;function Qp(t){return t.segments.map(e=>tF(e)).join("/")}function nd(t,e){if(!t.hasChildren())return Qp(t);if(e){const n=t.children[de]?nd(t.children[de],!1):"",r=[];return rn(t.children,(i,s)=>{s!==de&&r.push(`${s}:${nd(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _X(t,e){let n=[];return rn(t.children,(r,i)=>{i===de&&(n=n.concat(e(r,i)))}),rn(t.children,(r,i)=>{i!==de&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===de?[nd(t.children[de],!1)]:[`${i}:${nd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[de]?`${Qp(t)}/${n[0]}`:`${Qp(t)}/(${n.join("//")})`}}function ZO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yp(t){return ZO(t).replace(/%3B/gi,";")}function P1(t){return ZO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jp(t){return decodeURIComponent(t)}function eF(t){return Jp(t.replace(/\+/g,"%20"))}function tF(t){return`${P1(t.path)}${function wX(t){return Object.keys(t).map(e=>`;${P1(e)}=${P1(t[e])}`).join("")}(t.parameters)}`}const CX=/^[^\/()?;=#]+/;function Xp(t){const e=t.match(CX);return e?e[0]:""}const IX=/^[^=?&#]+/,TX=/^[^&#]+/;class SX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new me(e,n)),r}parseSegment(){const e=Xp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new td(Jp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Xp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Xp(this.remaining);i&&(r=i,this.capture(r))}e[Jp(n)]=Jp(r)}parseQueryParam(e){const n=function bX(t){const e=t.match(IX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function DX(t){const e=t.match(TX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=eF(n),s=eF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[de]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}}function O1(t){return t.segments.length>0?new me([],{[de]:t}):t}function Zp(t){const e={};for(const r of Object.keys(t.children)){const s=Zp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function AX(t){if(1===t.numberOfChildren&&t.children[de]){const e=t.children[de];return new me(t.segments.concat(e.segments),e.children)}return t}(new me(t.segments,e))}function Jo(t){return t instanceof Qo}function kX(t,e,n,r,i){if(0===n.length)return zu(e.root,e.root,e.root,r,i);const s=function iF(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return rn(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new rF(n,e,r)}(n);return s.toRoot()?zu(e.root,e.root,new me([],{}),r,i):function o(u){const c=function NX(t,e,n,r){if(t.isAbsolute)return new Wu(e.root,!0,0);if(-1===r)return new Wu(n,n===e.root,0);return function sF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Wu(r,!1,i-s)}(n,r+(rd(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?sd(c.segmentGroup,c.index,s.commands):L1(c.segmentGroup,c.index,s.commands);return zu(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function rd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function id(t){return"object"==typeof t&&null!=t&&t.outlets}function zu(t,e,n,r,i){let o,s={};r&&rn(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:nF(t,e,n);const a=O1(Zp(o));return new Qo(a,s,i)}function nF(t,e,n){const r={};return rn(t.children,(i,s)=>{r[s]=i===e?n:nF(i,e,n)}),new me(t.segments,r)}class rF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rd(r[0]))throw new $(4003,!1);const i=r.find(id);if(i&&i!==WO(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function L1(t,e,n){if(t||(t=new me([],{})),0===t.segments.length&&t.hasChildren())return sd(t,e,n);const r=function OX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(id(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!aF(u,c,o))return s;r+=2}else{if(!aF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[de]=new me(t.segments.slice(r.pathIndex),t.children),sd(s,0,i)}return r.match&&0===i.length?new me(t.segments,{}):r.match&&!t.hasChildren()?U1(t,e,n):r.match?sd(t,0,i):U1(t,e,n)}function sd(t,e,n){if(0===n.length)return new me(t.segments,{});{const r=function PX(t){return id(t[0])?t[0].outlets:{[de]:t}}(n),i={};return rn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=L1(t.children[o],e,s))}),rn(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new me(t.segments,i)}}function U1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(id(s)){const u=FX(s.outlets);return new me(r,u)}if(0===i&&rd(n[0])){r.push(new td(t.segments[e].path,oF(n[0]))),i++;continue}const o=id(s)?s.outlets[de]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rd(a)?(r.push(new td(o,oF(a))),i+=2):(r.push(new td(o,{})),i++)}return new me(r,{})}function FX(t){const e={};return rn(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=U1(new me([],{}),0,n))}),e}function oF(t){const e={};return rn(t,(n,r)=>e[r]=`${n}`),e}function aF(t,e,n){return t==n.path&&wi(e,n.parameters)}class is{constructor(e,n){this.id=e,this.url=n}}class V1 extends is{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends is{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends is{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uF extends is{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LX extends is{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UX extends is{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VX extends is{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BX extends is{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $X extends is{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cF{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=B1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=B1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=$1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $1(e,this._root).map(n=>n.value)}}function B1(t,e){if(t===e.value)return e;for(const n of e.children){const r=B1(t,n);if(r)return r}return null}function $1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$1(t,n);if(r.length)return r.unshift(e),r}return[]}class ss{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function qu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class hF extends dF{constructor(e,n){super(e),this.snapshot=n,j1(this,e)}toString(){return this.snapshot.toString()}}function fF(t,e){const n=function KX(t,e){const o=new tg([],{},{},"",{},de,e,null,t.root,-1,{});return new gF("",new ss(o,[]))}(t,e),r=new Yr([new td("",{})]),i=new Yr({}),s=new Yr({}),o=new Yr({}),a=new Yr(""),u=new Ku(r,i,o,a,s,de,e,n.root);return u.snapshot=n.root,new hF(new ss(u,[]),n)}class Ku{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function QX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class tg{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gF extends dF{constructor(e,n){super(n),this.url=e,j1(this,n)}toString(){return mF(this._root)}}function j1(t,e){e.value._routerState=t,e.children.forEach(n=>j1(t,n))}function mF(t){const e=t.children.length>0?` { ${t.children.map(mF).join(", ")} } `:"";return`${t.value}${e}`}function H1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wi(e.params,n.params)||t.params.next(n.params),function dX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function G1(t,e){const n=wi(t.params,e.params)&&function mX(t,e){return Yo(t,e)&&t.every((n,r)=>wi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||G1(t.parent,e.parent))}function od(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function JX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return od(t,r,i);return od(t,r)})}(t,e,n);return new ss(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>od(t,a)),o}}const r=function XX(t){return new Ku(new Yr(t.url),new Yr(t.params),new Yr(t.queryParams),new Yr(t.fragment),new Yr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>od(t,s));return new ss(r,i)}}const z1="ngNavigationCancelingError";function _F(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function yF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[z1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function vF(t){return wF(t)&&Jo(t.url)}function wF(t){return t&&t[z1]}class ZX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ad,this.attachRef=null}}let ad=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ZX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ng=!1;let W1=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new In,this.deactivateEvents=new In,this.attachEvents=new In,this.detachEvents=new In,this.name=i||de,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,ng);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,ng);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,ng);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,ng);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new eZ(n,a,i.injector);if(r&&function tZ(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(H(ad),H(Wr),function _l(t){return function vj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(SR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(kt(),t)}("name"),H(Z0),H(Fs))},t.\u0275dir=_n({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class eZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ku?this.route:e===ad?this.childContexts:this.parent.get(e,n)}}let q1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&G(0,"router-outlet")},dependencies:[W1],encapsulation:2}),t})();function EF(t,e){return t.providers&&!t._injector&&(t._injector=vp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Q1(t){const e=t.children&&t.children.map(Q1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=q1),n}function kr(t){return t.outlet||de}function CF(t,e){const n=t.filter(r=>kr(r)===e);return n.push(...t.filter(r=>kr(r)!==e)),n}function IF(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class oZ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),H1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=qu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),rn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=qu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cF(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(H1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),H1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=IF(i.snapshot),u=a?.get(gu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class bF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rg{constructor(e,n){this.component=e,this.route=n}}function aZ(t,e,n){const r=t._root;return ud(r,e?e._root:null,n,[r.value])}function ig(t,e,n){return(IF(e)??n).get(t)}function ud(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qu(e);return t.children.forEach(o=>{(function cZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function lZ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(t.url,e.url)||!wi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G1(t,e)||!wi(t.queryParams,e.queryParams);default:return!G1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new bF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ud(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rg(a.outlet.component,o))}else o&&cd(e,a,i),i.canActivateChecks.push(new bF(r)),ud(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),rn(s,(o,a)=>cd(o,n.getContext(a),i)),i}function cd(t,e,n){const r=qu(t),i=t.value;rn(r,(s,o)=>{cd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new rg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ld(t){return"function"==typeof t}function Y1(t){return t instanceof Wp||"EmptyError"===t?.name}const sg=Symbol("INITIAL_VALUE");function Qu(){return hr(t=>OO(t.map(e=>e.pipe(ed(1),VO(sg)))).pipe(ce(e=>{for(const n of e)if(!0!==n){if(n===sg)return sg;if(!1===n||n instanceof Qo)return n}return!0}),Jr(e=>e!==sg),ed(1)))}function TF(t){return function WB(...t){return Nx(t)}(nn(e=>{if(Jo(e))throw _F(0,e)}),ce(e=>!0===e))}const J1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DF(t,e,n,r,i){const s=X1(t,e,n);return s.matched?function SZ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=t.get(o),u=function mZ(t){return t&&ld(t.canMatch)}(a)?a.canMatch(e,n):a(e,n);return rs(u)})).pipe(Qu(),TF()):z(!0)}(r=EF(e,r),e,n).pipe(ce(o=>!0===o?s:{...J1})):z(s)}function X1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...J1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lX)(n,t,e);if(!i)return{...J1};const s={};rn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function og(t,e,n,r,i="corrected"){if(n.length>0&&function RZ(t,e,n){return n.some(r=>ag(t,e,r)&&kr(r)!==de)}(t,n,r)){const o=new me(e,function xZ(t,e,n,r){const i={};i[de]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&kr(s)!==de){const o=new me([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[kr(s)]=o}return i}(t,e,r,new me(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function kZ(t,e,n){return n.some(r=>ag(t,e,r))}(t,n,r)){const o=new me(t.segments,function AZ(t,e,n,r,i,s){const o={};for(const a of r)if(ag(t,n,a)&&!i[kr(a)]){const u=new me([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[kr(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new me(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ag(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function SF(t,e,n,r){return!!(kr(t)===r||r!==de&&ag(e,n,t))&&("**"===t.path||X1(e,t,n).matched)}function AF(t,e,n){return 0===e.length&&!t.children[n]}const ug=!1;class cg{constructor(e){this.segmentGroup=e||null}}class xF{constructor(e){this.urlTree=e}}function dd(t){return Zl(new cg(t))}function RF(t){return Zl(new xF(t))}class OZ{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=og(this.urlTree.root,[],[],this.config).segmentGroup,n=new me(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,de).pipe(ce(s=>this.createUrlTree(Zp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ns(s=>{if(s instanceof xF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof cg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,de).pipe(ce(i=>this.createUrlTree(Zp(i),e.queryParams,e.fragment))).pipe(ns(i=>{throw i instanceof cg?this.noMatchError(i):i}))}noMatchError(e){return new $(4002,ug)}createUrlTree(e,n,r){const i=O1(e);return new Qo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ce(s=>new me([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return et(i).pipe(Gs(s=>{const o=r.children[s],a=CF(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ce(u=>({segment:u,outlet:s})))}),jO((s,o)=>(s[o.outlet]=o.segment,s),{}),HO())}expandSegment(e,n,r,i,s,o){return et(r).pipe(Gs(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ns(c=>{if(c instanceof cg)return z(null);throw c}))),vi(a=>!!a),ns((a,u)=>{if(Y1(a))return AF(n,i,s)?z(new me([],{})):dd(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return SF(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):dd(n):dd(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RF(s):this.lineralizeSegments(r,s).pipe(qe(o=>{const a=new me(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=X1(n,i,s);if(!a)return dd(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?RF(d):this.lineralizeSegments(i,d).pipe(qe(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=EF(r,e),r.loadChildren?(r._loadedRoutes?z({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new me(i,{})))):z(new me(i,{}))):DF(n,r,i,e).pipe(hr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(qe(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=og(n,a,u,h),g=new me(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ce(y=>new me(a,y)));if(0===h.length&&0===p.length)return z(new me(a,{}));const _=kr(r)===s;return this.expandSegment(d,g,h,p,_?de:s,!0).pipe(ce(I=>new me(a.concat(I.segments),I.children)))})):dd(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function DZ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=t.get(o),u=function hZ(t){return t&&ld(t.canLoad)}(a)?a.canLoad(e,n):a(e,n);return rs(u)})).pipe(Qu(),TF())}(e,n,r).pipe(qe(i=>i?this.configLoader.loadChildren(e,n).pipe(nn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function NZ(t){return Zl(yF(ug,3))}())):z({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[de])return Zl(new $(4e3,ug));i=i.children[de]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Qo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return rn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return rn(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new $(4001,ug);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class LZ{}class BZ{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=og(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(ce(n=>{if(null===n)return null;const r=new tg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ss(r,n),s=new gF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=pF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return et(Object.keys(r.children)).pipe(Gs(i=>{const s=r.children[i],o=CF(n,i);return this.processSegmentGroup(e,o,s,i)}),jO((i,s)=>i&&s?(i.push(...s),i):null),function aX(t,e=!1){return Ze((n,r)=>{let i=0;n.subscribe(ft(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),qp(null),HO(),ce(i=>{if(null===i)return null;const s=kF(i);return function $Z(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return et(n).pipe(Gs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),vi(o=>!!o),ns(o=>{if(Y1(o))return AF(r,i,s)?z([]):z(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!SF(n,r,i,s))return z(null);let o;if("**"===n.path){const a=i.length>0?WO(i).parameters:{},u=NF(r)+i.length;o=z({snapshot:new tg(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OF(n),kr(n),n.component??n._loadedComponent??null,n,MF(r),u,FF(n),u),consumedSegments:[],remainingSegments:[]})}else o=DF(r,n,i,e).pipe(ce(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=NF(r)+u.length;return{snapshot:new tg(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OF(n),kr(n),n.component??n._loadedComponent??null,n,MF(r),d,FF(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(hr(a=>{if(null===a)return z(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function jZ(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=og(r,c,l,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ce(_=>null===_?null:[new ss(u,_)]));if(0===h.length&&0===p.length)return z([new ss(u,[])]);const g=kr(n)===s;return this.processSegment(d,h,f,p,g?de:s).pipe(ce(_=>null===_?null:[new ss(u,_)]))}))}}function HZ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kF(t){const e=[],n=new Set;for(const r of t){if(!HZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=kF(r.children);e.push(new ss(r.value,i))}return e.filter(r=>!n.has(r))}function MF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function NF(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function OF(t){return t.data||{}}function FF(t){return t.resolve||{}}const Z1=Symbol("RouteTitle");function LF(t){return"string"==typeof t.title||null===t.title}function ew(t){return hr(e=>{const n=t(e);return n?et(n).pipe(ce(()=>e)):z(e)})}let UF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Z1]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return pt(VF)},providedIn:"root"}),t})(),VF=(()=>{class t extends UF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(N(D1))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class JZ{}class ZZ extends class XZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const tw=new W("",{providedIn:"root",factory:()=>({})}),nw=new W("ROUTES");let rw=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=rs(n.loadComponent()).pipe(nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),k1(()=>{this.componentLoaders.delete(n)})),i=new UO(r,()=>new Or).pipe(x1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=zO(u.get(nw,[],Q.Self|Q.Optional)));return{routes:c.map(Q1),injector:u}}),k1(()=>{this.childrenLoaders.delete(r)})),o=new UO(s,()=>new Or).pipe(x1());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return rs(n()).pipe(qe(r=>r instanceof A2||Array.isArray(r)?z(r):et(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(N(Qe),N(G0))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tee{}class nee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function ree(t){throw t}function iee(t,e,n){return e.parse("/")}const see={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $F(){const t=pt(XO),e=pt(ad),n=pt(o1),r=pt(Qe),i=pt(G0),s=pt(nw,{optional:!0})??[],o=pt(tw,{optional:!0})??{},a=pt(VF),u=pt(UF,{optional:!0}),c=pt(tee,{optional:!0}),l=pt(JZ,{optional:!0}),d=new sn(null,t,e,n,r,i,zO(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function aee(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let sn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Or,this.errorHandler=ree,this.malformedUriErrorHandler=iee,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>z(void 0),this.urlHandlingStrategy=new nee,this.routeReuseStrategy=new ZZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(rw),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new HX(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new jX(h)),this.ngModule=o.get(zo),this.console=o.get(sQ);const d=o.get(Te);this.isNgZoneEnabled=d instanceof Te&&Te.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function hX(){return new Qo(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fF(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Jr(i=>0!==i.id),ce(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hr(i=>{let s=!1,o=!1;return z(i).pipe(nn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return jF(a.source)&&(this.browserUrlTree=a.extractedUrl),z(a).pipe(hr(d=>{const h=this.transitions.getValue();return r.next(new V1(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ui:Promise.resolve(d)}),function FZ(t,e,n,r){return hr(i=>function PZ(t,e,n,r,i){return new OZ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ce(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),nn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function zZ(t,e,n,r,i,s){return qe(o=>function VZ(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new BZ(t,e,n,r,i,o,a,s).recognize().pipe(hr(u=>null===u?function UZ(t){return new Ge(e=>e.error(t))}(new LZ):z(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ce(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),nn(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new LX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,v=new V1(h,this.serializeUrl(f),p,g);r.next(v);const I=fF(f,this.rootComponentType).snapshot;return z(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ui}),nn(a=>{const u=new UX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ce(a=>i={...a,guards:aZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function yZ(t,e){return qe(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function vZ(t,e,n,r){return et(t).pipe(qe(i=>function TZ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=ig(a,e,i);return rs(function gZ(t){return t&&ld(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):u(t,e,n,r)).pipe(vi())})).pipe(Qu()):z(!0)}(i.component,i.route,n,e,r)),vi(i=>!0!==i,!0))}(o,r,i,t).pipe(qe(a=>a&&function dZ(t){return"boolean"==typeof t}(a)?function wZ(t,e,n,r){return et(e).pipe(Gs(i=>A1(function CZ(t,e){return null!==t&&e&&e(new GX(t)),z(!0)}(i.route.parent,r),function EZ(t,e){return null!==t&&e&&e(new WX(t)),z(!0)}(i.route,r),function bZ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function uZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>LO(()=>z(o.guards.map(u=>{const c=ig(u,o.node,n);return rs(function pZ(t){return t&&ld(t.canActivateChild)}(c)?c.canActivateChild(r,t):c(r,t)).pipe(vi())})).pipe(Qu())));return z(s).pipe(Qu())}(t,i.path,n),function IZ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>LO(()=>{const o=ig(s,e,n);return rs(function fZ(t){return t&&ld(t.canActivate)}(o)?o.canActivate(e,t):o(e,t)).pipe(vi())}));return z(i).pipe(Qu())}(t,i.route,n))),vi(i=>!0!==i,!0))}(r,s,t,e):z(a)),ce(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),nn(a=>{if(i.guardsResult=a.guardsResult,Jo(a.guardsResult))throw _F(0,a.guardsResult);const u=new VX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Jr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),ew(a=>{if(a.guards.canActivateChecks.length)return z(a).pipe(nn(u=>{const c=new BX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),hr(u=>{let c=!1;return z(u).pipe(function WZ(t,e){return qe(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return et(i).pipe(Gs(o=>function qZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!LF(i)&&(s[Z1]=i.title),function KZ(t,e,n,r){const i=function QZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const s={};return et(i).pipe(qe(o=>function YZ(t,e,n,r){const i=ig(t,e,r);return rs(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(vi(),nn(a=>{s[o]=a}))),R1(1),function uX(t){return ce(()=>t)}(s),ns(o=>Y1(o)?ui:Zl(o)))}(s,t,e,r).pipe(ce(o=>(t._resolvedData=o,t.data=pF(t,n).resolve,i&&LF(i)&&(t.data[Z1]=i.title),null)))}(o.route,r,t,e)),nn(()=>s++),R1(1),qe(o=>s===i.length?z(n):ui))})}(this.paramsInheritanceStrategy,this.ngModule.injector),nn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),nn(u=>{const c=new $X(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),ew(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(nn(d=>{c.component=d}),ce(()=>{})));for(const d of c.children)l.push(...u(d));return l};return OO(u(a.targetSnapshot.root)).pipe(qp(),ed(1))}),ew(()=>this.afterPreactivation()),ce(a=>{const u=function YX(t,e,n){const r=od(t,e._root,n?n._root:void 0);return new hF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),nn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ce(r=>(new oZ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),nn({next(){s=!0},complete(){s=!0}}),k1(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ns(a=>{if(o=!0,wF(a)){vF(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new eg(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),vF(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jF(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new uF(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ui}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(Q1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),kX(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Jo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function uee(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new $(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...see}:!1===r?{...oee}:r,Jo(n))return KO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return KO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new zs(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new eg(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){$v()},t.\u0275prov=q({token:t,factory:function(){return $F()},providedIn:"root"}),t})();function jF(t){return"imperative"!==t}let Ws=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Or,this.subscription=n.events.subscribe(s=>{s instanceof zs&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ju(this.skipLocationChange),replaceUrl:ju(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ju(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(H(sn),H(Ku),H(Ko))},t.\u0275dir=_n({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Bs("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&p0("target",r.target)("href",r.href,gt)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vo]}),t})();class HF{}let GF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(n=>n instanceof zs),Gs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=vp(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return et(i).pipe(Qa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(qe(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?et([s,this.loader.loadComponent(r)]).pipe(Qa()):s})}}return t.\u0275fac=function(n){return new(n||t)(N(sn),N(G0),N(Fs),N(HF),N(rw))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const zF=new W("");let dee=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof V1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof lF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new lF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){$v()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const WF=new W("ROUTER_FORROOT_GUARD"),qF=new W(""),hee=[o1,{provide:XO,useClass:N1},{provide:sn,useFactory:$F},ad,{provide:Ku,useFactory:function fee(t){return t.routerState.root},deps:[sn]},rw];function pee(){return new bP("Router",sn)}let KF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[hee,[],QF(n),{provide:WF,useFactory:yee,deps:[[sn,new ve,new bl]]},{provide:tw,useValue:r||{}},r?.useHash?{provide:Ko,useClass:qQ}:{provide:Ko,useClass:KP},{provide:zF,useFactory:()=>{const t=pt(sn),e=pt(dJ),n=pt(tw);return n.scrollOffset&&e.setOffset(n.scrollOffset),new dee(t,e,n)}},r?.preloadingStrategy?Tee(r.preloadingStrategy):[],{provide:bP,multi:!0,useFactory:pee},r?.initialNavigation?wee(r):[],[{provide:YF,useFactory:vee},{provide:mP,multi:!0,useExisting:YF}]]}}static forChild(n){return{ngModule:t,providers:[QF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(N(WF,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({}),t})();function yee(t){return"guarded"}function QF(t){return[{provide:nw,multi:!0,useValue:t}]}function vee(){const t=pt(Qe);return e=>{const n=t.get(Sp);if(e!==n.components[0])return;const r=t.get(sn),i=t.get(JF);1===t.get(sw)&&r.initialNavigation(),t.get(qF,null,Q.Optional)?.setUpPreloading(),t.get(zF,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const YF=new W("");function wee(t){return["disabled"===t.initialNavigation?[{provide:Ji,multi:!0,useFactory:()=>{const t=pt(sn);return()=>{t.setUpLocationChangeListener()}}},{provide:sw,useValue:2}]:[],"enabledBlocking"===t.initialNavigation?[{provide:sw,useValue:0},{provide:Ji,multi:!0,deps:[Qe],useFactory:t=>{const e=t.get(zQ,Promise.resolve(null));let n=!1;return()=>e.then(()=>new Promise(i=>{const s=t.get(sn),o=t.get(JF);(function r(i){t.get(sn).events.pipe(Jr(o=>o instanceof zs||o instanceof eg||o instanceof uF),ce(o=>o instanceof zs||o instanceof eg&&(0===o.code||1===o.code)&&null),Jr(o=>null!==o),ed(1)).subscribe(()=>{i()})})(()=>{i(!0),n=!0}),s.afterPreactivation=()=>(i(!0),n||o.closed?z(void 0):o),s.initialNavigation()}))}}]:[]]}const JF=new W("",{factory:()=>new Or}),sw=new W("",{providedIn:"root",factory:()=>1});function Tee(t){return[GF,{provide:qF,useExisting:GF},{provide:HF,useExisting:t}]}let Dee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-cart"]],decls:2,vars:0,template:function(n,r){1&n&&(C(0,"p"),x(1,"cart works!"),b())}}),t})();function XF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){XF(s,r,i,o,a,"next",u)}function a(u){XF(s,r,i,o,a,"throw",u)}o(void 0)})}}const P=function(t,e){if(!t)throw Yu(e)},Yu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},ZF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e3=function(t){const e=ZF(t);return hg.encodeByteArray(e,!0)},fg=function(t){return e3(t).replace(/\./g,"")},aw=function(t){try{return hg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Aee(t){return t3(void 0,t)}function t3(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xee(n)||(t[n]=t3(t[n],e[n]));return t}function xee(t){return"__proto__"!==t}class Ju{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function jt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function gg(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function uw(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function n3(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ks(){return"object"==typeof indexedDB}function Xu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function mg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Pee(t,e){return t.replace(Oee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Oee=/\{\$([^}]+)}/g;function hd(t){return JSON.parse(t)}function on(t){return JSON.stringify(t)}const _g=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=hd(aw(s[0])||""),n=hd(aw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function as(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function cw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(r3(s)&&r3(o)){if(!fd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r3(t){return null!==t&&"object"==typeof t}function pd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Uee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Bee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function $ee(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=lw),void 0===i.error&&(i.error=lw),void 0===i.complete&&(i.complete=lw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lw(){}const wg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function dw(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function nt(t){return t&&t._delegate?t._delegate:t}class Dt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xo="[DEFAULT]";class Kee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ju;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Yee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Xo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const hw=[];var we=(()=>{return(t=we||(we={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",we;var t})();const i3={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Xee=we.INFO,Zee={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},ete=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Zee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Qs{constructor(e){this.name=e,this._logLevel=Xee,this._logHandler=ete,this._userLogHandler=null,hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}let s3,o3;const a3=new WeakMap,fw=new WeakMap,u3=new WeakMap,pw=new WeakMap,gw=new WeakMap;let mw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return fw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||u3.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ute(t){return"function"==typeof t?function ate(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rte(){return o3||(o3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_w(this),e),us(a3.get(this))}:function(...e){return us(t.apply(_w(this),e))}:function(e,...n){const r=t.call(_w(this),e,...n);return u3.set(r,e.sort?e.sort():[e]),us(r)}}(t):(t instanceof IDBTransaction&&function ste(t){if(fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fw.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function nte(){return s3||(s3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mw):t)}function us(t){if(t instanceof IDBRequest)return function ite(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&a3.set(n,t)}).catch(()=>{}),gw.set(e,t),e}(t);if(pw.has(t))return pw.get(t);const e=ute(t);return e!==t&&(pw.set(t,e),gw.set(e,t)),e}const _w=t=>gw.get(t);function Eg(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(us(o.result),u.oldVersion,u.newVersion,us(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function yw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),us(n).then(()=>{})}const cte=["get","getKey","getAll","getAllKeys","count"],lte=["put","add","delete","clear"],vw=new Map;function c3(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vw.get(e))return vw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cte.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return vw.set(e,s),s}!function ote(t){mw=t(mw)}(t=>({...t,get:(e,n,r)=>c3(e,n)||t.get(e,n,r),has:(e,n)=>!!c3(e,n)||t.has(e,n)}));class dte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function hte(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ww="@firebase/app",Zo=new Qs("@firebase/app"),Ew="[DEFAULT]",Ute={[ww]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ea=new Map,Cg=new Map;function Vte(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ot(t){const e=t.name;if(Cg.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(const n of ea.values())Vte(n,t);return!0}function qn(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ys=new Xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $te{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const Js="9.9.3";function jte(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ew,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Ys.create("bad-app-name",{appName:String(r)});const i=ea.get(r);if(i){if(fd(t,i.options)&&fd(n,i.config))return i;throw Ys.create("duplicate-app",{appName:r})}const s=new Jee(r);for(const a of Cg.values())s.addComponent(a);const o=new $te(t,n,s);return ea.set(r,o),o}function Ei(t=Ew){const e=ea.get(t);if(!e)throw Ys.create("no-app",{appName:t});return e}function d3(){return Array.from(ea.values())}function he(t,e,n){var r;let i=null!==(r=Ute[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Zo.warn(a.join(" "))}Ot(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gd="firebase-heartbeat-store";let Iw=null;function h3(){return Iw||(Iw=Eg("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gd)}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),Iw}function bw(){return(bw=m(function*(t){var e;try{return(yield h3()).transaction(gd).objectStore(gd).get(p3(t))}catch(n){if(n instanceof fr)Zo.warn(n.message);else{const r=Ys.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});Zo.warn(r.message)}}})).apply(this,arguments)}function f3(t,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=m(function*(t,e){var n;try{const i=(yield h3()).transaction(gd,"readwrite");return yield i.objectStore(gd).put(e,p3(t)),i.done}catch(r){if(r instanceof fr)Zo.warn(r.message);else{const i=Ys.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});Zo.warn(i.message)}}})).apply(this,arguments)}function p3(t){return`${t.name}!${t.options.appId}`}class Kte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=g3();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=g3(),{heartbeatsToSend:r,unsentEntries:i}=function Qte(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),m3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=fg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function g3(){return(new Date).toISOString().substring(0,10)}class Yte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ks()&&Xu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function zte(t){return bw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return f3(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return f3(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function m3(t){return fg(JSON.stringify({version:2,heartbeats:t})).length}!function Jte(t){Ot(new Dt("platform-logger",e=>new dte(e),"PRIVATE")),Ot(new Dt("heartbeat",e=>new Kte(e),"PRIVATE")),he(ww,"0.7.31",t),he(ww,"0.7.31","esm2017"),he("fire-js","")}("");var B,Xte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cs={},Dw=Dw||{},te=Xte||self;function Ig(){}function Sw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function md(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Aw="closure_uid_"+(1e9*Math.random()>>>0),ene=0;function tne(t,e,n){return t.call.apply(t.bind,arguments)}function nne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tne:nne).apply(null,arguments)}function bg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function un(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xs(){this.s=this.s,this.o=this.o}var ine={};Xs.prototype.s=!1,Xs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function Zte(t){return Object.prototype.hasOwnProperty.call(t,Aw)&&t[Aw]||(t[Aw]=++ene)}(this);delete ine[t]}},Xs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},y3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function v3(t){return Array.prototype.concat.apply([],arguments)}function xw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tg(t){return/^[\s\xa0]*$/.test(t)}var Fn,w3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function On(t,e){return-1!=t.indexOf(e)}function Rw(t,e){return t<e?-1:t>e?1:0}e:{var E3=te.navigator;if(E3){var C3=E3.userAgent;if(C3){Fn=C3;break e}}Fn=""}function kw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I3(t){const e={};for(const n in t)e[n]=t[n];return e}var b3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T3(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<b3.length;s++)n=b3[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mw(t){return Mw[" "](t),t}Mw[" "]=Ig;var Dg,t,ane=On(Fn,"Opera"),ec=On(Fn,"Trident")||On(Fn,"MSIE"),D3=On(Fn,"Edge"),Nw=D3||ec,S3=On(Fn,"Gecko")&&!(On(Fn.toLowerCase(),"webkit")&&!On(Fn,"Edge"))&&!(On(Fn,"Trident")||On(Fn,"MSIE"))&&!On(Fn,"Edge"),une=On(Fn.toLowerCase(),"webkit")&&!On(Fn,"Edge");function A3(){var t=te.document;return t?t.documentMode:void 0}e:{var Pw="",Ow=(t=Fn,S3?/rv:([^\);]+)(\)|;)/.exec(t):D3?/Edge\/([\d\.]+)/.exec(t):ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):une?/WebKit\/(\S+)/.exec(t):ane?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Ow&&(Pw=Ow?Ow[1]:""),ec){var Fw=A3();if(null!=Fw&&Fw>parseFloat(Pw)){Dg=String(Fw);break e}}Dg=Pw}var cne={};var dne=te.document&&ec&&(A3()||parseInt(Dg,10))||void 0,hne=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Ig,e),te.removeEventListener("test",Ig,e)}catch{}return t}();function bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function _d(t,e){if(bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(S3){e:{try{Mw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_d.Z.h.call(this)}}bn.prototype.h=function(){this.defaultPrevented=!0},un(_d,bn);var fne={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yd="closure_listenable_"+(1e6*Math.random()|0),pne=0;function gne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++pne,this.ca=this.fa=!1}function Sg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ag(t){this.src=t,this.g={},this.h=0}function Uw(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=_3(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Vw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Ag.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Vw(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new gne(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Bw="closure_lm_"+(1e6*Math.random()|0),$w={};function R3(t,e,n,r,i){if(r&&r.once)return M3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)R3(t,e[s],n,r,i);return null}return n=zw(n),t&&t[yd]?t.N(e,n,md(r)?!!r.capture:!!r,i):k3(t,e,n,!1,r,i)}function k3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=md(i)?!!i.capture:!!i,a=Hw(t);if(a||(t[Bw]=a=new Ag(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function mne(){var e=_ne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(P3(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function M3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)M3(t,e[s],n,r,i);return null}return n=zw(n),t&&t[yd]?t.O(e,n,md(r)?!!r.capture:!!r,i):k3(t,e,n,!0,r,i)}function N3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)N3(t,e[s],n,r,i);else r=md(r)?!!r.capture:!!r,n=zw(n),t&&t[yd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Vw(s=t.g[e],n,r,i))&&(Sg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Hw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vw(e,n,r,i)),(n=-1<t?e[t]:null)&&jw(n))}function jw(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[yd])Uw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(P3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hw(e))?(Uw(n,t),0==n.h&&(n.src=null,e[Bw]=null)):Sg(t)}}}function P3(t){return t in $w?$w[t]:$w[t]="on"+t}function _ne(t,e){if(t.ca)t=!0;else{e=new _d(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&jw(t),t=n.call(r,e)}return t}function Hw(t){return(t=t[Bw])instanceof Ag?t:null}var Gw="__closure_events_fn_"+(1e9*Math.random()>>>0);function zw(t){return"function"==typeof t?t:(t[Gw]||(t[Gw]=function(e){return t.handleEvent(e)}),t[Gw])}function Ht(){Xs.call(this),this.i=new Ag(this),this.P=this,this.I=null}function cn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new bn(e,t);else if(e instanceof bn)e.target=e.target||t;else{var i=e;T3(e=new bn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xg(o,r,!0,e)&&i}if(i=xg(o=e.g=t,r,!0,e)&&i,i=xg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xg(o=e.g=n[s],r,!1,e)&&i}function xg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Uw(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}un(Ht,Xs),Ht.prototype[yd]=!0,Ht.prototype.removeEventListener=function(t,e,n,r){N3(this,t,e,n,r)},Ht.prototype.M=function(){if(Ht.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sg(n[r]);delete t.g[e],t.h--}}this.I=null},Ht.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ww=te.JSON.stringify;function yne(){var t=F3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Kw,O3=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new wne,t=>t.reset());class wne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ene(t){te.setTimeout(()=>{throw t},0)}function qw(t,e){Kw||function Cne(){var t=te.Promise.resolve(void 0);Kw=function(){t.then(Ine)}}(),Qw||(Kw(),Qw=!0),F3.add(t,e)}var Qw=!1,F3=new class vne{constructor(){this.h=this.g=null}add(e,n){const r=O3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Ine(){for(var t;t=yne();){try{t.h.call(t.g)}catch(n){Ene(n)}var e=O3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qw=!1}function Rg(t,e){Ht.call(this),this.h=t||1,this.g=e||te,this.j=an(this.kb,this),this.l=Date.now()}function Yw(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Jw(t,e,n){if("function"==typeof t)n&&(t=an(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=an(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function L3(t){t.g=Jw(()=>{t.g=null,t.i&&(t.i=!1,L3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}un(Rg,Ht),(B=Rg.prototype).da=!1,B.S=null,B.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cn(this,"tick"),this.da&&(Yw(this),this.start()))}},B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){Rg.Z.M.call(this),Yw(this),delete this.g};class bne extends Xs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L3(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(t){Xs.call(this),this.h=t,this.g={}}un(vd,Xs);var U3=[];function V3(t,e,n,r){Array.isArray(n)||(n&&(U3[0]=n.toString()),n=U3);for(var i=0;i<n.length;i++){var s=R3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function B3(t){kw(t.g,function(e,n){this.g.hasOwnProperty(n)&&jw(e)},t),t.g={}}function kg(){this.g=!0}function tc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ane(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ww(n)}catch{return e}}(t,n)+(r?" "+r:"")})}vd.prototype.M=function(){vd.Z.M.call(this),B3(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kg.prototype.Aa=function(){this.g=!1},kg.prototype.info=function(){};var ta={},$3=null;function Mg(){return $3=$3||new Ht}function j3(t){bn.call(this,ta.Ma,t)}function wd(t){const e=Mg();cn(e,new j3(e,t))}function H3(t,e){bn.call(this,ta.STAT_EVENT,t),this.stat=e}function Ln(t){const e=Mg();cn(e,new H3(e,t))}function G3(t,e){bn.call(this,ta.Na,t),this.size=e}function Ed(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}ta.Ma="serverreachability",un(j3,bn),ta.STAT_EVENT="statevent",un(H3,bn),ta.Na="timingevent",un(G3,bn);var Ng={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},z3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xw(){}function q3(){}Xw.prototype.h=null;var tE,Cd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zw(){bn.call(this,"d")}function eE(){bn.call(this,"c")}function Pg(){}function Id(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new vd(this),this.P=xne,this.W=new Rg(t=Nw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new K3}function K3(){this.i=null,this.g="",this.h=!1}un(Zw,bn),un(eE,bn),un(Pg,Xw),Pg.prototype.g=function(){return new XMLHttpRequest},Pg.prototype.i=function(){return{}},tE=new Pg;var xne=45e3,nE={},Og={};function rE(t,e,n){t.K=1,t.v=Bg(ls(e)),t.s=n,t.U=!0,Q3(t,null)}function Q3(t,e){t.F=Date.now(),bd(t),t.A=ls(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),iL(n.h,"t",r),t.C=0,n=t.l.H,t.h=new K3,t.g=SL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new bne(an(t.Ia,t,t.g),t.O)),V3(t.V,t.g,"readystatechange",t.gb),e=t.H?I3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wd(1),function Tne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Y3(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function J3(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Rne(t,n),i==Og){4==e&&(t.o=4,Ln(14),r=!1),tc(t.j,t.m,null,"[Incomplete Response]");break}if(i==nE){t.o=4,Ln(15),tc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}tc(t.j,t.m,i,null),iE(t,i)}Y3(t)&&i!=Og&&i!=nE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gE(e),e.L=!0,Ln(11))):(tc(t.j,t.m,n,"[Invalid Chunked Response]"),na(t),Td(t))}function Rne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Og:(n=Number(e.substring(n,r)),isNaN(n)?nE:(r+=1)+n>e.length?Og:(e=e.substr(r,n),t.C=r+n,e))}function bd(t){t.Y=Date.now()+t.P,X3(t,t.P)}function X3(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ed(an(t.eb,t),e)}function Fg(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Td(t){0==t.l.G||t.I||IL(t.l,t)}function na(t){Fg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Yw(t.W),B3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function iE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||aE(n.i,t)))if(n.I=t.N,!t.J&&aE(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Wg(n),Gg(n)}pE(n),Ln(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ed(an(n.ab,n),6e3));if(1>=aL(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else sa(n,11)}else if((t.J||n.g==t)&&Wg(n),!Tg(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(On(p,"spdy")||On(p,"quic")||On(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(uE(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Ye(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=DL(r,r.H?r.la:null,r.W),o.J){uL(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Fg(a),bd(a)),r.g=o}else EL(r);0<n.l.length&&zg(n)}else"stop"!=c[0]&&"close"!=c[0]||sa(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sa(n,7):hE(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}wd(4)}catch{}}function sE(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sw(t)||"string"==typeof t)y3(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Sw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function kne(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Sw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function nc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof nc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oE(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ra(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ra(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(B=Id.prototype).setTimeout=function(t){this.P=t},B.gb=function(t){t=t.target;const e=this.L;e&&3==ds(t)?e.l():this.Ia(t)},B.Ia=function(t){try{if(t==this.g)e:{const l=ds(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||Nw||this.g&&(this.h.h||this.g.ga()||mL(this.g)))){this.I||4!=l||7==e||wd(8==e||0>=d?3:2),Fg(this);var n=this.g.ba();this.N=n;t:if(Y3(this)){var r=mL(this.g);t="";var i=r.length,s=4==ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){na(this),Td(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function Dne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ln(12),na(this),Td(this);break e}tc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iE(this,n)}this.U?(J3(this,l,o),Nw&&this.i&&3==l&&(V3(this.V,this.W,"tick",this.fb),this.W.start())):(tc(this.j,this.m,o,null),iE(this,o)),4==l&&na(this),this.i&&!this.I&&(4==l?IL(this.l,this):(this.i=!1,bd(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ln(12)):(this.o=0,Ln(13)),na(this),Td(this)}}}catch{}},B.fb=function(){if(this.g){var t=ds(this.g),e=this.g.ga();this.C<e.length&&(Fg(this),J3(this,t,e),this.i&&4!=t&&bd(this))}},B.cancel=function(){this.I=!0,na(this)},B.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Sne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wd(3),Ln(17)),na(this),this.o=2,Td(this)):X3(this,this.Y-t)},(B=nc.prototype).R=function(){oE(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},B.T=function(){return oE(this),this.g.concat()},B.get=function(t,e){return ra(this.h,t)?this.h[t]:e},B.set=function(t,e){ra(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},B.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Z3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ia(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ia){this.g=void 0!==e?e:t.g,Lg(this,t.j),this.s=t.s,Ug(this,t.i),Vg(this,t.m),this.l=t.l,e=t.h;var n=new Ad;n.i=e.i,e.g&&(n.g=new nc(e.g),n.h=e.h),eL(this,n),this.o=t.o}else t&&(n=String(t).match(Z3))?(this.g=!!e,Lg(this,n[1]||"",!0),this.s=Dd(n[2]||""),Ug(this,n[3]||"",!0),Vg(this,n[4]),this.l=Dd(n[5]||"",!0),eL(this,n[6]||"",!0),this.o=Dd(n[7]||"")):(this.g=!!e,this.h=new Ad(null,this.g))}function ls(t){return new ia(t)}function Lg(t,e,n){t.j=n?Dd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ug(t,e,n){t.i=n?Dd(e,!0):e}function Vg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eL(t,e,n){e instanceof Ad?(t.h=e,function Bne(t,e){e&&!t.j&&(Zs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nL(this,r),iL(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Sd(e,Une)),t.h=new Ad(e,t.g))}function Ye(t,e,n){t.h.set(e,n)}function Bg(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,One),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function One(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ia.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sd(e,tL,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Sd(e,tL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sd(n,"/"==n.charAt(0)?Lne:Fne,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sd(n,Vne)),t.join("")};var tL=/[#\/\?@]/g,Fne=/[#\?:]/g,Lne=/[#\?]/g,Une=/[#\?@]/g,Vne=/#/g;function Ad(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zs(t){t.g||(t.g=new nc,t.h=0,t.i&&function Mne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nL(t,e){Zs(t),e=rc(t,e),ra(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ra((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&oE(t)))}function rL(t,e){return Zs(t),e=rc(t,e),ra(t.g.h,e)}function iL(t,e,n){nL(t,e),0<n.length&&(t.i=null,t.g.set(rc(t,e),xw(n)),t.h+=n.length)}function rc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sL(t){this.l=t||jne,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Ad.prototype).add=function(t,e){Zs(this),this.i=null,t=rc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},B.forEach=function(t,e){Zs(this),this.g.forEach(function(n,r){y3(n,function(i){t.call(e,i,r,this)},this)},this)},B.T=function(){Zs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},B.R=function(t){Zs(this);var e=[];if("string"==typeof t)rL(this,t)&&(e=v3(e,this.g.get(rc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=v3(e,t[n])}return e},B.set=function(t,e){return Zs(this),this.i=null,rL(this,t=rc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},B.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var jne=10;function oL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function aL(t){return t.h?1:t.g?t.g.size:0}function aE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function uE(t,e){t.g?t.g.add(e):t.h=e}function uL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function cL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return xw(t.i)}function cE(){}function Hne(){this.g=new cE}function Gne(t,e,n){const r=n||"";try{sE(t,function(i,s){let o=i;md(i)&&(o=Ww(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $g(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xd(t){this.l=t.$b||null,this.j=t.ib||!1}function jg(t,e){Ht.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sL.prototype.cancel=function(){if(this.i=cL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},cE.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)},cE.prototype.parse=function(t){return te.JSON.parse(t,void 0)},un(xd,Xw),xd.prototype.g=function(){return new jg(this.l,this.j)},xd.prototype.i=function(t){return function(){return t}}({}),un(jg,Ht);var lE=0;function lL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Rd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kd(t)}function kd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(B=jg.prototype).open=function(t,e){if(this.readyState!=lE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kd(this)},B.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rd(this)),this.readyState=lE},B.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lL(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},B.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rd(this):kd(this),3==this.readyState&&lL(this)}},B.Ua=function(t){this.g&&(this.response=this.responseText=t,Rd(this))},B.Ta=function(t){this.g&&(this.response=t,Rd(this))},B.ha=function(){this.g&&Rd(this)},B.setRequestHeader=function(t,e){this.v.append(t,e)},B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(jg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Wne=te.JSON.parse;function St(t){Ht.call(this),this.headers=new nc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dL,this.K=this.L=!1}un(St,Ht);var dL="",qne=/^https?$/i,Kne=["POST","PUT"];function Yne(t){return"content-type"==t.toLowerCase()}function hL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fL(t),Hg(t)}function fL(t){t.D||(t.D=!0,cn(t,"complete"),cn(t,"error"))}function pL(t){if(t.h&&typeof Dw<"u"&&(!t.C[1]||4!=ds(t)||2!=t.ba()))if(t.v&&4==ds(t))Jw(t.Fa,0,t);else if(cn(t,"readystatechange"),4==ds(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(Z3)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!qne.test(i?i.toLowerCase():"")}n=r}if(n)cn(t,"complete"),cn(t,"success");else{t.m=6;try{var o=2<ds(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",fL(t)}}finally{Hg(t)}}}function Hg(t,e){if(t.g){gL(t);const n=t.g,r=t.C[0]?Ig:null;t.g=null,t.C=null,e||cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function gL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function ds(t){return t.g?t.g.readyState:0}function mL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function Jne(t){let e="";return kw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ye(t,e,n))}function Md(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _L(t){this.za=0,this.l=[],this.h=new kg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Md("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Md("baseRetryDelayMs",5e3,t),this.$a=Md("retryDelaySeedMs",1e4,t),this.Ya=Md("forwardChannelMaxRetries",2,t),this.ra=Md("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sL(t&&t.concurrentRequestLimit),this.Ca=new Hne,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function hE(t){if(yL(t),3==t.G){var e=t.V++,n=ls(t.F);Ye(n,"SID",t.J),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),Nd(t,n),(e=new Id(t,t.h,e,void 0)).K=2,e.v=Bg(ls(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=SL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bd(e)}TL(t)}function Gg(t){t.g&&(gE(t),t.g.cancel(),t.g=null)}function yL(t){Gg(t),t.u&&(te.clearTimeout(t.u),t.u=null),Wg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function fE(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&zg(t)}function zg(t){oL(t.i)||t.m||(t.m=!0,qw(t.Ha,t),t.C=0)}function vL(t,e){var n;n=e?e.m:t.V++;const r=ls(t.F);Ye(r,"SID",t.J),Ye(r,"RID",n),Ye(r,"AID",t.U),Nd(t,r),t.o&&t.s&&dE(r,t.o,t.s),n=new Id(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=wL(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),uE(t.i,n),rE(n,r,e)}function Nd(t,e){t.j&&sE({},function(n,r){Ye(e,r,n)})}function wL(t,e,n){n=Math.min(t.l.length,n);var r=t.j?an(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Gne(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function EL(t){t.g||t.u||(t.Y=1,qw(t.Ga,t),t.A=0)}function pE(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ed(an(t.Ga,t),bL(t,t.A)),t.A++,0))}function gE(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function CL(t){t.g=new Id(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ls(t.oa);Ye(e,"RID","rpc"),Ye(e,"SID",t.J),Ye(e,"CI",t.N?"0":"1"),Ye(e,"AID",t.U),Nd(t,e),Ye(e,"TYPE","xmlhttp"),t.o&&t.s&&dE(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Bg(ls(e)),n.s=null,n.U=!0,Q3(n,t)}function Wg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function IL(t,e){var n=null;if(t.g==e){Wg(t),gE(t),t.g=null;var r=2}else{if(!aE(t.i,e))return;n=e.D,uL(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;cn(r=Mg(),new G3(r,n,e,i)),zg(t)}else EL(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function Xne(t,e){return!(aL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ed(an(t.Ha,t,e),bL(t,t.C)),t.C++,0)))}(t,e)||2==r&&pE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sa(t,5);break;case 4:sa(t,10);break;case 3:sa(t,6);break;default:sa(t,2)}}function bL(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function sa(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=an(t.jb,t);n||(n=new ia("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Lg(n,"https"),Bg(n)),function zne(t,e){const n=new kg;if(te.Image){const r=new Image;r.onload=bg($g,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bg($g,n,r,"TestLoadImage: error",!1,e),r.onabort=bg($g,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bg($g,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ln(2);t.G=0,t.j&&t.j.va(e),TL(t),yL(t)}function TL(t){t.G=0,t.I=-1,t.j&&((0!=cL(t.i).length||0!=t.l.length)&&(t.i.i.length=0,xw(t.l),t.l.length=0),t.j.ua())}function DL(t,e,n){let r=function Nne(t){return t instanceof ia?ls(t):new ia(t,void 0)}(n);if(""!=r.i)e&&Ug(r,e+"."+r.i),Vg(r,r.m);else{const i=te.location;r=function Pne(t,e,n,r){var i=new ia(null,void 0);return t&&Lg(i,t),e&&Ug(i,e),n&&Vg(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&kw(t.aa,function(i,s){Ye(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ye(r,e,n),Ye(r,"VER",t.ma),Nd(t,r),r}function SL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new St(n&&t.Ba&&!t.qa?new xd({ib:!0}):t.qa)).L=t.H,e}function AL(){}function qg(){if(ec&&!(10<=Number(dne)))throw Error("Environmental error: no available transport.")}function pr(t,e){Ht.call(this),this.g=new _L(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Tg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ic(this)}function xL(t){Zw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function RL(){eE.call(this),this.status=1}function ic(t){this.g=t}(B=St.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tE.g(),this.C=function W3(t){return t.h||(t.h=t.i())}(this.u?this.u:tE),this.g.onreadystatechange=an(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void hL(this,s)}t=n||"";const i=new nc(this.headers);r&&sE(r,function(s,o){i.set(o,s)}),r=function sne(t){e:{var e=Yne;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=te.FormData&&t instanceof te.FormData,!(0<=_3(Kne,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gL(this),0<this.B&&((this.K=function Qne(t){return ec&&function lne(){return function one(t){var e=cne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=w3(String(Dg)).split("."),n=w3("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=Rw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Rw(0==i[2].length,0==s[2].length)||Rw(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.pa,this)):this.A=Jw(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hL(this,s)}},B.pa=function(){typeof Dw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,cn(this,"complete"),cn(this,"abort"),Hg(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hg(this,!0)),St.Z.M.call(this)},B.Fa=function(){this.s||(this.F||this.v||this.l?pL(this):this.cb())},B.cb=function(){pL(this)},B.ba=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}},B.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wne(e)}},B.Da=function(){return this.m},B.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=_L.prototype).ma=8,B.G=1,B.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}},B.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Id(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=I3(s),T3(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wL(this,i,e),Ye(n=ls(this.F),"RID",t),Ye(n,"CVER",22),this.D&&Ye(n,"X-HTTP-Session-Id",this.D),Nd(this,n),this.o&&s&&dE(n,this.o,s),uE(this.i,i),this.Ra&&Ye(n,"TYPE","init"),this.ja?(Ye(n,"$req",e),Ye(n,"SID","null"),i.$=!0,rE(i,n,null)):rE(i,n,e),this.G=2}}else 3==this.G&&(t?vL(this,t):0==this.l.length||oL(this.i)||vL(this))},B.Ga=function(){if(this.u=null,CL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ed(an(this.bb,this),t)}},B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ln(10),Gg(this),CL(this))},B.ab=function(){null!=this.v&&(this.v=null,Gg(this),pE(this),Ln(19))},B.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ln(2)):(this.h.info("Failed to ping google.com"),Ln(1))},(B=AL.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Oa=function(){},qg.prototype.g=function(t,e){return new pr(t,e)},un(pr,Ht),pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),qw(an(t.hb,t,e))),Ln(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=DL(t,null,t.W),zg(t)},pr.prototype.close=function(){hE(this.g)},pr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,fE(this.g,e)}else this.v?((e={}).__data__=Ww(t),fE(this.g,e)):fE(this.g,t)},pr.prototype.M=function(){this.g.j=null,delete this.j,hE(this.g),delete this.g,pr.Z.M.call(this)},un(xL,Zw),un(RL,eE),un(ic,AL),ic.prototype.xa=function(){cn(this.g,"a")},ic.prototype.wa=function(t){cn(this.g,new xL(t))},ic.prototype.va=function(t){cn(this.g,new RL(t))},ic.prototype.ua=function(){cn(this.g,"b")},qg.prototype.createWebChannel=qg.prototype.g,pr.prototype.send=pr.prototype.u,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Ng.NO_ERROR=0,Ng.TIMEOUT=8,Ng.HTTP_ERROR=6,z3.COMPLETE="complete",q3.EventType=Cd,Cd.OPEN="a",Cd.CLOSE="b",Cd.ERROR="c",Cd.MESSAGE="d",Ht.prototype.listen=Ht.prototype.N,St.prototype.listenOnce=St.prototype.O,St.prototype.getLastError=St.prototype.La,St.prototype.getLastErrorCode=St.prototype.Da,St.prototype.getStatus=St.prototype.ba,St.prototype.getResponseJson=St.prototype.Qa,St.prototype.getResponseText=St.prototype.ga,St.prototype.send=St.prototype.ea;var Zne=cs.createWebChannelTransport=function(){return new qg},ere=cs.getStatEventTarget=function(){return Mg()},mE=cs.ErrorCode=Ng,tre=cs.EventType=z3,nre=cs.Event=ta,kL=cs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rre=cs.FetchXmlHttpFactory=xd,Kg=cs.WebChannel=q3,ire=cs.XhrIo=St;const ML="@firebase/firestore";class Gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let sc="9.9.2";const eo=new Qs("@firebase/firestore");function _E(){return eo.logLevel}function A(t,...e){if(eo.logLevel<=we.DEBUG){const n=e.map(yE);eo.debug(`Firestore (${sc}): ${t}`,...n)}}function yt(t,...e){if(eo.logLevel<=we.ERROR){const n=e.map(yE);eo.error(`Firestore (${sc}): ${t}`,...n)}}function oc(t,...e){if(eo.logLevel<=we.WARN){const n=e.map(yE);eo.warn(`Firestore (${sc}): ${t}`,...n)}}function yE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function j(t="Unexpected state"){const e=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: `+t;throw yt(e),new Error(e)}function Z(t,e){t||j()}function O(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class NL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class are{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken),new NL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new Gt(e)}}class ure{constructor(e,n,r){this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class cre{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ure(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lre{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z("string"==typeof n.token),this.p=n.token,new PL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function ne(t,e){return t<e?-1:t>e?1:0}function ac(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new rt(0,0))}static max(){return new J(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pd{constructor(e,n,r){void 0===n?n=0:n>e.length&&j(),void 0===r?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Pd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends Pd{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const hre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Pd{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return hre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(Ce.fromString(e))}static fromName(e){return new M(Ce.fromString(e).popFirst(5))}static empty(){return new M(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new Ce(e.slice()))}}function UL(t){return new gr(t.readTime,t.key,-1)}class gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gr(J.min(),M.empty(),-1)}static max(){return new gr(J.max(),M.empty(),-1)}}function wE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const VL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function to(t){return EE.apply(this,arguments)}function EE(){return EE=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==VL)throw t;A("LocalStore","Unexpectedly lost primary lease")}),EE.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function no(t){return"IndexedDbTransactionError"===t.name}class Kn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function $L(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Kn.ot=-1;class lt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}}class Xg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ln.RED,this.left=i??ln.EMPTY,this.right=s??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1,ln.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HL(this.data.getIterator())}getIteratorFrom(e){return new HL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class HL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mr{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Pe(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const wre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(Z(!!t),"string"==typeof t){let e=0;const n=wre.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ca(t){return"string"==typeof t?Ft.fromBase64String(t):Ft.fromUint8Array(t)}function IE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function GL(t){const e=t.mapValue.fields.__previous_value__;return IE(e)?GL(e):e}function Ld(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}class Ere{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}function Ud(t){return null==t}function Vd(t){return 0===t&&1/t==-1/0}const so_mapValue={fields:{__type__:{stringValue:"__max__"}}};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:QL(t)?9007199254740991:10:j()}function Ci(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ld(t).isEqual(Ld(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ro(r.timestampValue),o=ro(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ca(t.bytesValue).isEqual(ca(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?Vd(s)===Vd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if($L(s)!==$L(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ci(s[a],o[a])))return!1;return!0}(t,e);default:return j()}var i}function Bd(t,e){return void 0!==(t.values||[]).find(n=>Ci(n,e))}function oo(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return WL(t.timestampValue,e.timestampValue);case 4:return WL(Ld(t),Ld(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ca(i),a=ca(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(dt(i.latitude),dt(s.latitude));return 0!==o?o:ne(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=oo(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===so_mapValue&&s===so_mapValue)return 0;if(i===so_mapValue)return 1;if(s===so_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=oo(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw j()}}function WL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=ro(t),r=ro(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function cc(t){return bE(t)}function bE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ro(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ca(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bE(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e}function da(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function TE(t){return!!t&&"integerValue"in t}function $d(t){return!!t&&"arrayValue"in t}function qL(t){return!!t&&"nullValue"in t}function KL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function em(t){return!!t&&"mapValue"in t}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!em(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());em(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(jd(this.value))}}class $e{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $e(e,0,J.min(),J.min(),dn.empty(),0)}static newFoundDocument(e,n,r){return new $e(e,1,n,J.min(),r,0)}static newNoDocument(e,n){return new $e(e,2,n,J.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,J.min(),dn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function ZL(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bre(t,e,n,r,i,s,o)}function ha(t){const e=O(t);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cc(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cc(r)).join(",")),e.ut=n}return e.ut}function Hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Nre(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ci(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i4(t.startAt,e.startAt)&&i4(t.endAt,e.endAt)}function tm(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class hn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new Dre(e,n,r):"array-contains"===n?new xre(e,r):"in"===n?new Rre(e,r):"not-in"===n?new kre(e,r):"array-contains-any"===n?new Mre(e,r):new hn(e,n,r)}static ct(e,n,r){return"in"===n?new Sre(e,r):new Are(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(oo(n,this.value)):null!==n&&la(this.value)===la(n)&&this.at(oo(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Dre extends hn{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.at(n)}}class Sre extends hn{constructor(e,n){super(e,"in",n),this.keys=n4(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Are extends hn{constructor(e,n){super(e,"not-in",n),this.keys=n4(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function n4(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class xre extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $d(n)&&Bd(n.arrayValue,this.value)}}class Rre extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Bd(this.value.arrayValue,n)}}class kre extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Bd(this.value.arrayValue,n)}}class Mre extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bd(this.value.arrayValue,r))}}class ao{constructor(e,n){this.position=e,this.inclusive=n}}class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function r4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):oo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function i4(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}class hs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function dc(t){return new hs(t)}function o4(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function DE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function SE(t){for(const e of t.filters)if(e.ht())return e.field;return null}function AE(t){return null!==t.collectionGroup}function hc(t){const e=O(t);if(null===e.lt){e.lt=[];const n=SE(e),r=DE(e);if(null!==n&&null===r)n.isKeyField()||e.lt.push(new lc(n)),e.lt.push(new lc(vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new lc(vt.keyField(),s))}}}return e.lt}function Qn(t){const e=O(t);if(!e.ft)if("F"===e.limitType)e.ft=ZL(e.path,e.collectionGroup,hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of hc(e))n.push(new lc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ao(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ao(e.startAt.position,e.startAt.inclusive):null;e.ft=ZL(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function rm(t,e,n){return new hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return Hd(Qn(t),Qn(e))&&t.limitType===e.limitType}function a4(t){return`${ha(Qn(t))}|lt:${t.limitType}`}function xE(t){return`Query(target=${function Tre(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${cc(r.value)}`;var r}).join(", ")}]`),Ud(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>cc(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>cc(n)).join(",")),`Target(${e})`}(Qn(t))}; limitType=${t.limitType})`}function RE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=r4(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,hc(n),r)||n.endAt&&!function(i,s,o){const a=r4(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,hc(n),r)));var n,r}function c4(t){return(e,n)=>{let r=!1;for(const i of hc(t)){const s=Pre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Pre(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?oo(a,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}function l4(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function d4(t){return{integerValue:""+t}}function h4(t,e){return function zL(t){return"number"==typeof t&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?d4(e):l4(t,e)}class im{constructor(){this._=void 0}}function Ore(t,e,n){return t instanceof fc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof fa?p4(t,e):t instanceof pa?g4(t,e):function(r,i){const s=function f4(t,e){return t instanceof pc?TE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=m4(s)+m4(r._t);return TE(s)&&TE(r._t)?d4(o):l4(r.wt,o)}(t,e)}function Fre(t,e,n){return t instanceof fa?p4(t,e):t instanceof pa?g4(t,e):n}class fc extends im{}class fa extends im{constructor(e){super(),this.elements=e}}function p4(t,e){const n=_4(e);for(const r of t.elements)n.some(i=>Ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class pa extends im{constructor(e){super(),this.elements=e}}function g4(t,e){let n=_4(e);for(const r of t.elements)n=n.filter(i=>!Ci(i,r));return{arrayValue:{values:n}}}class pc extends im{constructor(e,n){super(),this.wt=e,this._t=n}}function m4(t){return dt(t.integerValue||t.doubleValue)}function _4(t){return $d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class it{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new it}static exists(e){return new it(void 0,e)}static updateTime(e){return new it(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kE{}function y4(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new mc(t.key,it.none()):new gc(t.key,t.data,it.none());{const n=t.data,r=dn.empty();let i=new Pe(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(t.key,r,new mr(i.toArray()),it.none())}}function Vre(t,e,n){t instanceof gc?function(r,i,s){const o=r.value.clone(),a=E4(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(r,i,s){if(!sm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=E4(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(w4(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Wd(t,e,n,r){return t instanceof gc?function(i,s,o,a){if(!sm(i.precondition,s))return o;const u=i.value.clone(),c=C4(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(i,s,o,a){if(!sm(i.precondition,s))return o;const u=C4(i.fieldTransforms,a,s),c=s.data;return c.setAll(w4(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,sm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function v4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ac(n,r,(i,s)=>function Lre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof fa&&r instanceof fa||n instanceof pa&&r instanceof pa?ac(n.elements,r.elements,Ci):n instanceof pc&&r instanceof pc?Ci(n._t,r._t):n instanceof fc&&r instanceof fc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class gc extends kE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends kE{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E4(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Fre(o,a,n[i]))}return r}function C4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ore(s,o,e))}return r}class mc extends kE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $re{constructor(e){this.count=e}}var At,Ie;function b4(t){if(void 0===t)return yt("GRPC error has no .code"),E.UNKNOWN;switch(t){case At.OK:return E.OK;case At.CANCELLED:return E.CANCELLED;case At.UNKNOWN:return E.UNKNOWN;case At.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case At.INTERNAL:return E.INTERNAL;case At.UNAVAILABLE:return E.UNAVAILABLE;case At.UNAUTHENTICATED:return E.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case At.NOT_FOUND:return E.NOT_FOUND;case At.ALREADY_EXISTS:return E.ALREADY_EXISTS;case At.PERMISSION_DENIED:return E.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case At.ABORTED:return E.ABORTED;case At.OUT_OF_RANGE:return E.OUT_OF_RANGE;case At.UNIMPLEMENTED:return E.UNIMPLEMENTED;case At.DATA_LOSS:return E.DATA_LOSS;default:return j()}}(Ie=At||(At={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jL(this.inner)}size(){return this.innerSize}}const jre=new lt(M.comparator);function Yn(){return jre}const T4=new lt(M.comparator);function qd(...t){let e=T4;for(const n of t)e=e.insert(n.key,n);return e}function D4(t){let e=T4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Kd()}function S4(){return Kd()}function Kd(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}new lt(M.comparator);const Gre=new Pe(M.comparator);function ae(...t){let e=Gre;for(const n of t)e=e.add(n);return e}const zre=new Pe(ne);function om(){return zre}class Qd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n)),new Qd(J.min(),r,om(),Yn(),ae())}}class Yd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Yd(Ft.EMPTY_BYTE_STRING,n,ae(),ae(),ae())}}class am{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class A4{constructor(e,n){this.targetId=e,this.It=n}}class x4{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R4{constructor(){this.Tt=0,this.Et=M4(),this.At=Ft.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ae(),n=ae(),r=ae();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Yd(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=M4()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Wre{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Yn(),this.Bt=k4(),this.Lt=new Pe(ne)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(tm(s))if(0===r){const o=new M(s.path);this.Kt(n,o,$e.newNoDocument(o,J.min()))}else Z(1===r);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&tm(a.target)){const u=new M(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,$e.newNoDocument(u,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=ae();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ht(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Qd(e,n,this.Lt,this.$t,r);return this.$t=Yn(),this.Bt=k4(),this.Lt=new Pe(ne),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new R4,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Pe(ne),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new R4),this.Ot.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Ot.getRemoteKeysForTarget(e).has(n)}}function k4(){return new lt(M.comparator)}function M4(){return new lt(M.comparator)}const qre={asc:"ASCENDING",desc:"DESCENDING"},Kre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qre{constructor(e,n){this.databaseId=e,this.dt=n}}function Jd(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N4(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Wt(t){return Z(!!t),J.fromTimestamp(function(e){const n=ro(e);return new rt(n.seconds,n.nanos)}(t))}function NE(t,e){return(n=t,new Ce(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function P4(t){const e=Ce.fromString(t);return Z(H4(e)),e}function bi(t,e){const n=P4(e);if(n.get(1)!==t.databaseId.projectId)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(F4(n))}function PE(t,e){return NE(t.databaseId,e)}function Zd(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F4(t){return Z(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function V4(t,e){return{documents:[PE(t,e.path)]}}function B4(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=PE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=PE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(KL(d.value))return{unaryFilter:{field:_c(d.field),op:"IS_NAN"}};if(qL(d.value))return{unaryFilter:{field:_c(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(KL(d.value))return{unaryFilter:{field:_c(d.field),op:"IS_NOT_NAN"}};if(qL(d.value))return{unaryFilter:{field:_c(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(d.field),op:nie(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:_c((l=c).field),direction:tie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.dt||Ud(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function $4(t){let e=function O4(t){const e=P4(t);return 4===e.length?Ce.emptyPath():F4(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=j4(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new lc(yc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ud(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ao((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ao(l.values||[],!l.before)}(n.endAt)),function s4(t,e,n,r,i,s,o,a){return new hs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function j4(t){return t?void 0!==t.unaryFilter?[iie(t)]:void 0!==t.fieldFilter?[rie(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>j4(e)).reduce((e,n)=>e.concat(n)):j():[]}function tie(t){return qre[t]}function nie(t){return Kre[t]}function _c(t){return{fieldPath:t.canonicalString()}}function yc(t){return vt.fromServerFormat(t.fieldPath)}function rie(t){return hn.create(yc(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function iie(t){switch(t.unaryFilter.op){case"IS_NAN":const e=yc(t.unaryFilter.field);return hn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=yc(t.unaryFilter.field);return hn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yc(t.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yc(t.unaryFilter.field);return hn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function H4(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class LE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Vre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=y4(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(n,r)=>v4(n,r))&&ac(this.baseMutations,e.baseMutations,(n,r)=>v4(n,r))}}class VE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class co{constructor(e,n,r,i,s=J.min(),o=J.min(),a=Ft.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Y4{constructor(e){this.ne=e}}function BE(t){const e=$4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rm(e,e.limit,"L"):e}class ya{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),Vd(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),"string"==typeof r?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(ca(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?QL(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):j()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),M.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}ya.ye=new ya;class kie{constructor(){this.ze=new jE}addToCollectionParentIndex(e,n){return this.ze.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(gr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class jE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(Ce.comparator)).toArray()}}new Uint8Array(0);class Jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(41943040,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class Ea{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ea(0)}static Rn(){return new Ea(-1)}}class $ie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&Wd(r.mutation,i,mr.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yn();const o=Kd(),a=Kd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof fs)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),Wd(l.mutation,c,l.mutation.getFieldMask(),rt.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new $ie(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kd();let i=new lt((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||mr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=S4();l.forEach(h=>{if(!s.has(h)){const f=y4(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):AE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Ii());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(l=>({batchId:a,changes:D4(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=qd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new hs(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,$e.newInvalidDocument(c)))});let o=qd();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&Wd(c.mutation,u,mr.empty(),rt.now()),RE(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):w.resolve($e.newInvalidDocument(n))}}class jie{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return w.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Wt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(r=n).name,query:BE(r.bundledQuery),readTime:Wt(r.readTime)}),w.resolve();var r}}class Hie{constructor(){this.overlays=new lt(M.comparator),this.Xn=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Ii(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ii(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VE(n,r));let s=this.Xn.get(n);void 0===s&&(s=ae(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}class HE{constructor(){this.Zn=new Pe(Kt.ts),this.es=new Pe(Kt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Kt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new M(new Ce([])),r=new Kt(n,e),i=new Kt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new M(new Ce([])),r=new Kt(n,e),i=new Kt(n,e+1);let s=ae();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Kt(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return M.comparator(e.key,n.key)||ne(e.ls,n.ls)}static ns(e,n){return ne(e.ls,n.ls)||M.comparator(e.key,n.key)}}class Gie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Pe(Kt.ts)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new LE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new Kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ws(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),i=new Kt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(ne);return n.forEach(i=>{const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Kt(new M(s),0);let a=new Pe(ne);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Z(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return w.forEach(n.mutations,i=>{const s=new Kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new Kt(n,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zie{constructor(e){this.ps=e,this.docs=new lt(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Yn();const s=new M(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||wE(UL(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){j()}Is(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wie(this)}getSize(e){return w.resolve(this.size)}}class Wie extends class Uie{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class qie{constructor(e){this.persistence=e,this.Ts=new uo(n=>ha(n),Hd),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Es=0,this.As=new HE,this.targetCount=0,this.Rs=Ea.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),w.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Ea(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.vn(n),w.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.As.containsKey(n))}}class y6{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Kn(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new qie(this),this.indexManager=new kie,this.remoteDocumentCache=new zie(r=>this.referenceDelegate.Ss(r)),this.wt=new Y4(n),this.Ds=new jie(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new Gie(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Kie(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Kie extends class gre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.ks=new HE,this.Ms=null}static Os(e){return new mm(e)}get Fs(){if(this.Ms)return this.Ms;throw j()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),w.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Ms=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Fs,r=>{const i=M.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return w.or([()=>w.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class qE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qE(e,n.fromCache,r,i)}}class w6{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){if(o4(n))return w.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=rm(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Di.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ki(n,a);return this.Mi(n,c,o,u.readTime)?this.Ci(e,rm(n,null,"F")):this.Oi(e,c,n,u)}))})))}xi(e,n,r,i){return o4(n)||i.isEqual(J.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Mi(n,o,r,i)?this.Ni(e,n):(_E()<=we.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xE(n)),this.Oi(e,o,n,function LL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(1e9===r?new rt(n+1,0):new rt(n,r));return new gr(i,M.empty(),e)}(i,-1)))})}ki(e,n){let r=new Pe(c4(e));return n.forEach((i,s)=>{RE(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return _E()<=we.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",xE(n)),this.Di.getDocumentsMatchingQuery(e,n,gr.min())}Oi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yie{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new lt(ne),this.Bi=new uo(s=>ha(s),Hd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _6(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function C6(t,e){return KE.apply(this,arguments)}function KE(){return KE=m(function*(t,e){const n=O(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}),KE.apply(this,arguments)}function I6(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Xie(t,e){const n=O(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Vs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Vs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,_=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Vs.updateTargetData(s,f))});let u=Yn(),c=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function b6(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Gi,c=l.Qi})),!r.isEqual(J.min())){const l=n.Vs.getLastRemoteSnapshotVersion(s).next(d=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.$i=i,s))}function Ec(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new co(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}function Cc(t,e,n){return QE.apply(this,arguments)}function QE(){return QE=m(function*(t,e,n){const r=O(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!no(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),QE.apply(this,arguments)}function ym(t,e,n){const r=O(t);let i=J.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=O(a),d=l.Bi.get(c);return void 0!==d?w.resolve(l.$i.get(d)):l.Vs.getTargetData(u,c)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ae())).next(a=>(function S6(t,e,n){let r=J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}(r,function u4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ji:s})))}class eC{constructor(){this.activeTargetIds=om()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R6{constructor(){this.Fr=new eC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new eC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nse{Br(e){}shutdown(){}}class k6{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ise{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class sse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);A("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw oc("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){return`${this.so}/v1/${n}:${rse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new ire;a.listenOnce(tre.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case mE.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case mE.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case mE.HTTP_ERROR:const l=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(E.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zne(),o=ere(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new rre({})),this.uo(a.initMessageHeaders,n,r),pg()||uw()||function kee(){return jt().indexOf("Electron/")>=0}()||n3()||function Mee(){return jt().indexOf("MSAppHost/")>=0}()||gg()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new ise({jr:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(l||(A("Connection","Opening WebChannel transport."),c.open(),l=!0),A("Connection","WebChannel sending:",p),c.send(p))},Wr:()=>c.close()}),f=(p,g,_)=>{p.listen(g,v=>{try{_(v)}catch(I){setTimeout(()=>{throw I},0)}})};return f(c,Kg.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(c,Kg.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.eo())}),f(c,Kg.EventType.ERROR,p=>{d||(d=!0,oc("Connection","WebChannel transport errored:",p),h.eo(new S(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,Kg.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];Z(!!_);const v=_,I=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(I){A("Connection","WebChannel received error:",I);const y=I.status;let T=function(V){const Se=At[V];if(void 0!==Se)return b4(Se)}(y),R=I.message;void 0===T&&(T=E.INTERNAL,R="Unknown error status: "+y+" with message "+I.message),d=!0,h.eo(new S(T,R)),c.close()}else A("Connection","WebChannel received:",_),h.no(_)}}),f(o,nre.STAT_EVENT,p=>{p.stat===kL.PROXY?A("Connection","Detected buffering proxy"):p.stat===kL.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function Em(){return typeof document<"u"?document:null}function ch(t){return new Qre(t,!0)}class nC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ase extends class ose{constructor(e,n,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new nC(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return m(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return m(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var r=this;return m(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(yt(n.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new S(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(m(function*(){e.state=0,e.start()}))}qo(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Xre(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:j(),i=e.targetChange.targetIds||[],s=function(u,c){return u.dt?(Z(void 0===c||"string"==typeof c),Ft.fromBase64String(c||"")):(Z(void 0===c||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:b4(u.code);return new S(c,u.message||"")}(o);n=new x4(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bi(t,r.document.name),s=Wt(r.document.updateTime),o=new dn({mapValue:{fields:r.document.fields}}),a=$e.newFoundDocument(i,s,o);n=new am(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=bi(t,r.document),s=r.readTime?Wt(r.readTime):J.min(),o=$e.newNoDocument(i,s);n=new am([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=bi(t,r.document);n=new am([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,s=new $re(r.count||0);n=new A4(r.targetId,s)}}var u;return n}(this.wt,e),r=function(i){if(!("targetChange"in i))return J.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Wt(s.readTime):J.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=Zd(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=tm(a)?{documents:V4(i,a)}:{query:B4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=N4(i,s.resumeToken):s.snapshotVersion.compareTo(J.min())>0&&(o.readTime=Jd(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function eie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Oo(n)}jo(e){const n={};n.database=Zd(this.wt),n.removeTarget=e,this.Oo(n)}}class cse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(E.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(E.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class lse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(yt(n),this.su=!1):A("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(m(function*(){var u;fo(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=O(c);l.lu.add(4),yield Ic(l),l._u.set("Unknown"),l.lu.delete(4),yield lh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this._u=new lse(r,i)}}function lh(t){return rC.apply(this,arguments)}function rC(){return rC=m(function*(t){if(fo(t))for(const e of t.fu)yield e(!0)}),rC.apply(this,arguments)}function Ic(t){return iC.apply(this,arguments)}function iC(){return iC=m(function*(t){for(const e of t.fu)yield e(!1)}),iC.apply(this,arguments)}function Cm(t,e){const n=O(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),aC(n)?oC(n):Tc(n).Co()&&sC(n,e))}function dh(t,e){const n=O(t),r=Tc(n);n.hu.delete(e),r.Co()&&N6(n,e),0===n.hu.size&&(r.Co()?r.ko():fo(n)&&n._u.set("Unknown"))}function sC(t,e){t.wu.Nt(e.targetId),Tc(t).Qo(e)}function N6(t,e){t.wu.Nt(e),Tc(t).jo(e)}function oC(t){t.wu=new Wre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),Tc(t).start(),t._u.iu()}function aC(t){return fo(t)&&!Tc(t).Do()&&t.hu.size>0}function fo(t){return 0===O(t).lu.size}function P6(t){t.wu=void 0}function hse(t){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t){t.hu.forEach((e,n)=>{sC(t,e)})}),uC.apply(this,arguments)}function fse(t,e){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t,e){P6(t),aC(t)?(t._u.uu(e),oC(t)):t._u.set("Unknown")}),cC.apply(this,arguments)}function pse(t,e,n){return lC.apply(this,arguments)}function lC(){return lC=m(function*(t,e,n){if(t._u.set("Online"),e instanceof x4&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Im(t,r)}else if(e instanceof am?t.wu.Ut(e):e instanceof A4?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(J.min()))try{const r=yield I6(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.hu.get(u);c&&i.hu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Ft.EMPTY_BYTE_STRING,u.snapshotVersion)),N6(i,a);const c=new co(u.target,a,1,u.sequenceNumber);sC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Im(t,r)}var r}),lC.apply(this,arguments)}function Im(t,e,n){return dC.apply(this,arguments)}function dC(){return dC=m(function*(t,e,n){if(!no(e))throw e;t.lu.add(1),yield Ic(t),t._u.set("Offline"),n||(n=()=>I6(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.lu.delete(1),yield lh(t)}))}),dC.apply(this,arguments)}function U6(t,e){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=fo(n);n.lu.add(3),yield Ic(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield lh(n)}),_C.apply(this,arguments)}function vC(){return vC=m(function*(t,e){const n=O(t);e?(n.lu.delete(2),yield lh(n)):e||(n.lu.add(2),yield Ic(n),n._u.set("Unknown"))}),vC.apply(this,arguments)}function Tc(t){return t.mu||(t.mu=function(e,n,r){const i=O(e);return i.tu(),new ase(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:hse.bind(null,t),Jr:fse.bind(null,t),Go:pse.bind(null,t)}),t.fu.push(function(){var e=m(function*(n){n?(t.mu.No(),aC(t)?oC(t):t._u.set("Unknown")):(yield t.mu.stop(),P6(t))});return function(n){return e.apply(this,arguments)}}())),t.mu}class wC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dc(t,e){if(yt("AsyncQueue",`${e}: ${t}`),no(t))return new S(E.UNAVAILABLE,`${e}: ${t}`);throw t}class Sc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Sc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class V6{constructor(){this.yu=new lt(M.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(n):1===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):j():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ac(e,n,Sc.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ese{constructor(){this.Iu=void 0,this.listeners=[]}}class Cse{constructor(){this.queries=new uo(e=>a4(e),Gd),this.onlineState="Unknown",this.Tu=new Set}}function CC(){return CC=m(function*(t,e){const n=O(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ese),i)try{s.Iu=yield n.onListen(r)}catch(o){const a=Dc(o,`Initialization of query '${xE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&TC(n)}),CC.apply(this,arguments)}function bC(){return bC=m(function*(t,e){const n=O(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),bC.apply(this,arguments)}function Ise(t,e){const n=O(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&TC(n)}function bse(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function TC(t){t.Tu.forEach(e=>{e.next()})}class DC{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class j6{constructor(e){this.key=e}}class H6{constructor(e){this.key=e}}class G6{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ae(),this.mutatedKeys=ae(),this.Lu=c4(e),this.Uu=new Sc(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new V6,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=RE(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Lu(f,u)>0||c&&this.Lu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(c.type,l.type)||this.Lu(c.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new Ac(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new V6,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ae(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new H6(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new j6(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=ae();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return Ac.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Sse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ase{constructor(e){this.key=e,this.Xu=!1}}class xse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new uo(a=>a4(a),Gd),this.ec=new Map,this.nc=new Set,this.sc=new lt(M.comparator),this.ic=new Map,this.rc=new HE,this.oc={},this.uc=new Map,this.cc=Ea.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Rse(t,e){return SC.apply(this,arguments)}function SC(){return SC=m(function*(t,e){const n=YC(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Ec(n.localStore,Qn(e));n.isPrimaryClient&&Cm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield AC(n,e,r,"current"===a)}return i}),SC.apply(this,arguments)}function AC(t,e,n,r){return xC.apply(this,arguments)}function xC(){return xC=m(function*(t,e,n,r){t.hc=(l,d,h)=>{return(f=m(function*(p,g,_,v){let I=g.view.Ku(_);I.Mi&&(I=yield ym(p.localStore,g.query,!1).then(({documents:R})=>g.view.Ku(R,I)));const y=v&&v.targetChanges.get(g.targetId),T=g.view.applyChanges(I,p.isPrimaryClient,y);return VC(p,g.targetId,T.zu),T.snapshot}),function(p,g,_,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield ym(t.localStore,e,!0),s=new G6(e,i.ji),o=s.Ku(i.documents),a=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);VC(t,n,u.zu);const c=new Sse(e,n,s);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}),xC.apply(this,arguments)}function kse(t,e){return RC.apply(this,arguments)}function RC(){return RC=m(function*(t,e){const n=O(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!Gd(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dh(n.remoteStore,r.targetId),xc(n,r.targetId)}).catch(to))):(xc(n,r.targetId),yield Cc(n.localStore,r.targetId,!0))}),RC.apply(this,arguments)}function z6(t,e){return MC.apply(this,arguments)}function MC(){return MC=m(function*(t,e){const n=O(t);try{const r=yield Xie(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Z(o.Xu):i.removedDocuments.size>0&&(Z(o.Xu),o.Xu=!1))}),yield ps(n,r,e)}catch(r){yield to(r)}}),MC.apply(this,arguments)}function W6(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Eu(o)&&(u=!0)}),u&&TC(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nse(t,e,n){return NC.apply(this,arguments)}function NC(){return NC=m(function*(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new lt(M.comparator);o=o.insert(s,$e.newNoDocument(s,J.min()));const a=ae().add(s),u=new Qd(J.min(),new Map,new Pe(ne),o,a);yield z6(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),BC(r)}else yield Cc(r.localStore,e,!1).then(()=>xc(r,e,n)).catch(to)}),NC.apply(this,arguments)}function xc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||q6(t,r)})}function q6(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);null!==n&&(dh(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),BC(t))}function VC(t,e,n){for(const r of n)r instanceof j6?(t.rc.addReference(r.key,e),Lse(t,r)):r instanceof H6?(A("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||q6(t,r.key)):j()}function Lse(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.nc.add(r),BC(t))}function BC(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new M(Ce.fromString(e)),r=t.cc.next();t.ic.set(r,new Ase(n)),t.sc=t.sc.insert(n,r),Cm(t.remoteStore,new co(Qn(dc(n.path)),r,2,Kn.ot))}}function ps(t,e,n){return $C.apply(this,arguments)}function $C(){return $C=m(function*(t,e,n){const r=O(t),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=qE.Vi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=m(function*(u,c){const l=O(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Pi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.vi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!no(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.$i=l.$i.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),$C.apply(this,arguments)}function Use(t,e){return jC.apply(this,arguments)}function jC(){return jC=m(function*(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield C6(n.localStore,e);n.currentUser=e,(i=n).uc.forEach(o=>{o.forEach(a=>{a.reject(new S(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ps(n,r.Ki)}var i}),jC.apply(this,arguments)}function Vse(t,e){const n=O(t),r=n.ic.get(e);if(r&&r.Xu)return ae().add(r.key);{let i=ae();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function YC(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=z6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nse.bind(null,e),e.Zu.Go=Ise.bind(null,e.eventManager),e.Zu.lc=bse.bind(null,e.eventManager),e}class Kse{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.wt=ch(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return function E6(t,e,n,r){return new Yie(t,e,n,r)}(this.persistence,new w6,e.initialUser,this.wt)}_c(e){return new y6(mm.Os,this.wt)}dc(e){return new R6}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XC{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>W6(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Use.bind(null,r.syncEngine),yield function yC(t,e){return vC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cse}createDatastore(e){const n=ch(e.databaseInfo.databaseId),r=new sse(e.databaseInfo);return new cse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>W6(this.syncEngine,a,0),o=k6.V()?new k6:new nse,new dse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new xse(r,i,s,o,a,u);return c&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=O(n);A("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ic(r),r.du.shutdown(),r._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):yt("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class eoe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=class OL{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Dc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function J6(t,e){return ZC.apply(this,arguments)}function ZC(){return ZC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield C6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),ZC.apply(this,arguments)}function X6(t,e){return eI.apply(this,arguments)}function eI(){return eI=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield tI(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>U6(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>U6(e.remoteStore,s)),t.onlineComponents=e}),eI.apply(this,arguments)}function tI(t){return nI.apply(this,arguments)}function nI(){return nI=m(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield J6(t,new Kse)),t.offlineComponents}),nI.apply(this,arguments)}function Tm(t){return rI.apply(this,arguments)}function rI(){return rI=m(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield X6(t,new XC)),t.onlineComponents}),rI.apply(this,arguments)}function Rc(t){return sI.apply(this,arguments)}function sI(){return sI=m(function*(t){const e=yield Tm(t),n=e.eventManager;return n.onListen=Rse.bind(null,e.syncEngine),n.onUnlisten=kse.bind(null,e.syncEngine),n}),sI.apply(this,arguments)}const r5=new Map;function s5(t){if(M.isDocumentKey(t))throw new S(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":j()}function be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(t);throw new S(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class a5{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function coe(t,e,n,r){if(!0===e&&!0===r)throw new S(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a5({}),this._settingsFrozen=!1,e instanceof io?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(i.options.projectId)}(e))}get app(){if(!this._app)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a5(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new sre;switch(n.type){case"gapi":const r=n.client;return Z(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cre(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new S(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=r5.get(e);n&&(A("ComponentProvider","Removing Datastore"),r5.delete(e),n.terminate())}(this),Promise.resolve()}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}}class Tn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tn(this.firestore,e,this._query)}}class Di extends Tn{constructor(e,n,r){super(e,n,dc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new M(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}class foe{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new nC(this,"async_queue_retry"),this.Kc=()=>{const n=Em();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Em();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new zt;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return m(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(n){if(!no(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,yt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=wC.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&j()}verifyOperationInProgress(){}zc(){var e=this;return m(function*(){let n;do{n=e.Mc,yield n}while(n!==e.Mc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function aI(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Je extends hh{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new foe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||u5(this),this._firestoreClient.terminate()}}function goe(t=Ei()){return qn(t,"firestore").getImmediate()}function u5(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ere(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new eoe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class kc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Ft.fromBase64String(e))}catch(n){throw new S(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ia(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class d5{constructor(e){this._methodName=e}}class uI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const moe=/^__.*__$/;function f5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Rm(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(f5(this.Zc)&&moe.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class yoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||ch(e)}aa(e,n,r,i=!1){return new Am({Zc:e,methodName:n,ca:r,path:vt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ba(t,e){if(v5(t=nt(t)))return function dI(t,e,n){if(!v5(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sm(n);throw e.oa("an object"===r?t+" a custom object":t+" "+r)}var r}("Unsupported field value:",e,t),function y5(t,e){const n={};return jL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const s=ba(i,e.ea(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof d5)return function(n,r){if(!f5(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ba(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=nt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return h4(r.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=rt.fromDate(n);return{timestampValue:Jd(r.wt,i)}}if(n instanceof rt){const i=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jd(r.wt,i)}}if(n instanceof uI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ia)return{bytesValue:N4(r.wt,n._byteString)};if(n instanceof wt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Sm(n)}`)}(t,e)}function v5(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof uI||t instanceof Ia||t instanceof wt||t instanceof d5)}const Coe=new RegExp("[~\\*/\\[\\]]");function Rm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(E.INVALID_ARGUMENT,a+t+u)}class fI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ioe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ioe extends fI{data(){return super.data()}}function km(t,e){return"string"==typeof e?function xm(t,e,n){if(e.search(Coe)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kc(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof kc?e._internalPath:e._delegate._internalPath}class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nc extends fI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mm extends Nc{data(e={}){return super.data(e)}}class Pc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mm(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:boe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function boe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function Doe(t,...e){for(const n of e)t=n._apply(t);return t}class Soe extends class Toe{}{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=function Mc(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new yoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}(e.firestore),r=function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){S5(l,c);const f=[];for(const p of l)f.push(D5(a,i,p));d={arrayValue:{values:f}}}else d=D5(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||S5(l,c),d=function _5(t,e,n,r=!1){return ba(n,t.aa(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);const h=hn.create(u,c,d);return function(f,p){if(p.ht()){const _=SE(f);if(null!==_&&!_.isEqual(p.field))throw new S(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${p.field.toString()}'`);const v=DE(f);null!==v&&function A5(t,e,n){if(!n.isEqual(e))throw new S(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,p.field,v)}const g=function(_,v){for(const I of _.filters)if(v.indexOf(I.op)>=0)return I.op;return null}(f,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==g)throw new S(E.INVALID_ARGUMENT,g===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${g.toString()}' filters.`)}(i,h),h}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new Tn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Aoe(t,e,n){const r=e,i=km("where",t);return new Soe(i,r,n)}function D5(t,e,n){if("string"==typeof(n=nt(n))){if(""===n)throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&-1!==n.indexOf("/"))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!M.isDocumentKey(r))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return da(t,new M(r))}if(n instanceof wt)return da(t,n._key);throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(n)}.`)}function S5(t,e){if(!Array.isArray(t)||0===t.length)throw new S(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new S(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class Da extends class koe{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const r={};return ua(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new uI(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=GL(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const n=ro(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);Z(H4(r));const i=new io(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||yt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}!function(t,e=!0){sc="9.9.3",Ot(new Dt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Je(i,new are(n.getProvider("auth-internal")),new lre(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),he(ML,"3.4.14",t),he(ML,"3.4.14","esm2017")}(),he("firebase","9.9.3","app");const R5="@firebase/installations",mI="0.5.12",M5=`w:${mI}`,N5="FIS_v2",gs=new Xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function P5(t){return t instanceof fr&&t.code.includes("request-failed")}function _I({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function O5(t){return{token:t.token,requestStatus:2,expiresIn:joe(t.expiresIn),creationTime:Date.now()}}function yI(t,e){return vI.apply(this,arguments)}function vI(){return vI=m(function*(t,e){const r=(yield e.json()).error;return gs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),vI.apply(this,arguments)}function F5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L5(t,{refreshToken:e}){const n=F5(t);return n.append("Authorization",function Hoe(t){return`${N5} ${t}`}(e)),n}function wI(t){return EI.apply(this,arguments)}function EI(){return EI=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),EI.apply(this,arguments)}function joe(t){return Number(t.replace("s","000"))}function Goe(t,e){return CI.apply(this,arguments)}function CI(){return CI=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_I(t),i=F5(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:N5,appId:t.appId,sdkVersion:M5})},u=yield wI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:O5(c.authToken)}}throw yield yI("Create Installation",u)}),CI.apply(this,arguments)}function U5(t){return new Promise(e=>{setTimeout(e,t)})}const Woe=/^[cdef][\w-]{21}$/;function qoe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Koe(t){return function zoe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Woe.test(n)?n:""}catch{return""}}function Oc(t){return`${t.appName}!${t.appId}`}const Fc=new Map;function V5(t,e){const n=Oc(t);B5(n,e),function Joe(t,e){const n=function $5(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=t=>{B5(t.data.key,t.data.fid)}),Sa}();n&&n.postMessage({key:t,fid:e}),function j5(){0===Fc.size&&Sa&&(Sa.close(),Sa=null)}()}(n,e)}function B5(t,e){const n=Fc.get(t);if(n)for(const r of n)r(e)}let Sa=null;const Aa="firebase-installations-store";let bI=null;function TI(){return bI||(bI=Eg("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Aa)}})),bI}function Pm(t,e){return DI.apply(this,arguments)}function DI(){return DI=m(function*(t,e){const n=Oc(t),i=(yield TI()).transaction(Aa,"readwrite"),s=i.objectStore(Aa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&V5(t,e.fid),e}),DI.apply(this,arguments)}function SI(t){return AI.apply(this,arguments)}function AI(){return AI=m(function*(t){const e=Oc(t),r=(yield TI()).transaction(Aa,"readwrite");yield r.objectStore(Aa).delete(e),yield r.done}),AI.apply(this,arguments)}function gh(t,e){return xI.apply(this,arguments)}function xI(){return xI=m(function*(t,e){const n=Oc(t),i=(yield TI()).transaction(Aa,"readwrite"),s=i.objectStore(Aa),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&V5(t,a.fid),a}),xI.apply(this,arguments)}function RI(t){return kI.apply(this,arguments)}function kI(){return kI=m(function*(t){let e;const n=yield gh(t.appConfig,r=>{const i=eae(r),s=tae(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),kI.apply(this,arguments)}function eae(t){return G5(t||{fid:qoe(),registrationStatus:0})}function tae(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function nae(t,e){return MI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:rae(t)}:{installationEntry:e}}function MI(){return MI=m(function*(t,e){try{const n=yield Goe(t,e);return Pm(t.appConfig,n)}catch(n){throw P5(n)&&409===n.customData.serverCode?yield SI(t.appConfig):yield Pm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),MI.apply(this,arguments)}function rae(t){return NI.apply(this,arguments)}function NI(){return NI=m(function*(t){let e=yield H5(t.appConfig);for(;1===e.registrationStatus;)yield U5(100),e=yield H5(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield RI(t);return r||n}return e}),NI.apply(this,arguments)}function H5(t){return gh(t,e=>{if(!e)throw gs.create("installation-not-found");return G5(e)})}function G5(t){return function iae(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function sae(t,e){return PI.apply(this,arguments)}function PI(){return PI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=oae(t,n),i=L5(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:M5,appId:t.appId}})},u=yield wI(()=>fetch(r,a));if(u.ok)return O5(yield u.json());throw yield yI("Generate Auth Token",u)}),PI.apply(this,arguments)}function oae(t,{fid:e}){return`${_I(t)}/${e}/authTokens:generate`}function OI(t){return FI.apply(this,arguments)}function FI(){return FI=m(function*(t,e=!1){let n;const r=yield gh(t.appConfig,s=>{if(!W5(s))throw gs.create("not-registered");const o=s.authToken;if(!e&&cae(o))return s;if(1===o.requestStatus)return n=aae(t,e),s;{if(!navigator.onLine)throw gs.create("app-offline");const a=dae(s);return n=uae(t,a),a}});return n?yield n:r.authToken}),FI.apply(this,arguments)}function aae(t,e){return LI.apply(this,arguments)}function LI(){return LI=m(function*(t,e){let n=yield z5(t.appConfig);for(;1===n.authToken.requestStatus;)yield U5(100),n=yield z5(t.appConfig);const r=n.authToken;return 0===r.requestStatus?OI(t,e):r}),LI.apply(this,arguments)}function z5(t){return gh(t,e=>{if(!W5(e))throw gs.create("not-registered");return function hae(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uae(t,e){return UI.apply(this,arguments)}function UI(){return UI=m(function*(t,e){try{const n=yield sae(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Pm(t.appConfig,r),n}catch(n){if(!P5(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Pm(t.appConfig,r)}else yield SI(t.appConfig);throw n}}),UI.apply(this,arguments)}function W5(t){return void 0!==t&&2===t.registrationStatus}function cae(t){return 2===t.requestStatus&&!function lae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function dae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function VI(){return VI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield RI(e);return r?r.catch(console.error):OI(e).catch(console.error),n.fid}),VI.apply(this,arguments)}function BI(){return BI=m(function*(t,e=!1){const n=t;return yield gae(n),(yield OI(n,e)).token}),BI.apply(this,arguments)}function gae(t){return $I.apply(this,arguments)}function $I(){return $I=m(function*(t){const{registrationPromise:e}=yield RI(t);e&&(yield e)}),$I.apply(this,arguments)}function GI(t){return gs.create("missing-app-config-values",{valueName:t})}const q5="installations",wae=t=>{const e=t.getProvider("app").getImmediate(),n=function yae(t){if(!t||!t.options)throw GI("App Configuration");if(!t.name)throw GI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw GI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:qn(e,"heartbeat"),_delete:()=>Promise.resolve()}},Eae=t=>{const n=qn(t.getProvider("app").getImmediate(),q5).getImmediate();return{getId:()=>function fae(t){return VI.apply(this,arguments)}(n),getToken:i=>function pae(t){return BI.apply(this,arguments)}(n,i)}};(function Cae(){Ot(new Dt(q5,wae,"PUBLIC")),Ot(new Dt("installations-internal",Eae,"PRIVATE"))})(),he(R5,mI),he(R5,mI,"esm2017");const zI="@firebase/remote-config",Q5="remote-config",Xn=new Xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function xae(t=Ei()){return qn(t=nt(t),Q5).getImmediate()}class Pae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Oae(t=navigator){return t.languages&&t.languages[0]||t.language}class Fae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:Oae()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((T,R)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",R(V)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(T){let R="fetch-client-network";throw"AbortError"===(null===(r=T)||void 0===r?void 0:r.name)&&(R="fetch-timeout"),Xn.create(R,{originalErrorMessage:null===(i=T)||void 0===i?void 0:i.message})}let _=g.status;const v=g.headers.get("ETag")||void 0;let I,y;if(200===g.status){let T;try{T=yield g.json()}catch(R){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(s=R)||void 0===s?void 0:s.message})}I=T.entries,y=T.state}if("INSTANCE_STATE_UNSPECIFIED"===y?_=500:"NO_CHANGE"===y?_=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(I={}),304!==_&&200!==_)throw Xn.create("fetch-status",{httpStatus:_});return{status:_,eTag:v,config:I}})()}}class Vae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Lae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Uae(t){if(!(t instanceof fr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+dw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class jae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fm(t,e){var n;const r=t.target.error||void 0;return Xn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const xa="app_namespace_store";class Wae{constructor(e,n,r,i=function zae(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Fm(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xa,{keyPath:"compositeKey"})}}catch(r){e(Xn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xa],"readonly").objectStore(xa),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(Fm(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(Xn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([xa],"readwrite").objectStore(xa),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o(Fm(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Xn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xa],"readwrite").objectStore(xa),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(Fm(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Xn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class qae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Qae(){return YI.apply(this,arguments)}function YI(){return(YI=m(function*(){if(!Ks())return!1;try{return yield Xu()}catch{return!1}})).apply(this,arguments)}!function Kae(){Ot(new Dt(Q5,function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!Ks())throw Xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Xn.create("registration-project-id");if(!o)throw Xn.create("registration-api-key");if(!a)throw Xn.create("registration-app-id");const u=new Wae(a,r.name,n=n||"firebase"),c=new qae(u),l=new Qs(zI);l.logLevel=we.ERROR;const d=new Fae(i,Js,n,s,o,a),h=new Vae(d,u),f=new Pae(h,u,c,l),p=new jae(r,f,c,u,l);return function kae(t){const e=nt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),he(zI,"0.3.11"),he(zI,"0.3.11","esm2017")}();const Yae="/firebase-messaging-sw.js",Jae="/firebase-cloud-messaging-push-scope",J5="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",X5="google.c.a.c_id",Zae="google.c.a.c_l",eue="google.c.a.ts",tue="google.c.a.e";var Lc=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Lc||(Lc={})),Lc))();function ms(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nue(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const JI="fcm_token_details_db",Z5="fcm_token_object_Store";function iue(t){return XI.apply(this,arguments)}function XI(){return XI=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(JI))return null;let e=null;return(yield Eg(JI,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Z5))return;const c=a.objectStore(Z5),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ms(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ms(d.auth),p256dh:ms(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ms(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ms(d.auth),p256dh:ms(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ms(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield yw(JI),yield yw("fcm_vapid_details_db"),yield yw("undefined"),sue(e)?e:null;var r}),XI.apply(this,arguments)}function sue(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ra="firebase-messaging-store";let ZI=null;function eb(){return ZI||(ZI=Eg("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ra)}})),ZI}function e8(t){return tb.apply(this,arguments)}function tb(){return tb=m(function*(t){const e=sb(t),r=yield(yield eb()).transaction(Ra).objectStore(Ra).get(e);if(r)return r;{const i=yield iue(t.appConfig.senderId);if(i)return yield nb(t,i),i}}),tb.apply(this,arguments)}function nb(t,e){return rb.apply(this,arguments)}function rb(){return rb=m(function*(t,e){const n=sb(t),i=(yield eb()).transaction(Ra,"readwrite");return yield i.objectStore(Ra).put(e,n),yield i.done,e}),rb.apply(this,arguments)}function uue(t){return ib.apply(this,arguments)}function ib(){return ib=m(function*(t){const e=sb(t),r=(yield eb()).transaction(Ra,"readwrite");yield r.objectStore(Ra).delete(e),yield r.done}),ib.apply(this,arguments)}function sb({appConfig:t}){return t.appId}const fn=new Xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lue(t,e){return ob.apply(this,arguments)}function ob(){return ob=m(function*(t,e){var n;const r=yield lb(t),i=n8(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(cb(t.appConfig),s)).json()}catch(a){throw fn.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw fn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw fn.create("token-subscribe-no-token");return o.token}),ob.apply(this,arguments)}function due(t,e){return ab.apply(this,arguments)}function ab(){return ab=m(function*(t,e){var n;const r=yield lb(t),i=n8(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${cb(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw fn.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw fn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw fn.create("token-update-no-token");return o.token}),ab.apply(this,arguments)}function t8(t,e){return ub.apply(this,arguments)}function ub(){return ub=m(function*(t,e){var n;const i={method:"DELETE",headers:yield lb(t)};try{const o=yield(yield fetch(`${cb(t.appConfig)}/${e}`,i)).json();if(o.error)throw fn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw fn.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}}),ub.apply(this,arguments)}function cb({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function lb(t){return db.apply(this,arguments)}function db(){return db=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),db.apply(this,arguments)}function n8({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==J5&&(i.web.applicationPubKey=r),i}function fue(t){return hb.apply(this,arguments)}function hb(){return hb=m(function*(t){const e=yield gue(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ms(e.getKey("auth")),p256dh:ms(e.getKey("p256dh"))},r=yield e8(t.firebaseDependencies);if(r){if(mue(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?pue(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield t8(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return i8(t.firebaseDependencies,n)}return i8(t.firebaseDependencies,n)}),hb.apply(this,arguments)}function r8(t){return fb.apply(this,arguments)}function fb(){return fb=m(function*(t){const e=yield e8(t.firebaseDependencies);e&&(yield t8(t.firebaseDependencies,e.token),yield uue(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),fb.apply(this,arguments)}function pue(t,e){return pb.apply(this,arguments)}function pb(){return pb=m(function*(t,e){try{const n=yield due(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield nb(t.firebaseDependencies,r),n}catch(n){throw yield r8(t),n}}),pb.apply(this,arguments)}function i8(t,e){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t,e){const r={token:yield lue(t,e),createTime:Date.now(),subscriptionOptions:e};return yield nb(t,r),r.token}),gb.apply(this,arguments)}function gue(t,e){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nue(e)})}),mb.apply(this,arguments)}function mue(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function s8(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function _ue(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function yue(t,e){!e.data||(t.data=e.data)}(e,t),function vue(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function wue(t){return"object"==typeof t&&!!t&&X5 in t}function o8(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function _b(t){return fn.create("missing-app-config-values",{valueName:t})}o8("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),o8("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Cue{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Eue(t){if(!t||!t.options)throw _b("App Configuration Object");if(!t.name)throw _b("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw _b(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function a8(t){return yb.apply(this,arguments)}function yb(){return yb=m(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(Yae,{scope:Jae}),t.swRegistration.update().catch(()=>{})}catch(n){throw fn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}}),yb.apply(this,arguments)}function Iue(t,e){return vb.apply(this,arguments)}function vb(){return vb=m(function*(t,e){if(!e&&!t.swRegistration&&(yield a8(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");t.swRegistration=e}}),vb.apply(this,arguments)}function bue(t,e){return wb.apply(this,arguments)}function wb(){return wb=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=J5)}),wb.apply(this,arguments)}function Eb(){return Eb=m(function*(t,e){if(!navigator)throw fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fn.create("permission-blocked");return yield bue(t,e?.vapidKey),yield Iue(t,e?.serviceWorkerRegistration),fue(t)}),Eb.apply(this,arguments)}function Tue(t,e,n){return Cb.apply(this,arguments)}function Cb(){return Cb=m(function*(t,e,n){const r=Due(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[X5],message_name:n[Zae],message_time:n[eue],message_device_time:Math.floor(Date.now()/1e3)})}),Cb.apply(this,arguments)}function Due(t){switch(t){case Lc.NOTIFICATION_CLICKED:return"notification_open";case Lc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ib(){return Ib=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Lc.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(s8(n)):t.onMessageHandler.next(s8(n)));const r=n.data;wue(r)&&"1"===r[tue]&&(yield Tue(t,n.messageType,r))}),Ib.apply(this,arguments)}const c8="@firebase/messaging",Aue=t=>{const e=new Cue(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Sue(t,e){return Ib.apply(this,arguments)}(e,n)),e},xue=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function u8(t,e){return Eb.apply(this,arguments)}(e,r)}};function d8(){return bb.apply(this,arguments)}function bb(){return(bb=m(function*(){try{yield Xu()}catch{return!1}return typeof window<"u"&&Ks()&&mg()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Nue(t=Ei()){return d8().then(e=>{if(!e)throw fn.create("unsupported-browser")},e=>{throw fn.create("indexed-db-unsupported")}),qn(nt(t),"messaging").getImmediate()}!function Rue(){Ot(new Dt("messaging",Aue,"PUBLIC")),Ot(new Dt("messaging-internal",xue,"PRIVATE")),he(c8,"0.9.16"),he(c8,"0.9.16","esm2017")}();const Lm="analytics",Pue="firebase_id",Lue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h8="https://www.googletagmanager.com/gtag/js",pn=new Qs("@firebase/analytics");function f8(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Uue(t,e){const n=document.createElement("script");n.src=`${h8}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Bue(t,e,n,r,i,s){return Sb.apply(this,arguments)}function Sb(){return Sb=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield f8(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){pn.error(a)}t("config",i,s)}),Sb.apply(this,arguments)}function $ue(t,e,n,r,i){return Ab.apply(this,arguments)}function Ab(){return Ab=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield f8(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){pn.error(s)}}),Ab.apply(this,arguments)}function Gue(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(h8))return e;return null}const _r=new Xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),p8=new class Kue{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Que(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Yue(t){return xb.apply(this,arguments)}function xb(){return xb=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Que(r)},s=Lue.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),xb.apply(this,arguments)}function Jue(t){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t,e=p8,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw _r.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw _r.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ece;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),g8({appId:r,apiKey:i,measurementId:s},o,a,e)}),Rb.apply(this,arguments)}function g8(t,e,n){return kb.apply(this,arguments)}function kb(){return kb=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=p8){var s,o;const{appId:a,measurementId:u}=t;try{yield Xue(r,e)}catch(c){if(u)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield Yue(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!Zue(l)){if(i.deleteThrottleMetadata(a),u)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?dw(n,i.intervalMillis,30):dw(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),pn.debug(`Calling attemptFetch again in ${d} millis`),g8(t,h,r,i)}}),kb.apply(this,arguments)}function Xue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Zue(t){if(!(t instanceof fr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class ece{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Mb,Ub;function Nb(){return Nb=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),Nb.apply(this,arguments)}function Ob(){return Ob=m(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),Ob.apply(this,arguments)}function m8(t){Ub=t}function _8(t){Mb=t}function oce(){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(){var t;if(!Ks())return pn.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xu()}catch(e){return pn.warn(_r.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0}),Vb.apply(this,arguments)}function Bb(){return Bb=m(function*(t,e,n,r,i,s,o){var a;const u=Jue(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>pn.error(f)),e.push(u);const c=oce().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);Gue()||Uue(s,l.measurementId),Ub&&(i("consent","default",Ub),m8(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Pue]=d),i("config",l.measurementId,h),Mb&&(i("set",Mb),_8(void 0)),l.measurementId}),Bb.apply(this,arguments)}class uce{constructor(e){this.app=e}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},y8=[];const v8={};let E8,ys,Um="dataLayer",$b=!1;function lce(t,e,n){!function cce(){const t=[];if(gg()&&t.push("This is a browser extension environment."),mg()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});pn.warn(n.message)}}();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _r.create("no-api-key");pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[r])throw _r.create("already-exists",{id:r});if(!$b){!function Vue(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Um);const{wrappedGtag:s,gtagCore:o}=function Hue(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jue(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield $ue(t,e,n,a,u):"config"===o?yield Bue(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){pn.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(_s,y8,v8,Um,"gtag");ys=s,E8=o,$b=!0}return _s[r]=function ace(t,e,n,r,i,s,o){return Bb.apply(this,arguments)}(t,y8,v8,e,E8,Um,n),new uce(t)}function dce(t=Ei()){const e=qn(t=nt(t),Lm);return e.isInitialized()?e.getImmediate():function hce(t,e={}){const n=qn(t,Lm);if(n.isInitialized()){const i=n.getImmediate();if(fd(e,n.getOptions()))return i;throw _r.create("already-initialized")}return n.initialize({options:e})}(t)}function fce(){return jb.apply(this,arguments)}function jb(){return(jb=m(function*(){if(gg()||!mg()||!Ks())return!1;try{return yield Xu()}catch{return!1}})).apply(this,arguments)}function pce(t,e,n){t=nt(t),function rce(t,e,n,r){return Ob.apply(this,arguments)}(ys,_s[t.app.options.appId],e,n).catch(r=>pn.error(r))}function C8(t,e,n,r){t=nt(t),function tce(t,e,n,r,i){return Nb.apply(this,arguments)}(ys,_s[t.app.options.appId],e,n,r).catch(i=>pn.error(i))}const I8="@firebase/analytics";!function gce(){Ot(new Dt(Lm,(e,{options:n})=>lce(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ot(new Dt("analytics-internal",function t(e){try{const n=e.getProvider(Lm).getImmediate();return{logEvent:(r,i,s)=>C8(n,r,i,s)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),he(I8,"0.8.0"),he(I8,"0.8.0","esm2017")}();class mce extends rr{constructor(e,n){super()}schedule(e,n=0){return this}}const Vm={setInterval(t,e,...n){const{delegate:r}=Vm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class T8 extends mce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Vm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Vm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ka(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const D8={now:()=>(D8.delegate||Date).now(),delegate:void 0};class mh{constructor(e,n=mh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mh.now=D8.now;class S8 extends mh{constructor(e,n=mh.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const vce=new class yce extends S8{}(class _ce extends T8{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),wce=new S8(T8),yr=new Rl("7.4.1"),Hb="__angularfire_symbol__analyticsIsSupportedValue",Gb="__angularfire_symbol__analyticsIsSupported",zb="__angularfire_symbol__remoteConfigIsSupportedValue",Wb="__angularfire_symbol__remoteConfigIsSupported",qb="__angularfire_symbol__messagingIsSupportedValue",Kb="__angularfire_symbol__messagingIsSupported";globalThis[Gb]||(globalThis[Gb]=fce().then(t=>globalThis[Hb]=t).catch(()=>globalThis[Hb]=!1)),globalThis[Kb]||(globalThis[Kb]=d8().then(t=>globalThis[qb]=t).catch(()=>globalThis[qb]=!1)),globalThis[Wb]||(globalThis[Wb]=Qae().then(t=>globalThis[zb]=t).catch(()=>globalThis[zb]=!1));const Qb=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,Bm={async:()=>globalThis[Kb],sync:()=>{const t=globalThis[qb];if(void 0===t)throw new Error(Qb("Messaging"));return t}},$m={async:()=>globalThis[Wb],sync:()=>{const t=globalThis[zb];if(void 0===t)throw new Error(Qb("RemoteConfig"));return t}},jm={async:()=>globalThis[Gb],sync:()=>{const t=globalThis[Hb];if(void 0===t)throw new Error(Qb("Analytics"));return t}};function Si(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Ai=(t,e)=>{const n=e?[e]:d3(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Uc(){}class A8{constructor(e,n=vce){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Ece{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uc,{},Uc,Uc)),n.pipe(nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xi=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new A8(Zone.current)),this.insideAngular=n.run(()=>new A8(Zone.current,wce)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(N(Te))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ka(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Cce(t){return ka().ngZone.runOutsideAngular(()=>t())}function Ma(t){return ka().ngZone.run(()=>t())}function Ice(t){return ka(),function bce(t){return function(n){return(n=n.lift(new Ece(t.ngZone))).pipe(vf(t.outsideAngular),yf(t.insideAngular))}}(ka())(t)}const Tce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ma(()=>t.apply(void 0,r))},Ut=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ma(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uc,{},Uc,Uc)))),r[s]=Tce(r[s],n));const i=Cce(()=>t.apply(this,r));if(!e){if(i instanceof Ge){const s=ka();return i.pipe(vf(s.outsideAngular),yf(s.insideAngular))}return Ma(()=>i)}return i instanceof Ge?i.pipe(Ice):i instanceof Promise?Ma(()=>new Promise((s,o)=>i.then(a=>Ma(()=>s(a)),a=>Ma(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ma(()=>i)};class vr{constructor(e){return e}}class Ri{constructor(){return d3()}}const Yb=new W("angularfire2._apps"),Sce={provide:vr,useFactory:function Dce(t){return t&&1===t.length?t[0]:new vr(Ei())},deps:[[new ve,Yb]]},Ace={provide:Ri,deps:[[new ve,Yb]]};function xce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vr(r)}}let Rce=(()=>{class t{constructor(n){he("angularfire",yr.full,"core"),he("angularfire",yr.full,"app"),he("angular",Tk.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(N(Wo))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[Sce,Ace]}),t})();function kce(t,...e){return{ngModule:Rce,providers:[{provide:Yb,useFactory:xce(t),multi:!0,deps:[Te,Qe,xi,...e]}]}}const Mce=Ut(jte,!0),x8=new Map,Nce={activated:!1,tokenObservers:[]},Pce={initialized:!1,enabled:!1};function Qt(t){return x8.get(t)||Nce}function ei(t,e){x8.set(t,e)}function Hm(){return Pce}class Vce{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Ju,yield function Bce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ju,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vn=new Xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function k8(t){if(!Qt(t).activated)throw Vn.create("use-before-activation",{appName:t.name})}function Zb(t,e){return eT.apply(this,arguments)}function eT(){return eT=m(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw Vn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw Vn.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw Vn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}),eT.apply(this,arguments)}function Gce(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _h="firebase-app-check-store";let Wm=null;function N8(){return Wm||(Wm=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(Vn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_h,{keyPath:"compositeKey"})}}catch(r){e(Vn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),Wm)}function tT(){return tT=m(function*(t,e){const r=(yield N8()).transaction(_h,"readwrite"),s=r.objectStore(_h).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Vn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),tT.apply(this,arguments)}const yh=new Qs("@firebase/app-check");function L8(t,e){return Ks()?function Kce(t,e){return function P8(t,e){return tT.apply(this,arguments)}(function F8(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{yh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function U8(){return Hm().enabled}function V8(){return sT.apply(this,arguments)}function sT(){return sT=m(function*(){const t=Hm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sT.apply(this,arguments)}const ele={error:"UNKNOWN_ERROR"};function tle(t){return hg.encodeString(JSON.stringify(t),!1)}function qm(t){return oT.apply(this,arguments)}function oT(){return oT=m(function*(t,e=!1){const n=t.app;k8(n);const r=Qt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Km(u)&&(i=u)}if(!e&&i&&Km(i))return{token:i.token};let a,o=!1;if(U8()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zb(Gce(n,yield V8()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield L8(n,u),ei(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?yh.warn(u.message):yh.error(u),s=u}return i?(a={token:i.token},ei(n,Object.assign(Object.assign({},r),{token:i})),yield L8(n,i)):a=rle(s),o&&$8(n,a),a}),oT.apply(this,arguments)}function uT(t,e){const n=Qt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ei(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function B8(t){const{app:e}=t,n=Qt(e);let r=n.tokenRefresher;r||(r=function nle(t){const{app:e}=t;return new Vce(m(function*(){let r;if(r=Qt(e).token?yield qm(t,!0):yield qm(t),r.error)throw r.error}),()=>!0,()=>{const n=Qt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),ei(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function $8(t,e){const n=Qt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Km(t){return t.expireTimeMillis-Date.now()>0}function rle(t){return{token:tle(ele),error:t}}class ile{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qt(this.app);for(const n of e)uT(this.app,n.next);return Promise.resolve()}}const Q8="app-check-internal";!function yle(){Ot(new Dt("app-check",t=>function sle(t,e){return new ile(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Q8).initialize()})),Ot(new Dt(Q8,t=>function ole(t){return{getToken:e=>qm(t,e),addTokenListener:e=>function aT(t,e,n,r){const{app:i}=t,s=Qt(i),o={next:n,error:r,type:e};if(ei(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Km(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),B8(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>B8(t))}(t,"INTERNAL",e),removeTokenListener:e=>uT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),he("@firebase/app-check","0.5.12")}();class Vc{constructor(){return Ai("app-check")}}typeof window<"u"&&window;const Ile=function J8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X8=new Xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Z8=new Qs("@firebase/auth");function Ym(t,...e){Z8.logLevel<=we.ERROR&&Z8.error(`Auth (9.9.3): ${t}`,...e)}function Zn(t,...e){throw fT(t,...e)}function ki(t,...e){return fT(t,...e)}function e7(t,e,n){const r=Object.assign(Object.assign({},Ile()),{[e]:n});return new Xr("auth","Firebase",r).create(e,{appName:t.name})}function fT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X8.create(t,...e)}function k(t,e,...n){if(!t)throw fT(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ym(e),new Error(e)}function go(t,e){t||Mi(e)}const t7=new Map;function vs(t){go(t instanceof Function,"Expected a class definition");let e=t7.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,t7.set(t,e),e)}function vh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function n7(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=pg()||uw()}get(){return function Dle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pT(){return"http:"===n7()||"https:"===n7()}()||gg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gT(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class r7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ale={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xle=new wh(3e4,6e4);function Vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yt(t,e,n,r){return mT.apply(this,arguments)}function mT(){return mT=m(function*(t,e,n,r,i={}){return i7(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=pd(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),r7.fetch()(s7(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),mT.apply(this,arguments)}function i7(t,e,n){return _T.apply(this,arguments)}function _T(){return _T=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ale),e);try{const i=new Rle(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Eh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Eh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Eh(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Eh(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw e7(t,l,c);Zn(t,l)}}catch(i){if(i instanceof fr)throw i;Zn(t,"network-request-failed")}}),_T.apply(this,arguments)}function ws(t,e,n,r){return yT.apply(this,arguments)}function yT(){return yT=m(function*(t,e,n,r,i={}){const s=yield Yt(t,e,n,r,i);return"mfaPendingCredential"in s&&Zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),yT.apply(this,arguments)}function s7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gT(t.config,i):`${t.config.apiScheme}://${i}`}class Rle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),xle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ki(t,e,r);return i.customData._tokenResponse=n,i}function vT(){return vT=m(function*(t,e){return Yt(t,"POST","/v1/accounts:delete",e)}),vT.apply(this,arguments)}function Nle(t,e){return ET.apply(this,arguments)}function ET(){return ET=m(function*(t,e){return Yt(t,"POST","/v1/accounts:lookup",e)}),ET.apply(this,arguments)}function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function CT(){return CT=m(function*(t,e=!1){const n=nt(t),r=yield n.getIdToken(e),i=Jm(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ch(IT(i.auth_time)),issuedAtTime:Ch(IT(i.iat)),expirationTime:Ch(IT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),CT.apply(this,arguments)}function IT(t){return 1e3*Number(t)}function Jm(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=aw(r);return s?JSON.parse(s):(Ym("Failed to decode base64 JWT payload"),null)}catch(s){return Ym("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Es(t,e){return bT.apply(this,arguments)}function bT(){return bT=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof fr&&Fle(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),bT.apply(this,arguments)}function Fle({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Lle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class o7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ih(t){return TT.apply(this,arguments)}function TT(){return TT=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Es(t,Nle(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Ble(s.providerUserInfo):[],a=Vle(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new o7(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),TT.apply(this,arguments)}function DT(){return DT=m(function*(t){const e=nt(t);yield Ih(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),DT.apply(this,arguments)}function Vle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ble(t){return t.map(e=>{var{providerId:n}=e,r=Vx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ST(){return ST=m(function*(t,e){const n=yield i7(t,{},m(function*(){const r=pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=s7(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",r7.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),ST.apply(this,arguments)}class bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ole(t){const e=Jm(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function $le(t,e){return ST.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bh;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bh,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function mo(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new o7(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Es(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ple(t){return CT.apply(this,arguments)}(this,e)}reload(){return function Ule(t){return DT.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ih(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Es(e,function kle(t,e){return vT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,I=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:T,isAnonymous:R,providerData:V,stsTokenManager:Se}=n;k(y&&Se,e,"internal-error");const mn=bh.fromJSON(this.name,Se);k("string"==typeof y,e,"internal-error"),mo(d,e.name),mo(h,e.name),k("boolean"==typeof T,e,"internal-error"),k("boolean"==typeof R,e,"internal-error"),mo(f,e.name),mo(p,e.name),mo(g,e.name),mo(_,e.name),mo(v,e.name),mo(I,e.name);const ai=new Na({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:mn,createdAt:v,lastLoginAt:I});return V&&Array.isArray(V)&&(ai.providerData=V.map(ff=>Object.assign({},ff))),_&&(ai._redirectEventId=_),ai}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new bh;i.updateFromServerResponse(n);const s=new Na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ih(s),s})()}}const a7=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xm(t,e,n){return`firebase:${t}:${e}:${n}`}class $c{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Na._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new $c(vs(a7),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||vs(a7);const o=Xm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Na._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new $c(s,e,r)):new $c(s,e,r)})()}}function u7(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f7(e))return"Blackberry";if(p7(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||l7(e))&&!e.includes("edge/"))return"Chrome";if(h7(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function c7(t=jt()){return/firefox\//i.test(t)}function AT(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l7(t=jt()){return/crios\//i.test(t)}function d7(t=jt()){return/iemobile/i.test(t)}function h7(t=jt()){return/android/i.test(t)}function f7(t=jt()){return/blackberry/i.test(t)}function p7(t=jt()){return/webos/i.test(t)}function Zm(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g7(t=jt()){return Zm(t)||h7(t)||p7(t)||f7(t)||/windows phone/i.test(t)||d7(t)}function m7(t,e=[]){let n;switch(t){case"Browser":n=u7(jt());break;case"Worker":n=`${u7(jt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.9.3/${e.length?e.join(","):"FirebaseCore-web"}`}class zle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Wle{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _7(this),this.idTokenSubscription=new _7(this),this.beforeStateQueue=new zle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X8,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield $c.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){var r;try{yield Ih(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Sle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?nt(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(vs(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&vs(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield $c.create(n,[vs(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function er(t){return nt(t)}class _7{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Vee(t,e){const n=new Bee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cs(t,e){return $T.apply(this,arguments)}function $T(){return $T=m(function*(t,e){return ws(t,"POST","/v1/accounts:signInWithIdp",Vt(t,e))}),$T.apply(this,arguments)}class _o{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hde extends _o{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Na._fromIdTokenResponse(e,r,i),o=b7(r);return new Mr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=b7(r);return new Mr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function b7(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class r_ extends fr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,r_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new r_(e,n,r,i)}}function T7(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?r_._fromErrorAndOperation(t,s,e,r):s})}function YT(t,e){return JT.apply(this,arguments)}function JT(){return JT=m(function*(t,e,n=!1){const r=yield Es(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Mr._forOperation(t,"link",r)}),JT.apply(this,arguments)}function ZT(){return ZT=m(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield Es(t,T7(i,s,e,t),n);k(o.idToken,i,"internal-error");const a=Jm(o.idToken);k(a,i,"internal-error");const{sub:u}=a;return k(t.uid===u,i,"user-mismatch"),Mr._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Zn(i,"user-mismatch"),o}}),ZT.apply(this,arguments)}function eD(){return eD=m(function*(t,e,n=!1){const r="signIn",i=yield T7(t,r,e),s=yield Mr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),eD.apply(this,arguments)}const o_="__sak";class R7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(o_,"1"),this.storage.removeItem(o_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nde=(()=>{class t extends R7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rde(){const t=jt();return AT(t)||Zm(t)}()&&function Gle(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=g7(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Hle(){return n3()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),k7=(()=>{class t extends R7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Ode=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Pde(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function xD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Fde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=xD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Bt(){return window}function RD(){return typeof Bt().WorkerGlobalScope<"u"&&"function"==typeof Bt().importScripts}function kD(){return(kD=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const M7="firebaseLocalStorageDb",a_="firebaseLocalStorage",N7="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u_(t,e){return t.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function MD(){const t=indexedDB.open(M7,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a_,{keyPath:N7})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(a_)?e(r):(r.close(),yield function jde(){const t=indexedDB.deleteDatabase(M7);return new Ah(t).toPromise()}(),e(yield MD()))}))})}function P7(t,e,n){return ND.apply(this,arguments)}function ND(){return ND=m(function*(t,e,n){const r=u_(t,!0).put({[N7]:e,value:n});return new Ah(r).toPromise()}),ND.apply(this,arguments)}function PD(){return PD=m(function*(t,e){const n=u_(t,!1).get(e),r=yield new Ah(n).toPromise();return void 0===r?null:r.value}),PD.apply(this,arguments)}function O7(t,e){const n=u_(t,!0).delete(e);return new Ah(n).toPromise()}const Wde=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield MD()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return RD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=Ode._getInstance(function Bde(){return RD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Ude(){return kD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Fde(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Vde(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield MD();return yield P7(n,o_,"1"),yield O7(n,o_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>P7(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Hde(t,e){return PD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>O7(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=u_(o,!1).getAll();return new Ah(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function L7(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Oa(t,e){return e?vs(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}L7("rcb"),new wh(3e4,6e4);class GD extends class Qle{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function che(t){return function A7(t,e){return eD.apply(this,arguments)}(t.auth,new GD(t),t.bypassAuthState)}function lhe(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function S7(t,e){return ZT.apply(this,arguments)}(n,new GD(t),t.bypassAuthState)}function dhe(t){return zD.apply(this,arguments)}function zD(){return zD=m(function*(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),YT(n,new GD(t),t.bypassAuthState)}),zD.apply(this,arguments)}new wh(2e3,1e4);const xh=new Map;class phe extends class hhe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return che;case"linkViaPopup":case"linkViaRedirect":return dhe;case"reauthViaPopup":case"reauthViaRedirect":return lhe;default:Zn(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=xh.get(n.auth._key());if(!r){try{const s=(yield function ghe(t,e){return YD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xh.set(n.auth._key(),r)}return n.bypassAuthState||xh.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function YD(){return YD=m(function*(t,e){const n=B7(e),r=V7(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),YD.apply(this,arguments)}function mhe(t,e){xh.set(t._key(),e)}function V7(t){return vs(t._redirectPersistence)}function B7(t){return Xm("pendingRedirect",t.config.apiKey,t.name)}function $7(t,e){return rS.apply(this,arguments)}function rS(){return rS=m(function*(t,e,n=!1){const r=er(t),i=Oa(r,e),o=yield new phe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),rS.apply(this,arguments)}class Ehe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Che(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G7(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G7(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(H7(e))}saveEventToCache(e){this.cachedEventUids.add(H7(e)),this.lastProcessedEventTime=Date.now()}}function H7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G7({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Ihe(t){return sS.apply(this,arguments)}function sS(){return sS=m(function*(t,e={}){return Yt(t,"GET","/v1/projects",e)}),sS.apply(this,arguments)}const bhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,The=/^https?/;function oS(){return oS=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Ihe(t);for(const n of e)try{if(She(n))return}catch{}Zn(t,"unauthorized-domain")}),oS.apply(this,arguments)}function She(t){const e=vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!The.test(n))return!1;if(bhe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ahe=new wh(3e4,6e4);function z7(){const t=Bt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let l_=null;function Rhe(t){return l_=l_||function xhe(t){return new Promise((e,n)=>{var r,i,s;function o(){z7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z7(),n(ki(t,"network-request-failed"))},timeout:Ahe.get()})}if(null!==(i=null===(r=Bt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Bt().gapi)||void 0===s||!s.load){const a=L7("iframefcb");return Bt()[a]=()=>{gapi.load?o():n(ki(t,"network-request-failed"))},function F7(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Yde(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw l_=null,e})}(t),l_}const khe=new wh(5e3,15e3),Phe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ohe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fhe(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gT(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Ohe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pd(r).slice(1)}`}function aS(){return aS=m(function*(t){const e=yield Rhe(t),n=Bt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:Fhe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Phe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ki(t,"network-request-failed"),u=Bt().setTimeout(()=>{o(a)},khe.get());function c(){Bt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),aS.apply(this,arguments)}const Uhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class W7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q7(t,e,n,r,i,s){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof _o){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof hde){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function qhe({config:t}){return t.emulator?gT(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${pd(a).slice(1)}`}const uS="webStorageSupport",Qhe=class Khe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k7,this._completeRedirectFn=$7,this._overrideRedirectResult=mhe}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;go(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=q7(e,n,r,vh(),i);return function Hhe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Uhe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=jt().toLowerCase();n&&(a=l7(c)?"_blank":n),c7(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function jle(t=jt()){var e;return Zm(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Ghe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new W7(null);const d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new W7(d)}(e,a,xD())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Lde(t){Bt().location.href=t}(q7(e,n,r,vh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(go(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Lhe(t){return aS.apply(this,arguments)}(e),i=new Ehe(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uS,{type:uS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[uS];void 0!==o&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Dhe(t){return oS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g7()||AT()||Zm()}};var Q7="@firebase/auth";class Yhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zhe(t=Ei()){const e=qn(t,"auth");return e.isInitialized()?e.getImmediate():function ble(t,e){const n=qn(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(fd(n.getOptions(),e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Qhe,persistence:[Wde,Nde,k7]})}function efe(t){return new Ge(function(e){var n=function Dde(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Xhe(t){Ot(new Dt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{k(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),k(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m7(t)},l=new Wle(a,u,c);return function Tle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ot(new Dt("auth-internal",e=>{const n=er(e.getProvider("auth").getImmediate());return new Yhe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),he(Q7,"0.20.5",function Jhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),he(Q7,"0.20.5","esm2017")}("Browser");class d_{constructor(e){return e}}class Rh{constructor(){return Ai("auth")}}const cS=new W("angularfire2.auth-instances");function rfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new d_(r)}}const ife={provide:Rh,deps:[[new ve,cS]]},sfe={provide:d_,useFactory:function nfe(t,e){const n=Si("auth",t,e);return n&&new d_(n)},deps:[[new ve,cS],vr]};let ofe=(()=>{class t{constructor(){he("angularfire",yr.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[sfe,ife]}),t})();function afe(t,...e){return{ngModule:ofe,providers:[{provide:cS,useFactory:rfe(t),multi:!0,deps:[Te,Qe,xi,Ri,[new ve,Vc],...e]}]}}const ufe=Ut(efe,!0),cfe=Ut(Zhe,!0);var lfe={includeMetadataChanges:!1};function lS(t,e){return void 0===e&&(e=lfe),new Ge(function(n){var r=function Noe(t,...e){var n,r,i;t=nt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||aI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(aI(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof wt)c=be(t.firestore,Je),l=dc(t._key.path),u={next:d=>{e[o]&&e[o](function gI(t,e,n){const r=n.docs.get(e._key),i=new Da(t);return new Nc(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=be(t,Tn);c=be(d.firestore,Je),l=d._query;const h=new Da(c);u={next:f=>{e[o]&&e[o](new Pc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function E5(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new bm(p),_=new DC(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function EC(t,e){return CC.apply(this,arguments)}(yield Rc(d),_)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(m(function*(){return function IC(t,e){return bC.apply(this,arguments)}(yield Rc(d),_)}))}}(function Lt(t){return t._firestoreClient||u5(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _fe(t,e){return void 0===e&&(e={}),function mfe(t){return lS(t,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}(t).pipe(ce(function(n){return n.map(function(r){return function X7(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class h_{constructor(e){return e}}const n9="firestore",fS=new W("angularfire2.firestore-instances");function wfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new h_(r)}}const Efe={provide:class yfe{constructor(){return Ai(n9)}},deps:[[new ve,fS]]},Cfe={provide:h_,useFactory:function vfe(t,e){const n=Si(n9,t,e);return n&&new h_(n)},deps:[[new ve,fS],vr]};let Ife=(()=>{class t{constructor(){he("angularfire",yr.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[Cfe,Efe]}),t})();function bfe(t,...e){return{ngModule:Ife,providers:[{provide:fS,useFactory:wfe(t),multi:!0,deps:[Te,Qe,xi,Ri,[new ve,Rh],[new ve,Vc],...e]}]}}const r9=Ut(_fe,!0),Tfe=Ut(goe,!0),Dfe=Ut(Doe,!0),Sfe=Ut(Aoe,!0),xfe=(t,e)=>(t.push(e),t);function pS(){return Ze((t,e)=>{(function Afe(t,e){return Ze($O(t,e,arguments.length>=2,!1,!0))})(xfe,[])(t).subscribe(e)})}const i9="firebasestorage.googleapis.com",s9="storageBucket";class ht extends fr{constructor(e,n){super(gS(e),`Firebase Storage: ${n} (${gS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}_codeEquals(e){return gS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function gS(t){return"storage/"+t}function mS(){return new ht("unknown","An unknown error occurred, please check the error payload for server response.")}function _S(t){return new ht("invalid-argument",t)}function u9(){return new ht("app-deleted","The Firebase app was deleted.")}function Mh(t){throw new ht("internal-error","Internal error: "+t)}class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(""===r.path)return r;throw function Vfe(t){return new ht("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(T){T.path_=decodeURIComponent(T.path)}const d=n.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===i9?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<y.length;T++){const R=y[T],V=R.regex.exec(e);if(V){let mn=V[R.indices.path];mn||(mn=""),r=new Bn(V[R.indices.bucket],mn),R.postModify(r);break}}if(null==r)throw function Ufe(t){return new ht("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class Gfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function f_(t){return"string"==typeof t||t instanceof String}function vS(t,e,n,r){if(r<e)throw _S(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _S(`Invalid value for '${t}'. Expected ${n} or less.`)}function Is(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function l9(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var yo=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(yo||(yo={})),yo))();class Yfe{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function qfe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=mS();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?u9():function o9(){return new ht("canceled","User canceled the upload/download.")}():function Lfe(){return new ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new p_(!1,null,!0)):this.backoffId_=function zfe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,u())},_)}function h(){s&&clearTimeout(s)}function f(_,...v){if(c)return void h();if(_)return h(),void l.call(null,_,...v);if(u()||o)return h(),void l.call(null,_,...v);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function g(_){p||(p=!0,h(),!c&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new p_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===yo.NO_ERROR,u=s.getStatus();if(!a||this.isRetryStatusCode_(u)){const l=s.getErrorCode()===yo.ABORT;return void r(!1,new p_(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new p_(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Wfe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return n||i||s}}class p_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ES(t){let e;try{e=JSON.parse(t)}catch{return null}return function Qfe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function g9(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function hpe(t,e){return e}class $n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||hpe}}let g_=null;function m9(t,e,n){const r=ES(e);return null===r?null:function gpe(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function ppe(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Bn(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}const _9="prefixes";class Ni{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pi(t){if(!t)throw mS()}function jc(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Ofe(){return new ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Pfe(){return new ht("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Nfe(t){return new ht("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Ffe(t){return new ht("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r,i.serverResponse=r.serverResponse,i}}function Epe(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Is(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,l=new Ni(a,"GET",function vpe(t,e){return function n(r,i){const s=function ype(t,e,n){const r=ES(n);return null===r?null:function _pe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_9])for(const i of n[_9]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Bn(e,s));r.prefixes.push(o)}if(n.items)for(const i of n.items){const s=t._makeStorageReference(new Bn(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return Pi(null!==s),s}}(t,e.bucket),c);return l.urlParams=s,l.errorHandler=jc(e),l}class kpe extends class Rpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Mh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ni(){return new kpe}class Fa{constructor(e,n){this._service=e,this._location=n instanceof Bn?n:Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fa(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g9(this._location.path)}get storage(){return this._service}get parent(){const e=function lpe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Bn(this._location.bucket,e);return new Fa(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Hfe(t){return new ht("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function D9(t,e,n){return TS.apply(this,arguments)}function TS(){return TS=m(function*(t,e,n){const i=yield S9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield D9(t,e,i.nextPageToken))}),TS.apply(this,arguments)}function S9(t,e){null!=e&&"number"==typeof e.maxResults&&vS("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Epe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ni)}function Gpe(t){t._throwIfRoot("getDownloadURL");const e=function Cpe(t,e,n){const i=Is(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new Ni(i,"GET",function wpe(t,e){return function n(r,i){const s=m9(t,i,e);return Pi(null!==s),function mpe(t,e,n,r){const i=ES(e);if(null===i||!f_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.fullPath;return Is("/b/"+o(t.bucket)+"/o/"+o(d),n,r)+l9({alt:"media",token:c})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=function Ph(t){const e=jc(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Mfe(t){return new ht("object-not-found","Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}(e),a}(t.storage,t._location,function Nh(){if(g_)return g_;const t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));const n=new $n("name");n.xform=function e(s,o){return function fpe(t){return!f_(t)||t.length<2?t:g9(t)}(o)},t.push(n);const i=new $n("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),g_=t,g_}());return t.storage.makeRequestWithTokens(e,ni).then(n=>{if(null===n)throw function jfe(){return new ht("no-download-url","The given file does not have any download URLs.")}();return n})}function x9(t,e){if(t instanceof DS){const n=t;if(null==n._bucket)throw function Bfe(){return new ht("no-default-bucket","No default bucket found. Did you set the '"+s9+"' property when initializing the app?")}();const r=new Fa(n,n._bucket);return null!=e?x9(r,e):r}return void 0!==e?function A9(t,e){const n=function dpe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Bn(t._location.bucket,n);return new Fa(t.storage,r)}(t,e):t}function R9(t,e){const n=e?.[s9];return null==n?null:Bn.makeFromBucketSpec(n,t)}class DS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=i9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bn.makeFromBucketSpec(i,this._host):R9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bn.makeFromBucketSpec(this._url,e):R9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return m(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return m(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fa(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new Gfe(u9());{const s=function tpe(t,e,n,r,i,s){const o=l9(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function Zfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Jfe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function Xfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function epe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Yfe(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return m(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const k9="@firebase/storage",N9="storage";function Ype(t){return function $pe(t){const e={prefixes:[],items:[]};return D9(t,e).then(()=>e)}(t=nt(t))}function Jpe(t){return Gpe(t=nt(t))}function Xpe(t,e){return function Kpe(t,e){if(e&&function Wpe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof DS)return function qpe(t,e){return new Fa(t,e)}(t,e);throw _S("To use ref(service, url), the first argument must be a Storage instance.")}return x9(t,e)}(t=nt(t),e)}function Zpe(t=Ei(),e){return qn(t=nt(t),N9).getImmediate({identifier:e})}function ege(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new DS(n,r,i,e,Js)}!function tge(){Ot(new Dt(N9,ege,"PUBLIC").setMultipleInstances(!0)),he(k9,"0.9.9",""),he(k9,"0.9.9","esm2017")}();class y_{constructor(e){return e}}const P9="storage",SS=new W("angularfire2.storage-instances");function ige(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new y_(r)}}const sge={provide:class nge{constructor(){return Ai(P9)}},deps:[[new ve,SS]]},oge={provide:y_,useFactory:function rge(t,e){const n=Si(P9,t,e);return n&&new y_(n)},deps:[[new ve,SS],vr]};let age=(()=>{class t{constructor(){he("angularfire",yr.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[oge,sge]}),t})();function uge(t,...e){return{ngModule:age,providers:[{provide:SS,useFactory:ige(t),multi:!0,deps:[Te,Qe,xi,Ri,[new ve,Rh],[new ve,Vc],...e]}]}}const O9=Ut(Jpe,!0),cge=Ut(Zpe,!0),lge=Ut(Ype,!0),AS=Ut(Xpe,!0);let F9=(()=>{class t{constructor(n,r){this._firestore=n,this._storage=r,this._collection=function loe(t,e,...n){if(t=nt(t),function oI(t,e,n){if(!n)throw new S(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof hh){const r=Ce.fromString(e,...n);return s5(r),new Di(t,null,r)}{if(!(t instanceof wt||t instanceof Di))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return s5(r),new Di(t.firestore,null,r)}}(this._firestore,"catalog"),this._snapshot=this._collection.withConverter({fromFirestore:i=>i.data(),toFirestore:i=>i})}getAll(){return r9(this._collection).pipe(vi(),hr(n=>n.map(r=>{const i=r.img.url,s=Object.keys(i);return s.some(o=>!o)?z(r):et(s).pipe(qe(o=>et(O9(AS(this._storage,i[o]))).pipe(qe(a=>i[o]=a))),pS(),qe(()=>z(r)))})),qe(n=>n),pS(),ns(n=>(console.log(n),ui)))}getAllImages(){const n=AS(this._storage,"images/catalog");return et(lge(n)).pipe(qe(r=>r.items.map(i=>i.fullPath)),qe(r=>et(O9(AS(this._storage,r)))),pS())}getFeatured(){const n=Dfe(this._snapshot,Sfe("isFeatured","==",!0));return r9(n).pipe(vi())}}return t.\u0275fac=function(n){return new(n||t)(N(h_),N(y_))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class L9{}class U9{}class Ts{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ts?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ts;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ts?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class dge{encodeKey(e){return V9(e)}encodeValue(e){return V9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const fge=/%(\d[a-f0-9])/gi,pge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function V9(t){return encodeURIComponent(t).replace(fge,(e,n)=>pge[n]??e)}function v_(t){return`${t}`}class vo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dge,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hge(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(v_):[v_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new vo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(v_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(v_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class gge{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function B9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function $9(t){return typeof Blob<"u"&&t instanceof Blob}function j9(t){return typeof FormData<"u"&&t instanceof FormData}class Oh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function mge(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ts),this.context||(this.context=new gge),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new vo,this.urlWithParams=n}serializeBody(){return null===this.body?null:B9(this.body)||$9(this.body)||j9(this.body)||function _ge(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j9(this.body)?null:$9(this.body)?this.body.type||null:B9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Oh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var xt=(()=>((xt=xt||{})[xt.Sent=0]="Sent",xt[xt.UploadProgress=1]="UploadProgress",xt[xt.ResponseHeader=2]="ResponseHeader",xt[xt.DownloadProgress=3]="DownloadProgress",xt[xt.Response=4]="Response",xt[xt.User=5]="User",xt))();class xS{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ts,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RS extends xS{constructor(e={}){super(e),this.type=xt.ResponseHeader}clone(e={}){return new RS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class w_ extends xS{constructor(e={}){super(e),this.type=xt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new w_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class H9 extends xS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let MS=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Oh)s=n;else{let u,c;u=i.headers instanceof Ts?i.headers:new Ts(i.headers),i.params&&(c=i.params instanceof vo?i.params:new vo({fromObject:i.params})),s=new Oh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=z(s).pipe(Gs(u=>this.handler.handle(u)));if(n instanceof Oh||"events"===i.observe)return o;const a=o.pipe(Jr(u=>u instanceof w_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ce(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ce(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new vo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,kS(i,r))}post(n,r,i={}){return this.request("POST",n,kS(i,r))}put(n,r,i={}){return this.request("PUT",n,kS(i,r))}}return t.\u0275fac=function(n){return new(n||t)(N(L9))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class G9{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const z9=new W("HTTP_INTERCEPTORS");let yge=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const vge=/^\)\]\}',?\n/;let W9=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ge(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Ts(i.getAllResponseHeaders()),g=function wge(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new RS({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:_}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let I=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof v){const y=v;v=v.replace(vge,"");try{v=""!==v?JSON.parse(v):null}catch(T){v=y,I&&(I=!1,v={error:T,text:v})}}I?(r.next(new w_({body:v,headers:f,status:p,statusText:g,url:_||void 0})),r.complete()):r.error(new H9({error:v,headers:f,status:p,statusText:g,url:_||void 0}))},c=f=>{const{url:p}=a(),g=new H9({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:xt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:xt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:xt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(N(_O))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const NS=new W("XSRF_COOKIE_NAME"),PS=new W("XSRF_HEADER_NAME");class q9{}let Ege=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=iO(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(N(Pn),N(Wo),N(NS))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),OS=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(N(q9),N(PS))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Cge=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(z9,[]);this.chain=r.reduceRight((i,s)=>new G9(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(N(U9),N(Qe))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Ige=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:OS,useClass:yge}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:NS,useValue:n.cookieName}:[],n.headerName?{provide:PS,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[OS,{provide:z9,useExisting:OS,multi:!0},{provide:q9,useClass:Ege},{provide:NS,useValue:"XSRF-TOKEN"},{provide:PS,useValue:"X-XSRF-TOKEN"}]}),t})(),bge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[MS,{provide:L9,useClass:Cge},W9,{provide:U9,useExisting:W9}],imports:[Ige.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})(),E_=(()=>{class t{constructor(n){this.http=n,this.data={}}use(n){return this.http.get(`assets/i18n/${n||"en"}.json`).subscribe({next:i=>this.data=i||{},error:()=>this.data={}})}}return t.\u0275fac=function(n){return new(n||t)(N(MS))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ds=(()=>{class t{constructor(n){this.translate=n}transform(n){return this.translate.data[n]||n}}return t.\u0275fac=function(n){return new(n||t)(H(E_,16))},t.\u0275pipe=yn({name:"translate",type:t,pure:!1}),t})();function Tge(t,e){if(1&t&&(di(),Ns(),C(0,"span"),x(1),ze(2,"translate"),b()),2&t){const n=tn();U(1),mt(We(2,1,n.textContent))}}const Dge=function(){return["cart"]};let K9=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-cart-button"]],inputs:{textContent:"textContent"},decls:4,vars:3,consts:[[3,"routerLink"],["width","21","height","18","fill","currentColor"],["d","M20.19 6.86h-3.55L13.19.38c-.2-.38-.61-.48-1.02-.28-.4.19-.5.57-.3.95l3.14 5.8H5.78l3.15-5.8c.2-.38 0-.76-.3-.95A.82.82 0 007.6.38L4.16 6.86H.8c-.4 0-.81.28-.81.76 0 .38.3.76.81.76h.2l.92 2.86c-.2.1-.3.28-.3.57 0 .38.3.67.7.67L4.06 18h12.88l1.73-5.52c.4 0 .7-.29.7-.67 0-.2-.1-.48-.3-.57L20 8.38h.2c.4 0 .81-.28.81-.76s-.4-.76-.81-.76zm-4.57 9.62H5.07l-1.21-4.1h13.08l-1.32 4.1zm1.63-5.53H3.35L2.54 8.3h15.52l-.81 2.66z"],[4,"ngIf"]],template:function(n,r){1&n&&(C(0,"a",0),di(),C(1,"svg",1),G(2,"path",2),b(),en(3,Tge,3,3,"span",3),b()),2&n&&(ge("routerLink",yi(2,Dge)),U(3),ge("ngIf",!!r.textContent))},dependencies:[Hu,Ws,Ds],styles:["svg[_ngcontent-%COMP%]{color:#0003;margin-right:-4px}svg[_ngcontent-%COMP%]:hover{color:#63d1bb}svg[_ngcontent-%COMP%]:active{color:#63d1bb4d}@media (min-width: 768px){svg[_ngcontent-%COMP%]{padding-bottom:3px;margin-right:-2px}}@media (min-width: 1150px){svg[_ngcontent-%COMP%]{margin-right:5px}}"]}),t})();function Sge(t,e){if(1&t&&G(0,"source",7),2&t){const n=tn(2);zn("srcset","assets/img/",n.fileName,"-desktop@1x.webp 1x, assets/img/",n.fileName,"-desktop@2x.webp 2x",gt)}}function Age(t,e){if(1&t&&G(0,"source",8),2&t){const n=tn(2);zn("srcset","assets/img/",n.fileName,"-tablet@1x.webp 1x, assets/img/",n.fileName,"-tablet@2x.webp 2x",gt)}}function xge(t,e){if(1&t&&G(0,"source",9),2&t){const n=tn(2);zn("srcset","assets/img/",n.fileName,"-mobile@1x.webp 1x, assets/img/",n.fileName,"-mobile@2x.webp 2x",gt)}}function Rge(t,e){if(1&t&&(C(0,"picture"),en(1,Sge,1,2,"source",1),en(2,Age,1,2,"source",2),en(3,xge,1,2,"source",3),G(4,"source",4)(5,"source",5)(6,"img",6),b()),2&t){const n=tn();U(1),ge("ngIf",n.includeWebp),U(1),ge("ngIf",n.includeWebp),U(1),ge("ngIf",n.includeWebp),U(1),zn("srcset","assets/img/",n.fileName,"-desktop@1x.jpg 1x, assets/img/",n.fileName,"-desktop@2x.jpg 2x",gt),U(1),zn("srcset","assets/img/",n.fileName,"-tablet@1x.jpg 1x, assets/img/",n.fileName,"-tablet@2x.jpg 2x",gt),U(1),Mu("src","assets/img/",n.fileName,"-mobile@1x.jpg",gt)("srcset","assets/img/",n.fileName,"-mobile@2x.jpg 2x",gt),Ar("width",n.width),Ar("height",n.height),Ar("alt",n.altText)}}function kge(t,e){if(1&t&&G(0,"source",7),2&t){const n=tn(2);zn("srcset","assets/img/catalog/",n.fileName,"-desktop.webp 1x, assets/img/catalog/",n.fileName,"-desktop@2x.webp 2x",gt)}}function Mge(t,e){if(1&t&&G(0,"source",8),2&t){const n=tn(2);zn("srcset","assets/img/catalog/",n.fileName,"-tablet.webp 1x, assets/img/catalog/",n.fileName,"-tablet@2x.webp 2x",gt)}}function Nge(t,e){if(1&t&&G(0,"source",9),2&t){const n=tn(2);zn("srcset","assets/img/catalog/",n.fileName,"-mobile.webp 1x, assets/img/catalog/",n.fileName,"-mobile@2x.webp 2x",gt)}}function Pge(t,e){if(1&t&&(C(0,"picture"),en(1,kge,1,2,"source",1),en(2,Mge,1,2,"source",2),en(3,Nge,1,2,"source",3),G(4,"source",4)(5,"source",5)(6,"img",10),b()),2&t){const n=tn();U(1),ge("ngIf",n.includeWebp),U(1),ge("ngIf",n.includeWebp),U(1),ge("ngIf",n.includeWebp),U(1),zn("srcset","assets/img/catalog/",n.fileName,"-desktop.jpg 1x, assets/img/catalog/",n.fileName,"-desktop@2x.jpg 2x",gt),U(1),zn("srcset","assets/img/catalog/",n.fileName,"-tablet.jpg 1x, assets/img/catalog/",n.fileName,"-tablet@2x.jpg 2x",gt),U(1),Mu("src","assets/img/catalog/",n.fileName,"-mobile.jpg",gt)("srcset","assets/img/catalog/",n.fileName,"-mobile@2x.jpg 2x",gt),Ar("width",n.width),Ar("height",n.height),Ar("alt",n.altText)}}function Oge(t,e){if(1&t&&(C(0,"picture"),G(1,"source",4)(2,"source",5)(3,"img",10),b()),2&t){const n=tn();U(1),zn("srcset","",n.imageUrls.desktop," 1x, ",n.imageUrls.desktopx2," 2x",gt),U(1),zn("srcset","",n.imageUrls.tablet," 1x, ",n.imageUrls.tabletx2," 2x",gt),U(1),Ar("src",n.imageUrls.mobile,gt),Mu("srcset","",n.imageUrls.mobilex2," 2x",gt),Ar("width",n.width),Ar("height",n.height),Ar("alt",n.altText)}}let Q9=(()=>{class t{constructor(){this._height="195",this._width="260"}set isFeatured(n){this._isFeatured=n||!0}get isFeatured(){return this._isFeatured}set height(n){this._height=n.toString()}get height(){return this._height}set width(n){this._width=n.toString()}get width(){return this._width}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-picture"]],inputs:{imageUrls:"imageUrls",fileName:"fileName",altText:"altText",includeWebp:"includeWebp",isFeatured:"isFeatured",height:"height",width:"width"},decls:3,vars:3,consts:[[4,"ngIf"],["type","image/webp","media","(min-width: 1150px)",3,"srcset",4,"ngIf"],["type","image/webp","media","(min-width: 768px)",3,"srcset",4,"ngIf"],["type","image/webp",3,"srcset",4,"ngIf"],["media","(min-width: 1150px)",3,"srcset"],["media","(min-width: 768px)",3,"srcset"],[1,"featured-item__image",3,"src","srcset","width","height","alt"],["type","image/webp","media","(min-width: 1150px)",3,"srcset"],["type","image/webp","media","(min-width: 768px)",3,"srcset"],["type","image/webp",3,"srcset"],[1,"catalog-item__image",3,"src","srcset","width","height","alt"]],template:function(n,r){1&n&&(en(0,Rge,7,12,"picture",0),en(1,Pge,7,12,"picture",0),en(2,Oge,4,9,"picture",0)),2&n&&(ge("ngIf",r.isFeatured&&!r.imageUrls),U(1),ge("ngIf",!r.isFeatured&&!r.imageUrls),U(1),ge("ngIf",r.imageUrls))},dependencies:[Hu],styles:[".catalog-item__image[_ngcontent-%COMP%]{background-image:url(img_filler.4154060c238a7052.svg);background-position:center}img[alt][_ngcontent-%COMP%]:after{display:block;color:transparent;content:attr(alt)}"]}),t})();const Fge=function(t){return[t]},Lge=function(t){return["catalog",t]};let Uge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-product-card"]],inputs:{product:"product"},decls:17,vars:22,consts:[[1,"catalog-item"],[1,"catalog-item__link",3,"routerLink"],[3,"imageUrls","altText"],[1,"catalog-item__details"],[1,"catalog-item__name"],[3,"routerLink"],[1,"catalog-item__description"],[1,"catalog-item__bottom"],[1,"catalog-item__price"],["aria-label","Add to cart"]],template:function(n,r){1&n&&(C(0,"li",0)(1,"a",1),G(2,"app-picture",2),b(),C(3,"div",3)(4,"h3",4)(5,"a",5),x(6),b()(),C(7,"p",6),x(8),ze(9,"translate"),ze(10,"lowercase"),ze(11,"translate"),b(),C(12,"div",7)(13,"p",8),x(14),ze(15,"currency"),b(),G(16,"app-cart-button",9),b()()()),2&n&&(U(1),ge("routerLink",wp(18,Fge,r.product.id)),U(1),ge("imageUrls",r.product.img.url)("altText",r.product.img.alt),U(3),ge("routerLink",wp(20,Lge,r.product.id)),U(1),mt(r.product.name),U(2),w0("",We(9,10,"T_PRODUCT.HEIGHT")," ",r.product.height," cm, ",We(10,12,We(11,14,"T_PRODUCT.WEIGHT"))," ",r.product.weight," g"),U(6),mt(We(15,16,r.product.price)))},dependencies:[Ws,K9,Q9,dO,fO,Ds]}),t})();const Vge=function(t){return[t]};function Bge(t,e){if(1&t&&(C(0,"a",2),x(1),ze(2,"translate"),b()),2&t){const n=tn();E0("button ",n.uniqueClass,""),ge("routerLink",wp(7,Vge,n.path)),U(1),zr(" ",We(2,5,n.textContent),"\n")}}function $ge(t,e){if(1&t&&(C(0,"button"),x(1),ze(2,"translate"),b()),2&t){const n=tn();E0("button ",n.uniqueClass,""),U(1),zr(" ",We(2,4,n.textContent)," ")}}let Fh=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-button"]],inputs:{textContent:"textContent",path:"path",uniqueClass:"uniqueClass"},decls:3,vars:2,consts:[[3,"class","routerLink",4,"ngIf","ngIfElse"],["button",""],[3,"routerLink"]],template:function(n,r){if(1&n&&(en(0,Bge,3,9,"a",0),en(1,$ge,3,6,"ng-template",null,1,Q2)),2&n){const i=function oN(t){return tu(function ej(){return ee.lFrame.contextLView}(),22+t)}(2);ge("ngIf",r.path)("ngIfElse",i)}},dependencies:[Hu,Ws,Ds],styles:[".button[_ngcontent-%COMP%]{min-height:52px;width:100%;border:2px solid #444444;padding:5px;box-sizing:border-box;text-decoration:none;font-family:Open Sans Bold,Arial,sans-serif;font-weight:700;font-size:18px;text-transform:uppercase;color:#444;display:flex;align-items:center;justify-content:center;text-align:center;background-color:#fff;cursor:pointer}@media (min-width: 768px){.button[_ngcontent-%COMP%]{font-size:17px}}@media (min-width: 1150px){.button[_ngcontent-%COMP%]{max-width:292px}}.button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:focus{background-color:#444;color:#fff}.button[_ngcontent-%COMP%]:active{color:#ffffff4d}"]}),t})(),jge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-production"]],decls:10,vars:5,consts:[[1,"production"],[1,"production__title"],[1,"production__video-wrapper"],["preload","none",1,"production__video"],["aria-label","Start video playback",1,"production__video-control"],[1,"production__description"],[1,"production__order",3,"textContent","path"]],template:function(n,r){1&n&&(C(0,"section",0)(1,"h2",1),x(2),ze(3,"translate"),b(),C(4,"div",2),G(5,"video",3)(6,"button",4),b(),C(7,"p",5),x(8,"At the request of our beloved followers, we made a detailed video for you about how our products appear."),b(),G(9,"app-button",6),b()),2&n&&(U(2),mt(We(3,3,"T_APP.CATALOG_PAGE.PRODUCTION_PROCCESS")),U(7),ge("textContent","T_ACTION.MAKE_AN_ORDER")("path","/order"))},dependencies:[Fh,Ds]}),t})();function Hge(t,e){1&t&&G(0,"app-product-card",8),2&t&&ge("product",e.$implicit)}function Gge(t,e){if(1&t&&(C(0,"section",4)(1,"h2",5),x(2),ze(3,"translate"),b(),C(4,"ul",6),en(5,Hge,1,1,"app-product-card",7),b()()),2&t){const n=tn();U(2),mt(We(3,2,"T_APP.CATALOG_PAGE.LIST")),U(3),ge("ngForOf",n.products)}}let zge=(()=>{class t{constructor(n){this._service=n,this._isLoaded=!1}get isLoaded(){return this._isLoaded}get products(){return this._products}ngOnInit(){this._service.getAll().subscribe(n=>{this._products=n,this._isLoaded=!0})}}return t.\u0275fac=function(n){return new(n||t)(H(F9))},t.\u0275cmp=ot({type:t,selectors:[["app-catalog"]],decls:7,vars:4,consts:[[1,"page-catalog"],[1,"page-catalog__header"],[1,"page-catalog__title"],["class","catalog",4,"ngIf"],[1,"catalog"],[1,"visually-hidden"],[1,"catalog__list"],["class","item",3,"product",4,"ngFor","ngForOf"],[1,"item",3,"product"]],template:function(n,r){1&n&&(C(0,"main",0)(1,"div",1)(2,"h1",2),x(3),ze(4,"translate"),b()(),en(5,Gge,6,4,"section",3),G(6,"app-production"),b()),2&n&&(U(3),mt(We(4,2,"T_APP.CATALOG_PAGE.TITLE")),U(2),ge("ngIf",r.isLoaded))},dependencies:[aO,Hu,Uge,jge,Ds],styles:[".production__order[_ngcontent-%COMP%]{margin:0 34px 33px}@media (min-width: 768px){.production__order[_ngcontent-%COMP%]{margin:0 42px 46px;font-size:17px}}@media (min-width: 1150px){.production__order[_ngcontent-%COMP%]{margin:0}}@media (min-width: 1150px){.item[_ngcontent-%COMP%]{margin-right:51px}}@media (min-width: 1150px){.item[_ngcontent-%COMP%]:nth-child(3n){margin-right:0}}"]}),t})();const Wge=function(){return["catalog","decore"]},qge=function(){return["catalog","toys"]};let Kge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-categories"]],decls:16,vars:13,consts:[[1,"categories"],[1,"categories__wrapper"],[1,"visually-hidden"],[1,"categories__list"],[1,"categories__item","categories__item--interior"],[1,"categories__link",3,"routerLink"],[1,"categories__text"],[1,"categories__item","categories__item--toys"]],template:function(n,r){1&n&&(C(0,"section",0)(1,"div",1)(2,"h2",2),x(3),ze(4,"translate"),b(),C(5,"ul",3)(6,"li",4)(7,"a",5)(8,"p",6),x(9),ze(10,"translate"),b()()(),C(11,"li",7)(12,"a",5)(13,"p",6),x(14),ze(15,"translate"),b()()()()()()),2&n&&(U(3),mt(We(4,5,"T_APP.CARTEGORY.TITLE")),U(4),ge("routerLink",yi(11,Wge)),U(2),mt(We(10,7,"T_APP.CARTEGORY.HOME_DECORE")),U(3),ge("routerLink",yi(12,qge)),U(2),mt(We(15,9,"T_APP.CARTEGORY.TOYS")))},dependencies:[Ws,Ds]}),t})();const Qge=["modal"];let Yge=(()=>{class t{constructor(){this.closeModal=new In}ngOnInit(){}check(n){n.target===this._modal.nativeElement&&this.closeModal.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-modal"]],viewQuery:function(n,r){if(1&n&&Cp(Qge,5),2&n){let i;Lu(i=Uu())&&(r._modal=i.first)}},outputs:{closeModal:"closeModal"},decls:24,vars:0,consts:[[1,"modal",3,"click"],["modal",""],[1,"modal__content"],[1,"modal__title"],["method","get","action","https://echo.htmlacademy.ru/",1,"modal__form"],[1,"modal__size"],[1,"modal__legend"],[1,"modal__list"],[1,"modal__item"],["type","radio","name","featured-item__size","id","s-size","value","s-size","aria-label","S-size","checked","",1,"visually-hidden","modal__input"],["for","s-size"],["type","radio","name","featured-item__size","id","m-size","value","m-size","aria-label","M-size",1,"visually-hidden","modal__input"],["for","m-size"],["type","radio","name","featured-item__size","id","l-size","value","l-size","aria-label","L-size",1,"visually-hidden","modal__input"],["for","l-size"],["type","submit","aria-label","Add to cart",1,"modal__button-submit"]],template:function(n,r){1&n&&(C(0,"section",0,1),Bs("click",function(s){return r.check(s)}),C(2,"div",2)(3,"h2",3),x(4,"Add to cart"),b(),C(5,"form",4)(6,"fieldset",5)(7,"legend",6),x(8,"Choose the size:"),b(),C(9,"ul",7)(10,"li",8),G(11,"input",9),C(12,"label",10),x(13,"S"),b()(),C(14,"li",8),G(15,"input",11),C(16,"label",12),x(17,"M"),b()(),C(18,"li",8),G(19,"input",13),C(20,"label",14),x(21,"L"),b()()()(),C(22,"button",15),x(23,"Add to cart"),b()()()())}}),t})(),Jge=(()=>{class t{transform(n){return!(n=n.toString())||isNaN(parseFloat(n))?null:`${n} \xa5`}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=yn({name:"price",type:t,pure:!0}),t})();function Xge(t,e){if(1&t){const n=y0();C(0,"section",2)(1,"h2",3),x(2,"Bestseller"),b(),C(3,"div",4)(4,"h3",5),x(5),b(),C(6,"p",6),x(7,"Bestseller of the week"),b(),C(8,"p",7),x(9),b(),C(10,"div",8)(11,"div",9)(12,"div",10),x(13),ze(14,"translate"),b(),C(15,"div"),x(16),b()(),C(17,"div",9)(18,"div",10),x(19),ze(20,"translate"),b(),C(21,"div"),x(22),b()(),C(23,"div",9)(24,"div",10),x(25),ze(26,"translate"),b(),C(27,"div"),x(28),b()()(),G(29,"app-picture",11),C(30,"p",12),x(31),ze(32,"price"),b(),C(33,"app-button",13),Bs("click",function(){return Ny(n),Py(tn().showModal())}),b()()()}if(2&t){const n=tn();U(5),mt(n.featured.name),U(4),mt(n.featured.description),U(4),zr("",We(14,14,"T_PRODUCT.COLOR"),":"),U(3),mt(n.featured.color),U(3),zr("",We(20,16,"T_PRODUCT.DIAMETER"),":"),U(3),zr("",n.featured.diameter," cm"),U(3),zr("",We(26,18,"T_PRODUCT.HEIGHT"),":"),U(3),zr("",n.featured.height," cm"),U(1),ge("fileName",n.featured.img.name)("altText",n.featured.img.alt)("height",315)("width",260),U(2),zr("Price: ",We(32,20,n.featured.price),""),U(2),ge("textContent","T_ACTION.ORDER")}}function Zge(t,e){if(1&t){const n=y0();C(0,"app-modal",14),Bs("closeModal",function(){return Ny(n),Py(tn().closeModal())}),b()}}let eme=(()=>{class t{constructor(n,r){this._service=r,this._activeModal=!1}get activeModal(){return this._activeModal}get featured(){return this._featured}ngOnInit(){this._service.getFeatured().subscribe(n=>this._featured=n[0])}showModal(){this._activeModal=!0}closeModal(){this._activeModal=!1}}return t.\u0275fac=function(n){return new(n||t)(H(E_),H(F9))},t.\u0275cmp=ot({type:t,selectors:[["app-featured"]],decls:2,vars:2,consts:[["class","featured-item",4,"ngIf"],[3,"closeModal",4,"ngIf"],[1,"featured-item"],[1,"visually-hidden"],[1,"featured-item__wrapper"],[1,"featured-item__name"],[1,"featured-item__tag"],[1,"featured-item__description"],[1,"featured-item__details-table","details-table"],[1,"details-table__row"],[1,"details-table__definition"],["isFeatured","",3,"fileName","altText","height","width"],[1,"featured-item__price"],[1,"button-order",3,"textContent","click"],[3,"closeModal"]],template:function(n,r){1&n&&(en(0,Xge,34,22,"section",0),en(1,Zge,1,0,"app-modal",1)),2&n&&(ge("ngIf",r.featured),U(1),ge("ngIf",r.activeModal))},dependencies:[Hu,Yge,Fh,Q9,Ds,Jge],styles:["@media (min-width: 768px){.button-order[_ngcontent-%COMP%]{margin-right:376px;font-size:17px}}@media (min-width: 1150px){.button-order[_ngcontent-%COMP%]{max-width:292px}}"]}),t})(),tme=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-about"]],decls:29,vars:0,consts:[[1,"about"],[1,"about__wrapper"],[1,"visually-hidden"],[1,"about__title"],[1,"about__list"],[1,"about__item","about__item--eco"],[1,"about__item","about__item--hand-made"],[1,"about__item","about__item--price"],[1,"about__item","about__item--local"],[1,"about__item","about__item--likes"],[1,"about__item","about__item--wrapping"]],template:function(n,r){1&n&&(C(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Information about the shop"),b(),C(4,"p",3),x(5,"About us:"),b(),C(6,"ul",4)(7,"li",5),x(8,"Environmentally"),G(9,"br"),x(10,"friendly materials"),b(),C(11,"li",6),x(12,"Hand-knitted"),G(13,"br"),x(14,"with love and tenderness"),b(),C(15,"li",7),x(16,"Scandinavian style"),G(17,"br"),x(18,"at an affordable price"),b(),C(19,"li",8),x(20,"Domestic manufacturer support"),b(),C(21,"li",9),x(22,"Increases likes"),G(23,"br"),x(24,"on photos"),b(),C(25,"li",10),x(26,"Delivered"),G(27,"br"),x(28,"in a gift box"),b()()()())}}),t})(),nme=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-reviews"]],decls:32,vars:1,consts:[[1,"reviews"],[1,"reviews__wrapper"],[1,"reviews__title"],[1,"reviews__item","reviews__item--current"],[1,"reviews__text"],[1,"reviews__author-name"],[1,"reviews__author-email"],["href","mailto:@nyamato"],[1,"reviews__item"],["href","mailto:@punipin"],["href","mailto:@nanahachi"],[1,"reviews__navigation"],["aria-label","Previous review",1,"button-review","button-review--previous"],["aria-label","Next review",1,"button-review","button-review--next"],[1,"button-send-review",3,"textContent"]],template:function(n,r){1&n&&(C(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Customer reviews"),b(),C(4,"blockquote",3)(5,"p",4),x(6,"I am a young mother, but all the same, the photos did not get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, and also get more likes!"),b(),C(7,"cite",5),x(8,"Nancy Yamato"),b(),C(9,"p",6)(10,"a",7),x(11,"@nyamato"),b()()(),C(12,"blockquote",8)(13,"p",4),x(14,"I am a sister of the young mother, but still, the photos didn\u2019t get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, as well as getting more likes!"),b(),C(15,"cite",5),x(16,"Punira Lapin"),b(),C(17,"p",6)(18,"a",9),x(19,"@punipin"),b()()(),C(20,"blockquote",8)(21,"p",4),x(22,"I am a cousin of the young mother, but still, the photos didn\u2019t get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, as well as getting more likes!"),b(),C(23,"cite",5),x(24,"Nana Kawasaki"),b(),C(25,"p",6)(26,"a",10),x(27,"@nanahachi"),b()()(),C(28,"p",11),G(29,"button",12)(30,"button",13),b(),G(31,"app-button",14),b()()),2&n&&(U(31),ge("textContent","T_ACTION.LEAVE_FEEDBACK"))},dependencies:[Fh],styles:[".button-send-review[_ngcontent-%COMP%]{max-width:260px}@media (min-width: 768px){.button-send-review[_ngcontent-%COMP%]{position:absolute;right:50px;top:79px;min-width:175px;font-size:17px}}@media (min-width: 1150px){.button-send-review[_ngcontent-%COMP%]{right:0;top:80px}}"]}),t})();const rme=["map"];let ime=(()=>{class t{constructor(){}ngOnInit(){const n={center:new google.maps.LatLng(35.2271,-80.8431),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.mapElement.nativeElement,n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-contacts"]],viewQuery:function(n,r){if(1&n&&Cp(rme,5),2&n){let i;Lu(i=Uu())&&(r.mapElement=i.first)}},decls:18,vars:1,consts:[[1,"contacts"],[1,"contacts__wrapper"],[1,"contacts__title"],[1,"contacts__list"],[1,"contacts__email"],[1,"contacts__text"],["href","mailto:info@mimimishkashop.com"],[1,"contacts__adress"],[1,"contacts__map-wrapper"],["aria-label","Access to the shop",1,"contacts__map"],["map",""],[1,"button-send-email",3,"textContent"]],template:function(n,r){1&n&&(C(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Access"),b(),C(4,"dl",3)(5,"dt",4),x(6,"e-mail:"),b(),C(7,"dd",5)(8,"a",6),x(9,"info@mimimishkashop.com"),b()(),C(10,"dt",7),x(11,"address:"),b(),C(12,"dd",5),x(13,"Tokyo, 312 Nishiotecho, 16-01"),b()(),C(14,"div",8),G(15,"div",9,10),b(),G(17,"app-button",11),b()()),2&n&&(U(17),ge("textContent","T_ACTION.MESSAGE_US"))},dependencies:[Fh],styles:[".button-send-email[_ngcontent-%COMP%]{display:block;max-width:260px;margin:0 auto 39px}@media (min-width: 768px){.button-send-email[_ngcontent-%COMP%]{max-width:230px;margin-bottom:0;font-size:17px}}@media (min-width: 1150px){.button-send-email[_ngcontent-%COMP%]{margin:0 0 0 224px}}"]}),t})();const sme=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-main-page"]],decls:13,vars:6,consts:[[1,"page-main"],[1,"visually-hidden"],[1,"page-main__slogan"],[1,"page-main__slogan-text"]],template:function(n,r){1&n&&(C(0,"main",0)(1,"h1",1),x(2),ze(3,"translate"),b(),C(4,"p",2)(5,"b",3),x(6),ze(7,"translate"),b()(),G(8,"app-categories")(9,"app-featured")(10,"app-about")(11,"app-reviews")(12,"app-contacts"),b()),2&n&&(U(2),mt(We(3,2,"T_APP.TITLE")),U(4),mt(We(7,4,"T_APP.SLOGAN")))},dependencies:[Kge,eme,tme,nme,ime,Ds]}),t})(),pathMatch:"full"},{path:"catalog",component:zge},{path:"order",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-order-form"]],decls:86,vars:1,consts:[[1,"page-form"],[1,"page-form__header"],[1,"page-form__title"],[1,"page-form__description"],["method","get","action","https://echo.htmlacademy.ru/",1,"page-form__form","form"],[1,"form__fieldset","form__type"],[1,"form__legend"],[1,"form__list"],[1,"form__item"],["type","radio","name","type","id","accessory","value","accessory","checked","",1,"visually-hidden","form__input","form__input--radio"],["for","accessory"],["type","radio","name","type","id","toy","value","toy",1,"visually-hidden","form__input","form__input--radio"],["for","toy"],[1,"form__wrapper"],[1,"form__fieldset","form__color"],["type","checkbox","name","color","id","white","value","white","checked","",1,"visually-hidden","form__input","form__input--checkbox"],["for","white"],["type","checkbox","name","color","id","grey","value","grey","checked","",1,"visually-hidden","form__input","form__input--checkbox"],["for","grey"],["type","checkbox","name","color","id","tiffany","value","tiffany",1,"visually-hidden","form__input","form__input--checkbox"],["for","tiffany"],["type","checkbox","name","color","id","black","value","black",1,"visually-hidden","form__input","form__input--checkbox"],["for","black"],["type","checkbox","name","color","id","pink","value","pink",1,"visually-hidden","form__input","form__input--checkbox"],["for","pink"],["type","checkbox","name","color","id","orange","value","orange",1,"visually-hidden","form__input","form__input--checkbox"],["for","orange"],[1,"form__fieldset","form__name"],[1,"form__name-wrapper"],["for","first-name"],["type","text","name","name","id","first-name","placeholder","Enter your first name*","required","",1,"form__input-text"],["for","last-name"],["type","text","name","name","id","last-name","placeholder","Enter your last name*","required","",1,"form__input-text"],[1,"form__fieldset","form__telephone"],["for","telephone",1,"visually-hidden"],["type","tel","name","telephone","id","telephone","placeholder","+7 \u0425\u0425\u0425 \u0425\u0425\u0425 \u0425\u0425 \u0425\u0425*","pattern","^[0-9-+\\s()]*$","required","","minlength","11","maxlength","16",1,"form__input-text","form__input-text--tel"],["width","25","height","24"],[0,"xlink","href","img/sprite.svg#phone"],[1,"form__fieldset","form__email"],["for","email",1,"visually-hidden"],["type","email","name","email","id","email","placeholder","Your Email*","pattern","[^@\\s]+@[^@\\s]+\\.[^@\\s]+","required","",1,"form__input-text","form__input-text--email"],["width","32","height","21"],[0,"xlink","href","img/sprite.svg#mail"],[1,"form__fieldset","form__additional"],["for","additional-text",1,"visually-hidden"],["name","additional-text","id","additional-text","placeholder","Describe all your wishes for the order",1,"form__additional-text"],[1,"form__footer"],[1,"form__footnote"],[1,"form__button-submit",3,"textContent"]],template:function(n,r){1&n&&(C(0,"main",0)(1,"div",1)(2,"h1",2),x(3,"Knitting to order"),b()(),C(4,"p",3),x(5,"We will be happy to make your wishes come true! Fill out a simple order form and we will contact you to clarify the details."),b(),C(6,"form",4)(7,"fieldset",5)(8,"legend",6),x(9,"Type"),b(),C(10,"ul",7)(11,"li",8),G(12,"input",9),C(13,"label",10),x(14,"Decore accessory"),b()(),C(15,"li",8),G(16,"input",11),C(17,"label",12),x(18,"Toy"),b()()()(),C(19,"div",13)(20,"fieldset",14)(21,"legend",6),x(22,"Color"),b(),C(23,"ul",7)(24,"li",8),G(25,"input",15),C(26,"label",16),x(27,"White"),b()(),C(28,"li",8),G(29,"input",17),C(30,"label",18),x(31,"Grey"),b()(),C(32,"li",8),G(33,"input",19),C(34,"label",20),x(35,'"Tiffany"'),b()(),C(36,"li",8),G(37,"input",21),C(38,"label",22),x(39,"Black"),b()(),C(40,"li",8),G(41,"input",23),C(42,"label",24),x(43,"Pink"),b()(),C(44,"li",8),G(45,"input",25),C(46,"label",26),x(47,"Orange"),b()()()()(),C(48,"fieldset",27)(49,"legend",6),x(50,"Name"),b(),C(51,"div",28)(52,"label",29),x(53,"First:"),b(),G(54,"input",30),b(),C(55,"div",28)(56,"label",31),x(57,"Last:"),b(),G(58,"input",32),b()(),C(59,"div",13)(60,"fieldset",33)(61,"legend",6),x(62,"Phone"),b(),C(63,"label",34),x(64,"Phone number"),b(),G(65,"input",35),di(),C(66,"svg",36),G(67,"use",37),b()(),Ns(),C(68,"fieldset",38)(69,"legend",6),x(70,"E-mail"),b(),C(71,"label",39),x(72,"Your Email"),b(),G(73,"input",40),di(),C(74,"svg",41),G(75,"use",42),b()()(),Ns(),C(76,"fieldset",43)(77,"legend",6),x(78,"Additional"),b(),C(79,"label",44),x(80,"Additional requests for the order"),b(),G(81,"textarea",45),b(),C(82,"div",46)(83,"p",47),x(84,"*Required fields"),b(),G(85,"app-button",48),b()()()),2&n&&(U(85),ge("textContent","T_ACTION.PLACE_ORDER"))},dependencies:[Fh],styles:[".form__button-submit[_ngcontent-%COMP%]{display:block;width:100%;min-height:52px;margin:0;font-size:17px;line-height:16px}@media (min-width: 768px){.form__button-submit[_ngcontent-%COMP%]{width:230px;margin-left:50px}}@media (min-width: 1150px){.form__button-submit[_ngcontent-%COMP%]{margin-left:225px}}.form__button-submit[_ngcontent-%COMP%]:hover, .form__button-submit[_ngcontent-%COMP%]:focus{background-color:#444;color:#fff}.form__button-submit[_ngcontent-%COMP%]:active{color:#ffffff4d}"]}),t})()},{path:"cart",component:Dee},{path:"**",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(n,r){1&n&&(C(0,"p"),x(1,"not-found works!"),b())}}),t})()}];let ome=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({imports:[KF.forRoot(sme),KF]}),t})();const ame=["navigationMenu"],Y9=function(){return[""]},FS=function(){return["catalog"]},ume=function(){return["order"]};let cme=(()=>{class t{constructor(n){this._router=n,this._router.events.subscribe(r=>{r instanceof zs&&this._navigationMenu.nativeElement.classList.contains("page-navigation--active")&&this.toggleMenu()})}toggleMenu(){this._navigationMenu.nativeElement.classList.toggle("page-navigation--active")}}return t.\u0275fac=function(n){return new(n||t)(H(sn))},t.\u0275cmp=ot({type:t,selectors:[["app-header"]],viewQuery:function(n,r){if(1&n&&Cp(ame,5),2&n){let i;Lu(i=Uu())&&(r._navigationMenu=i.first)}},decls:43,vars:28,consts:[[1,"page-header__wrapper"],[1,"page-header__logo","page-header__logo--main-page",3,"routerLink"],["media","(min-width: 1150px)","srcset","assets/img/mishka-logo-desktop.svg"],["media","(min-width: 768px)","srcset","assets/img/mishka-logo-tablet.svg"],["src","assets/img/logo-mobile.svg","width","86","height","35","alt","Online shop Mishka"],[1,"page-navigation"],["navigationMenu",""],[1,"page-navigation__toggle",3,"click"],[1,"visually-hidden"],[1,"page-navigation__wrapper"],[1,"page-navigation__list","site-navigation"],[1,"site-navigation__item"],[3,"routerLink"],[1,"page-navigation__list","user-navigation"],[1,"user-navigation__search"],["aria-label","Search",3,"routerLink"],["width","18","height","18"],["d","M17.7 16.06l-3.48-3.48a7.63 7.63 0 001.53-4.7c0-4.4-3.48-7.88-7.88-7.88A7.81 7.81 0 000 7.88c0 4.4 3.48 7.87 7.88 7.87 1.73 0 3.37-.61 4.7-1.53l3.48 3.47c.2.2.4.31.82.31.6 0 1.12-.51 1.12-1.13 0-.2-.1-.5-.3-.81zM2.24 7.88a5.67 5.67 0 015.63-5.63 5.67 5.67 0 015.62 5.63 5.67 5.67 0 01-5.63 5.62 5.67 5.67 0 01-5.62-5.63z"],[1,"user-navigation__cart"],[3,"textContent"],[1,"page-navigation__list","aside-navigation"],[1,"aside-navigation__item"],[1,"page-navigation__delivery-info"]],template:function(n,r){1&n&&(C(0,"header")(1,"div",0)(2,"a",1)(3,"picture"),G(4,"source",2)(5,"source",3)(6,"img",4),b()(),C(7,"nav",5,6)(9,"button",7),Bs("click",function(){return r.toggleMenu()}),C(10,"span",8),x(11,"Open menu"),b()(),C(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),x(16),ze(17,"translate"),b()(),C(18,"li",11)(19,"a",12),x(20),ze(21,"translate"),b()()(),C(22,"ul",13)(23,"li",14)(24,"a",15),di(),C(25,"svg",16),G(26,"path",17),b(),Ns(),C(27,"span"),x(28,"Search"),b()()(),C(29,"li",18),G(30,"app-cart-button",19),b()(),C(31,"ul",20)(32,"li",21)(33,"a",12),x(34),ze(35,"translate"),b()(),C(36,"li",21)(37,"a",12),x(38),ze(39,"translate"),b()()(),C(40,"p",22),x(41),ze(42,"translate"),b()()()()()),2&n&&(U(2),ge("routerLink",yi(22,Y9)),U(13),ge("routerLink",yi(23,FS)),U(1),mt(We(17,12,"T_APP.MENU.CATALOG")),U(3),ge("routerLink",yi(24,ume)),U(1),mt(We(21,14,"T_APP.MENU.ORDER")),U(4),ge("routerLink",yi(25,Y9)),U(6),ge("textContent","T_APP.CART.EMPTY"),U(3),ge("routerLink",yi(26,FS)),U(1),mt(We(35,16,"T_APP.MENU.NEW_ARRIVALS")),U(3),ge("routerLink",yi(27,FS)),U(1),mt(We(39,18,"T_APP.MENU.SALE")),U(3),mt(We(42,20,"T_APP.MENU.FREE_DELIVERY")))},dependencies:[Ws,K9,Ds]}),t})(),lme=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"page-footer"],[1,"page-footer__wrapper"],["src","assets/img/logo-footer.svg","width","102","height","34","alt","\u041c\u0430\u0433\u0430\u0437\u0438\u043d \xab\u041c\u0438\u0448\u043a\u0430\xbb",1,"page-footer__logo"],[1,"page-footer__social","social"],[1,"visually-hidden"],[1,"social__list"],[1,"social__item"],["href","#","aria-label","\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c",1,"social__link","social__link--instagram"],["width","22","height","22","viewBox","0 0 22 22"],["d","M22 12.5849C22 10.2076 21.698 7.83019 21.698 5.55189C21.698 4.75944 21.5974 4.06604 21.4967 3.27359C21.3961 2.97642 21.3961 2.58019 21.2954 2.18396C20.9935 1.98585 21.0941 1.58962 20.7922 1.39151C20.3896 1.1934 19.5844 1.29245 19.0811 1.1934C18.3766 1.1934 17.7727 1.09434 17.1688 0.995283C15.2564 0.896226 13.1427 0.896228 11.1297 0.896228C9.11669 0.896228 7.10367 0.79717 5.39261 0.5H3.17829C3.07764 0.5 3.07764 0.599059 2.97699 0.599059C2.37308 0.599059 1.86983 0.797171 1.36657 0.896228C1.16527 0.995284 0.963971 1.09434 0.662018 1.1934C0.561367 1.39151 0.158762 1.29245 0.0581108 1.58962C-0.143191 1.78774 0.259412 2.08491 0.0581108 2.18396V3.07547C0.259412 3.17453 0.0581131 3.66981 0.158764 3.86793V4.85849C0.158764 6.14623 0.259413 7.23585 0.259413 8.52359C0.762667 11.2972 0.662019 14.9623 0.360066 17.8349C0.561368 18.4292 0.76267 18.9245 0.863321 19.5189C1.16527 20.0142 1.16527 20.6085 1.56787 21.0047C2.07113 21.2028 2.77569 21.2028 3.48024 21.2028C3.88284 21.3019 4.1848 21.5 4.5874 21.5C7.40562 21.3019 10.1232 21.3019 13.0421 21.3019C15.7596 21.5 18.8798 21.5 21.3961 21.1038C21.5974 21.0047 21.4967 20.6085 21.5974 20.3113C21.4967 19.9151 21.7987 19.9151 21.7987 19.5189C22 17.4387 22 15.0613 22 12.5849ZM8.91539 6.4434C9.7206 6.24528 10.4252 6.14623 11.331 6.14623C12.0356 6.24528 12.6395 6.4434 13.2434 6.64151C13.344 6.83962 13.0421 7.13679 13.4447 7.33491C13.5453 7.33491 13.5453 7.3349 13.646 7.43396C14.0486 7.43396 14.4512 7.63208 14.7531 7.83019C15.2564 7.92925 15.2564 8.32547 15.8603 8.22642C15.7596 8.42453 15.7596 8.7217 15.7596 9.01887C16.0616 10.2075 16.2629 11.7925 16.0616 13.2783C15.8603 13.4764 15.8603 13.6745 15.7596 13.9717C15.4577 14.2689 15.2564 14.7642 14.9544 15.0613C14.8538 15.2594 14.6525 15.4575 14.4512 15.5566C14.3505 15.7547 14.2499 16.0519 13.9479 16.0519C13.646 16.25 13.344 16.0519 13.1427 15.9528C12.7401 16.1509 12.2369 16.25 11.9349 16.5472C11.1297 16.4481 10.3245 16.3491 9.51929 16.25C9.31799 16.1509 9.01604 15.9528 8.71409 15.9528C8.51278 15.7547 8.21083 15.5566 7.90888 15.4575C7.80823 15.3585 7.60693 15.3585 7.40563 15.2594C7.20432 15.2594 7.20432 15.0613 6.90237 15.0613C6.80172 14.6651 6.49977 14.467 6.39912 13.9717C6.19782 13.6745 6.09716 13.1792 5.89586 12.783C5.89586 11.3962 5.99651 10.1085 6.29846 9.01887C6.60042 8.42453 7.10367 7.92925 7.40563 7.33491C7.60693 7.33491 7.80823 7.23585 7.80823 7.03774C8.11018 7.13679 8.21083 6.93868 8.51278 6.93868C8.71409 6.93868 8.71409 6.64151 8.91539 6.4434ZM7.20432 3.76887C7.10367 3.4717 7.10367 3.07547 7.10367 2.67925C7.10367 2.38208 7.40563 2.38208 7.40563 2.18396C7.40563 2.08491 7.30497 2.08491 7.20432 2.08491C7.30497 1.98585 7.90888 1.98585 8.00953 2.08491C8.11018 2.58019 7.60693 2.58019 7.50628 2.7783C7.50628 2.97642 7.80823 2.7783 8.00953 2.87736C8.00953 3.76887 7.90888 4.36321 8.00953 5.05661H7.50628C7.50628 5.25472 7.70758 5.25472 8.00953 5.25472C7.90888 5.55189 8.11018 5.65094 8.11018 5.84906C7.90888 6.04717 7.40562 5.84906 7.00302 5.94811C7.00302 5.35377 7.30497 4.56132 7.20432 3.76887ZM6.49977 2.18396C6.60042 2.18396 6.60042 2.18396 6.70107 2.28302C6.90237 2.58019 6.70107 2.97642 6.60042 3.17453C6.39911 2.97642 6.60042 2.48113 6.49977 2.18396ZM6.70107 3.96698C6.60042 3.86792 6.49977 3.76887 6.49977 3.4717C6.70107 3.57075 6.70107 3.76887 6.70107 3.96698ZM6.70107 5.35377C6.60042 5.45283 6.60042 5.35377 6.60042 5.15566C6.70107 5.0566 6.70107 5.25472 6.70107 5.35377ZM6.49977 5.55189C6.70107 5.55189 6.60042 5.75 6.70107 5.75C6.70107 5.94812 6.39912 5.94811 6.29846 5.84906C6.39912 5.75 6.49977 5.65094 6.49977 5.55189ZM4.1848 4.36321C4.1848 4.26415 4.1848 4.16509 4.08414 4.16509C3.98349 3.4717 4.1848 2.7783 4.08414 2.18396C4.3861 1.98585 4.88935 2.18396 5.19131 2.08491V3.17453C5.09066 3.27359 4.99 3.27359 4.7887 3.27359C4.68805 3.57076 5.09066 3.37264 5.19131 3.57076C5.19131 4.46227 5.09066 5.35377 5.39261 5.94811C4.7887 5.84906 4.48675 6.04717 3.9835 6.04717C4.08415 5.45283 3.9835 4.66038 4.48675 4.46226C4.48675 4.36321 4.1848 4.46226 4.1848 4.36321ZM3.68154 4.36321C3.48024 4.36321 3.48024 3.86793 3.58089 3.76887C3.88284 3.76887 3.78219 4.26415 3.68154 4.36321ZM3.48024 5.35377C3.58089 5.0566 3.48024 5.0566 3.58089 4.66038C3.78219 4.66038 3.78219 5.45283 3.48024 5.35377ZM3.68154 3.27359C3.37959 3.37264 3.37959 2.97642 3.48024 2.87736C3.78219 2.87736 3.88285 3.17453 3.68154 3.27359ZM3.68154 2.18396C3.68154 2.38208 3.58089 2.38208 3.58089 2.48113C3.37959 2.48113 3.48024 2.28302 3.37959 2.28302C3.48024 2.18396 3.58089 2.18396 3.68154 2.18396ZM3.48024 5.84906C3.58089 5.84906 3.58089 6.14623 3.37959 6.04717C3.48024 6.04717 3.48024 5.94811 3.48024 5.84906ZM2.77568 2.18396C2.77568 2.48113 2.37308 2.48113 2.37308 2.18396H2.77568ZM1.76918 2.28302C1.76918 2.48113 1.46723 2.48113 1.36657 2.67925C1.16527 2.48113 1.46722 2.18396 1.76918 2.28302ZM1.36657 2.97641C1.56788 2.7783 1.86983 2.58019 2.07113 2.38208C2.07113 2.28302 2.17178 2.28302 2.17178 2.18396H2.37308C2.47373 2.58019 2.07113 2.48113 2.07113 2.67925C2.07113 2.7783 1.97048 2.7783 1.97048 2.87736C1.97048 3.17453 2.07113 3.4717 2.07113 3.86793C1.76918 3.86793 1.76918 4.1651 1.46722 4.06604C1.46722 3.66981 1.26592 3.4717 1.36657 2.97641ZM1.46722 6.24529V4.66038C1.66853 4.46226 1.86983 4.26415 2.07113 4.16509C2.37308 4.66038 2.27243 5.55189 2.57438 6.04717C2.17178 6.14623 1.76918 6.14623 1.46722 6.24529ZM19.7857 17.2406C19.685 18.2311 19.5844 19.2217 19.3831 20.0142C16.4642 20.1132 13.344 20.0141 10.4252 20.2123C10.2239 20.2123 10.1232 20.2123 10.2238 20.0142C9.9219 20.0142 9.9219 20.2123 9.72059 20.2123C9.9219 19.9151 10.1232 19.3207 9.9219 18.9245C9.11669 18.9245 9.11669 19.717 8.81474 20.2123C8.11018 20.1132 7.70758 20.3113 7.00302 20.3113C7.20432 19.6179 7.70758 19.3208 7.90888 18.6274C7.50628 18.1321 6.90237 18.7264 6.70107 19.1226C6.49977 19.6179 6.09716 19.9151 5.89586 20.4104H4.88935C5.09066 19.9151 5.39261 19.5189 5.69456 19.0236C5.89586 18.5283 6.29847 18.3302 6.39912 17.6368C6.19782 17.3396 5.99651 17.6368 5.69456 17.6368C5.59391 17.8349 5.39261 17.934 5.29196 18.1321C5.09065 18.5283 4.7887 18.8255 4.5874 19.2217C4.3861 19.4198 4.28545 19.2217 4.08414 19.4198C3.68154 19.717 3.48024 20.1132 3.07764 20.4104C2.87633 20.3113 3.07764 20.0142 3.27894 20.0142C3.27894 19.816 3.17829 19.5189 3.37959 19.4198C3.48024 19.0236 3.58089 18.8255 3.78219 18.5283C3.88284 17.8349 4.28545 17.3396 4.48675 16.6462C3.88284 16.7453 3.78219 17.2406 3.48024 17.6368C3.27894 18.033 2.97699 18.4292 2.77568 18.9245C2.57438 18.8255 2.77569 18.3302 2.67503 18.1321C2.77569 17.5377 2.97699 17.0424 3.07764 16.4481C3.17829 16.25 3.27894 15.9528 3.27894 15.6557C3.48024 15.4575 3.27894 15.0613 3.17829 14.8632C2.97699 14.8632 2.77569 14.9623 2.67503 15.1604C2.47373 15.1604 2.47373 15.6557 2.37308 15.4575C2.37308 12.8821 1.86983 10.7028 1.86983 8.12736C1.86983 7.83019 1.66853 7.73113 1.66853 7.43396C3.27894 7.43396 4.7887 7.53302 6.49977 7.63207C6.39912 7.73113 6.29847 7.92925 6.19781 8.0283C6.09716 8.12736 5.99651 8.22642 5.79521 8.32547C5.1913 10.0094 4.7887 12.2877 5.19131 14.467C5.39261 15.0613 5.79521 15.4575 6.19781 15.8538C7.10367 16.3491 7.80823 16.9434 8.71409 17.5377C10.4252 17.934 12.5388 17.934 14.2499 17.5377C14.4512 17.4387 14.7531 17.3396 14.9544 17.1415C16.3636 15.9528 17.7727 14.6651 17.974 12.2877V10.9009C17.7727 9.31604 17.2694 8.0283 16.2629 7.33491C16.5648 7.13679 17.3701 7.3349 17.974 7.43396C18.1753 7.43396 18.3766 7.43396 18.6785 7.43396C19.0811 7.43396 19.5844 7.3349 20.0876 7.43396C20.1883 7.63207 20.1883 7.92925 20.2889 8.22642C20.1883 9.91038 20.0876 11.4953 20.0876 13.2783C20.1883 13.7736 20.1883 14.2689 20.2889 14.6651C20.0876 15.4575 19.987 16.3491 19.7857 17.2406ZM20.1883 6.14623C19.5844 6.04717 18.9805 5.84906 18.2759 5.75C18.3766 5.45283 19.0811 5.75 19.2824 5.55189C19.685 5.35378 19.5844 4.66038 19.5844 4.06604C19.5844 3.76887 19.685 3.4717 19.685 2.97641C19.2824 1.98585 17.8733 2.58019 16.7661 2.48113C16.5648 3.17453 16.2629 4.26415 16.4642 5.15566C16.6655 5.65094 17.4707 5.45283 17.974 5.65094C17.8733 5.94811 17.2694 5.75 16.9675 5.75C16.6655 5.65095 16.2629 5.65094 15.9609 5.55189C13.646 5.65094 11.633 5.55189 9.41864 5.75C9.51929 4.56132 9.51929 3.27359 9.31799 2.18396H12.4382C12.1362 2.58019 11.5323 2.67924 11.1297 2.97641C10.7271 3.17453 10.2238 3.4717 10.0225 3.86793C10.2238 3.96698 10.5258 3.66981 10.8278 3.4717C11.2304 3.37264 11.331 3.07547 11.633 2.97641C12.0356 2.58019 12.7401 2.38208 13.344 2.08491C13.7466 2.08491 14.0486 2.08491 14.3505 2.18396C15.659 2.18396 16.8668 2.28302 18.1753 2.28302C18.7792 2.38208 19.685 2.38208 20.1883 2.58019C20.2889 2.87736 20.3896 3.17453 20.4902 3.4717C20.3896 4.46226 20.1883 5.25472 20.1883 6.14623ZM14.2499 2.48113C14.3505 2.38208 14.2499 2.38208 14.2499 2.48113V2.48113ZM14.2499 2.48113C13.7466 2.67924 13.2434 2.7783 12.8408 3.17453C13.344 2.97642 13.9479 2.87736 14.2499 2.48113ZM15.357 3.07547C15.4577 2.97642 15.357 2.97642 15.357 3.07547V3.07547ZM13.5453 3.96698C14.2499 3.76887 14.7531 3.37264 15.2564 3.07547C14.8538 3.07547 14.6525 3.37264 14.2499 3.4717C14.1492 3.66981 13.7466 3.66981 13.5453 3.96698ZM12.8408 3.17453C12.7401 3.17453 12.9414 3.27359 12.8408 3.17453V3.17453ZM12.2369 3.76887C12.3375 3.66981 12.2369 3.66981 12.2369 3.76887V3.76887ZM12.1362 3.86793C12.2369 3.86793 12.2369 3.76887 12.1362 3.86793C12.1362 3.76887 12.1362 3.76887 12.1362 3.86793ZM12.0356 3.86793C12.1362 3.86793 12.1362 3.86793 12.0356 3.86793C12.0356 3.76887 12.0356 3.86793 12.0356 3.86793ZM11.2304 4.46226C11.5323 4.36321 11.8343 4.1651 12.0356 3.86793C11.7336 4.06604 11.4317 4.26415 11.2304 4.46226ZM13.5453 5.45283C14.0486 5.45283 14.2499 5.0566 14.7531 4.95755C15.0551 4.66038 15.5583 4.56132 15.7596 4.16509C15.1557 4.16509 14.9544 4.56132 14.5518 4.66038C14.2499 5.0566 13.7466 5.15566 13.5453 5.45283ZM11.2304 4.46226C10.9284 4.46226 11.2304 4.75943 11.2304 4.46226V4.46226ZM10.6265 4.85849C10.7271 4.85849 10.8278 4.85849 10.6265 4.85849C10.7271 4.75943 10.6265 4.85849 10.6265 4.85849ZM13.5453 5.45283C13.344 5.55189 13.5453 5.55189 13.5453 5.45283V5.45283ZM12.3375 7.23585C12.1362 7.03774 11.633 7.03774 11.331 6.83962C10.6265 6.83962 10.1232 6.93868 9.61994 7.03774C9.31799 7.23585 9.01604 7.33491 8.71409 7.53302C8.41213 7.73113 8.31148 7.92925 7.90888 8.0283C7.70758 8.22642 7.50628 8.52358 7.20432 8.62264C7.20432 8.82075 7.00302 8.91981 6.90237 9.01887C6.80172 9.11792 6.80172 9.31604 6.70107 9.41509C6.70107 9.51415 6.70107 9.71227 6.60042 9.71227C6.70107 11.1981 6.90237 12.5849 7.30497 13.8726C7.60693 14.467 8.31148 14.6651 8.71409 15.1604C9.31799 15.4575 10.0225 15.5566 10.8278 15.6557C11.1297 15.5566 11.4317 15.5566 11.7336 15.5566C12.9414 15.3585 13.8473 14.8632 14.5518 14.1698C14.6525 13.8726 14.8538 13.6745 15.0551 13.4764C14.7531 12.783 15.357 12.3868 15.5583 11.8915C15.5583 10.6038 15.357 9.41509 14.9544 8.52359C14.6525 7.92925 14.0486 7.73113 13.5453 7.43396C13.4447 7.43396 13.344 7.43396 13.344 7.33491C13.1427 7.23585 12.6395 7.13679 12.3375 7.23585ZM8.91539 11.5943C8.81474 11.4953 8.81474 11.3962 8.71409 11.1981C9.01604 11.0991 8.91539 11.3962 8.91539 11.5943ZM9.01604 11.8915C9.01604 11.7925 9.11669 11.8915 9.01604 11.8915C9.01604 12.0896 9.01604 11.9906 9.01604 11.8915ZM9.41864 9.81132C9.41864 9.71226 9.51929 9.81132 9.41864 9.81132C9.51929 9.91038 9.41864 9.91038 9.41864 9.81132ZM11.1297 7.73113C10.9284 8.0283 11.1297 8.32547 11.2304 8.52359C10.9284 8.52359 10.6265 7.73113 11.1297 7.73113ZM11.5323 11.5943C11.4317 11.5943 11.5323 11.5943 11.5323 11.5943C11.633 11.5943 11.5323 11.6934 11.5323 11.5943ZM12.2369 14.467C12.2369 14.3679 12.3375 14.467 12.4382 14.467C12.4382 14.566 12.2369 14.566 12.2369 14.467ZM14.4512 11.9906C14.2499 11.8915 14.3505 12.1887 14.0486 12.1887C14.1492 11.9906 14.1492 11.8915 14.2499 11.6934C14.4512 11.6934 14.5518 11.7924 14.4512 11.9906ZM13.344 8.22642C13.5453 8.32547 13.7466 8.42453 13.9479 8.62264C14.0486 8.82075 14.1492 9.01887 14.3505 9.11792C14.4512 9.91038 14.5518 10.6038 14.5518 11.4953C14.2499 11.5943 14.1492 11.7925 13.8473 11.8915C13.0421 11.8915 12.4382 11.6934 11.9349 11.3962C11.7336 11.0991 11.5323 10.9009 11.4317 10.6038V9.51415C11.633 9.31604 11.7336 9.11792 11.9349 8.91981C12.1362 8.82075 12.4382 8.7217 12.4382 8.32547C12.4382 8.22642 12.3375 8.22641 12.3375 8.12736C12.5388 8.12736 12.5388 8.32547 12.7401 8.32547C12.9414 8.32547 13.0421 8.12736 13.344 8.22642Z"],["href","#","aria-label","\u0424\u0435\u0439\u0441\u0431\u0443\u043a",1,"social__link","social__link--facebook"],["width","15","height","28","viewBox","0 0 15 28"],["d","M11.7035 5.25484C12.7024 5.25484 13.7014 5.25484 14.4006 4.95313C14.8002 4.14856 15 3.04228 15 1.936C14.8002 1.936 14.9001 1.63428 14.8002 1.53371C14.8002 1.33257 14.5005 1.33257 14.5005 1.13142C14.2009 0.930282 14.0011 0.729141 13.8013 0.527999C13.102 0.326857 12.4028 0.226286 11.6036 0.0251435C10.8045 0.0251435 9.70565 -0.0754291 9.00639 0.125713C6.40916 0.125713 5.01066 1.232 3.71204 2.53942C3.71204 2.63999 3.71204 2.74056 3.61215 2.74056C3.01278 4.3497 3.51225 6.36112 3.41236 8.37254C3.51225 8.77483 3.51225 9.37826 3.61215 9.78054C2.61321 10.0823 1.41449 10.1828 0.21577 10.2834C-0.08391 10.5851 0.0159827 11.3897 0.0159827 11.9931C0.115876 12.5965 0.315665 13.0994 0.415558 13.6022C0.615345 13.8034 1.01492 14.0045 1.2147 14.1051C1.3146 14.1051 1.3146 14.2057 1.3146 14.2057C1.81406 14.5074 2.813 14.2057 3.61215 14.3062C3.51225 16.3177 3.91183 18.2285 3.61215 20.0388C3.61215 20.3405 3.91183 20.4411 3.81193 20.8434C3.81193 21.8491 3.71204 22.8548 4.01172 23.5588C3.71204 24.0616 3.51225 24.5645 3.61215 25.3691C3.71204 25.3691 3.71204 25.5702 3.71204 25.6708C3.61215 26.1736 4.3114 25.8719 4.21151 26.3748C4.4113 26.8776 3.81193 26.5759 3.81193 26.8776V27.7828C4.3114 28.0845 5.31033 27.9839 6.10948 27.9839C7.00852 27.5816 8.30714 27.4811 8.9065 26.7771C9.40597 26.9782 9.80554 26.7771 10.1052 26.5759C10.1052 26.2742 10.4049 26.2742 10.305 25.8719C10.305 25.5702 10.1052 25.3691 10.2051 24.9668V22.0502C10.0053 19.7371 10.2051 17.1222 9.90544 14.8091C10.8045 14.7085 11.8034 14.7085 12.5027 14.4068C12.9022 13.904 12.9022 13.2 13.0021 12.496C13.2019 12.2948 13.2019 11.8925 13.2019 11.4902C13.4017 11.2891 13.3018 10.7863 13.3018 10.384C13.2019 9.78054 13.102 9.07654 12.5027 8.97597C11.6036 8.77483 10.5048 9.5794 9.50586 9.27769C9.50586 8.1714 9.20618 6.96455 9.50586 5.85827C10.305 5.65712 11.0043 5.45598 11.7035 5.25484ZM7.90757 10.0823C8.00746 10.384 8.20725 10.5851 8.30714 10.7863C8.40704 10.7863 8.50693 10.7863 8.50693 10.8868C9.70565 10.9874 10.7046 10.7863 11.6036 10.5851C11.6036 11.5908 11.3039 12.2948 11.1042 13.0994C10.4049 13.0994 9.60575 13.4011 9.10629 13.3005C8.80661 13.5017 8.70671 13.8034 8.50693 14.0045C8.50693 14.4068 8.60682 14.5074 8.50693 14.8091C8.30714 14.9097 8.40704 15.4125 8.30714 15.6137V17.1222C8.40704 17.4239 8.20724 17.4239 8.20724 17.6251V21.1451C8.10735 21.4468 8.30714 21.4468 8.30714 21.6479V24.6651C8.40704 24.9668 8.20725 25.4696 8.40703 25.5702C8.30714 25.9725 8.00746 25.5702 7.60788 25.6708C7.10842 25.7713 6.70884 26.0731 6.10948 26.0731C6.20938 25.6708 6.40916 25.4696 6.40916 24.9668C6.40916 24.5645 6.00959 24.6651 5.9097 24.4639C6.10948 23.8605 6.50906 23.3576 6.60895 22.6536C6.80874 22.1508 7.30821 21.3462 6.90863 20.8434C6.40916 20.7428 6.40916 21.1451 6.10948 21.2456C6.10948 21.3462 6.10948 21.4468 6.00959 21.4468C6.00959 21.5474 6.00959 21.6479 5.9097 21.6479C5.9097 21.7485 5.70991 21.7485 5.9097 21.6479C5.9097 21.5474 5.9097 21.4468 6.00959 21.4468C6.00959 21.3462 6.00959 21.2456 6.10948 21.2456V20.9439C6.50906 20.3405 6.80874 19.7371 6.90863 18.9325C7.10842 18.6308 7.20831 18.2285 7.3082 17.9268C7.50799 17.6251 7.60789 17.0217 7.4081 16.7199C6.90863 16.7199 6.60895 17.0217 6.50906 17.4239C6.20938 17.2228 6.70884 17.0217 6.60895 16.7199C6.70884 16.5188 6.80874 16.1165 6.90863 15.9154C7.10842 15.5131 7.50799 14.6079 6.90863 14.3062C6.50906 14.3062 6.30927 14.5074 6.20938 14.8091C6.00959 15.0102 5.8098 15.2114 5.70991 15.5131C5.31034 15.4125 5.61002 14.8091 5.51012 14.4068C5.41023 13.904 5.61002 13.5017 5.51012 13.2C4.91076 12.3954 3.51225 13.0994 2.31353 12.8982C2.21364 12.5965 2.11375 11.8925 2.21364 11.6914C3.21257 11.5908 4.71098 11.8925 5.41023 11.4902C5.41023 11.3897 5.41023 11.2891 5.51012 11.2891C5.61002 10.5851 5.21044 10.2834 5.01066 9.88111C5.21044 9.07654 5.01065 7.86969 5.11055 6.86398C5.31033 6.76341 5.41023 6.46169 5.61001 6.26055C5.70991 5.25484 6.30927 4.75199 6.30927 3.74627C6.00959 3.74627 5.70991 3.6457 5.70991 3.94742C5.41023 3.84685 5.31034 4.45027 5.21044 4.14856C5.11055 3.6457 5.41023 3.54513 5.51012 3.14285C6.10948 2.74056 6.70885 2.33828 7.4081 1.936C9.10629 1.73485 12.0032 1.53371 13.5016 2.13714C13.6015 2.74056 13.2019 3.04227 13.3018 3.6457H11.8034C10.7046 3.84684 9.80554 4.3497 8.80661 4.65141C8.60682 4.75198 8.50693 4.95313 8.30714 5.0537C8.30714 5.45598 8.10735 5.65712 8.00746 6.05941C7.70778 7.4674 7.90757 8.67426 7.90757 10.0823Z"],["href","#","aria-label","\u0422\u0432\u0438\u0442\u0442\u0435\u0440",1,"social__link","social__link--twitter"],["width","23","height","20","viewBox","0 0 23 20"],["d","M22.9571 4.24243C22.7628 3.83838 22.0826 3.93939 21.5968 3.83838H20.5279C20.6251 3.43434 20.8194 3.23232 21.0138 2.82828C21.1109 2.42424 21.3053 2.12121 21.2081 1.51515C21.3053 1.31313 21.4024 1.11111 21.4996 0.909089C21.5968 0.808079 21.694 0.404041 21.5968 0.202021C21.4996 7.67636e-07 21.3053 0 21.0138 0C20.9166 0 20.8194 0.101009 20.8194 0.101009C20.4308 0.505049 20.0421 1.11111 19.5562 1.51515H19.4591C19.3619 1.51515 19.4591 1.51515 19.3619 1.61616C19.2647 1.71717 19.0704 1.81818 18.9732 1.81818C18.6817 2.0202 18.4874 2.22222 18.0987 2.32323C17.6129 2.12121 16.9327 2.0202 16.2525 1.91919C15.0865 2.0202 14.0176 2.12121 13.3374 2.62626C12.4629 2.92929 11.8799 3.63636 11.2969 4.24243C11.2969 4.54546 11.0054 4.64646 10.9082 4.94949C10.9082 4.94949 10.9082 5.05051 10.811 5.05051C10.811 5.25253 10.7139 5.35354 10.7139 5.55556C10.7139 5.65657 10.9082 5.9596 10.7139 6.06061C9.93651 5.9596 9.25633 5.45455 8.67331 5.05051C7.99313 4.64646 7.21578 4.44444 6.63277 3.93939C5.95259 3.63636 5.36957 3.13131 4.88372 2.62626C4.68939 2.32323 4.39788 2.12121 4.20354 1.71717C3.81487 1.51515 4.00921 0.80808 3.52336 0.80808C3.23185 0.80808 3.23185 1.0101 3.13468 1.21212C3.03751 1.41414 2.74601 1.41414 2.74601 1.71717C2.74601 1.71717 2.74601 1.81818 2.64884 1.81818C2.4545 2.92929 2.16299 3.83838 2.16299 5.15151C2.26016 5.55555 2.4545 5.85858 2.74601 6.16161C2.35733 6.26263 2.06583 6.36364 1.87149 6.66667C1.77432 7.77778 2.26016 8.28283 2.55167 8.9899C2.64884 9.39394 2.94035 9.69697 3.13468 10C3.13468 10.202 3.32902 10.303 3.42619 10.404C3.42619 10.5051 3.52336 10.505 3.52336 10.6061C3.52336 10.7071 3.81487 10.8081 3.62053 10.8081C3.23185 10.9091 2.64884 10.9091 2.35733 11.2121C2.26016 11.5152 2.26016 12.0202 2.35733 12.3232C2.35733 12.5253 2.64884 12.6263 2.64884 12.8283C3.13468 13.2323 3.7177 13.5354 4.20354 13.9394C4.78656 14.1414 5.36957 14.2424 6.04975 14.3434C5.95258 14.6465 5.75825 14.9495 5.46674 15.0505C4.68939 15.4545 3.7177 15.5556 2.84318 15.7576C2.26016 15.7576 1.87149 15.9596 1.28848 15.9596C0.996969 16.0606 0.413953 16.0606 0.219615 16.1616C0.122446 16.2626 0.122445 16.2626 0.0252764 16.3636C-0.0718926 16.7677 0.122447 17.0707 0.413954 17.2727C0.413954 17.5758 0.608293 17.5758 0.802631 17.6768C0.8998 17.8788 1.09414 17.9798 1.1913 18.0808C1.67715 18.5859 2.4545 18.8889 3.03752 19.1919C3.81487 19.3939 4.59222 19.596 5.46674 19.697C6.34126 19.798 7.31295 19.798 8.18747 19.899H9.15916C9.645 20 10.3252 20 11.0054 20C11.1025 19.899 11.2969 19.899 11.4912 19.899C11.9771 19.596 12.6572 19.4949 13.0459 19.1919C13.6289 18.9899 14.0176 18.5859 14.6006 18.2828C15.4751 17.4748 16.4468 16.9697 17.0298 15.8586C17.2242 15.6566 17.4185 15.4545 17.4185 15.1515C17.71 14.9495 17.8072 14.6465 18.0015 14.4444C18.3902 14.0404 18.6817 13.5354 18.9732 13.0303C19.2647 12.5253 19.5562 11.9192 19.8477 11.4141C19.8477 11.0101 20.1393 10.9091 20.1393 10.505C20.3336 10.303 20.3336 9.79798 20.5279 9.59596C20.5279 9.29293 20.5279 9.19192 20.6251 8.9899C20.6251 7.67677 20.6251 6.56566 20.3336 5.55556C20.9166 5.35354 21.4996 5.25252 21.8883 4.94949C22.6656 5.25252 23.1515 4.84849 22.9571 4.24243ZM19.6534 8.28283C19.4591 9.19192 19.0704 9.69697 18.6817 10.303C18.7789 10.7071 18.5845 10.8081 18.5845 11.2121C18.3902 11.5152 18.293 11.9192 18.1959 12.2222C18.0015 12.5253 17.9044 12.8283 17.71 13.1313C17.3214 13.6364 16.9327 14.2424 16.544 14.7475C16.1553 15.3535 15.6695 15.7576 15.2808 16.2626C14.8921 16.7677 14.4063 17.1717 13.9204 17.5758C13.4346 17.7778 13.0459 17.9798 12.6572 18.2828C12.4629 18.3838 12.1714 18.4848 11.9771 18.5859C11.7827 18.6869 11.4912 18.6869 11.2969 18.8889C10.228 18.9899 9.06199 19.0909 7.79879 18.9899C6.8271 18.8889 5.75824 18.7879 4.88372 18.5859C4.0092 18.3838 3.42619 17.8788 2.64884 17.5758C2.84318 17.3737 3.23185 17.3737 3.62053 17.3737C3.62053 17.1717 4.00921 17.3737 4.00921 17.2727C4.30071 17.3737 4.30071 17.1717 4.49505 17.1717C5.07806 16.9697 5.66108 16.8687 6.14692 16.5657C6.43843 16.4646 6.5356 16.1616 6.8271 15.9596C6.8271 15.7576 6.92427 15.6566 7.02144 15.5556C7.02144 15.2525 7.21578 15.1515 7.11861 14.7475C7.21578 14.5455 7.41012 14.4444 7.41012 14.0404C7.31295 13.9394 7.31295 13.7374 7.11861 13.6364C7.11861 13.4343 6.72994 13.5354 6.72994 13.4343C6.43843 13.4343 6.34126 13.4343 6.14692 13.3333C5.95259 13.3333 5.66108 13.4343 5.66108 13.2323C4.88373 13.2323 4.39788 12.8283 3.81487 12.5253C4.20354 12.2222 4.78656 12.1212 5.07806 11.8182C5.56391 11.7172 6.14692 11.7172 6.14692 11.1111C6.14692 10.404 5.36957 10.404 4.88372 10.303C4.10637 9.59596 3.7177 8.58586 3.13468 7.77778C3.32902 7.57576 3.7177 7.57576 3.81487 7.37374C4.30071 7.47475 4.30071 7.07071 4.49505 6.86869C4.49505 6.36364 4.20354 6.26263 3.91203 6.06061C3.62053 5.85859 3.42619 5.55556 3.23185 5.35354C3.23185 4.54545 3.23185 3.63636 3.32902 2.92929C3.42619 2.92929 3.42619 2.92929 3.42619 3.0303C3.62053 3.43434 4.00921 3.83838 4.20354 4.24243C4.68939 4.64647 5.07806 5.15151 5.75825 5.35354C6.24409 5.75758 6.8271 5.9596 7.31295 6.36364C7.89596 6.66667 8.47898 6.9697 8.96482 7.27273C9.645 7.47475 10.0337 7.9798 10.9082 7.87879C11.1025 7.77778 11.2969 7.67677 11.4912 7.57576C11.7827 7.07071 11.394 6.46464 11.5884 5.95959C11.8799 5.25252 12.3657 4.94949 12.8516 4.44444C13.1431 4.24242 13.4346 4.14141 13.6289 3.93939C13.9204 3.83838 14.3091 3.73737 14.6006 3.53535C14.9893 3.53535 15.2808 3.43434 15.5723 3.43434H16.8355C17.0298 3.53535 17.3214 3.53535 17.5157 3.53535C17.71 3.63636 17.9044 3.83838 18.1959 3.93939C18.9732 4.64646 19.4591 5.65656 19.5562 6.9697C19.5562 7.27273 19.6534 7.67677 19.6534 8.28283ZM19.9449 2.62626C19.8477 2.92929 19.7506 3.33333 19.3619 3.43434C19.3619 3.33333 19.2647 3.33333 19.2647 3.23232C19.2647 3.0303 19.4591 3.0303 19.5562 2.92929C19.6534 2.82828 19.7506 2.62626 19.9449 2.62626C19.9449 2.52525 20.0421 2.62626 19.9449 2.62626ZM14.6006 5.65656C14.795 5.75757 14.8921 5.9596 15.0865 6.06061C15.1836 6.26263 15.378 6.36363 15.6695 6.46464C15.6695 6.26262 15.961 6.46465 16.0582 6.26263C16.2525 6.26263 16.2525 6.0606 16.3497 5.95959C16.3497 5.45454 16.2525 4.94949 15.961 4.64646C15.2808 4.14141 14.3091 4.64646 14.6006 5.65656Z"],[1,"page-footer__copyright","copyright"],[1,"copyright__text"],["href","https://htmlacademy.ru/intensive/adaptive","aria-label","Go to HTML Academy website",1,"copyright__link"],["width","27","height","34","viewBox","0 0 28 35","aria-hidden","true","aria-label","HTML Academy logo","focusable","false"],["d","M13.9689 0.0444336H13.8689L0.368896 1.44443V26.1444L13.8689 34.1444L27.2689 26.1444V1.44443L13.9689 0.0444336ZM25.3689 12.1444L13.8689 5.34443V5.24443H13.7689L13.6689 5.14443V5.24443L2.2689 12.1444V3.14443L13.7689 1.94443L25.3689 3.14443V12.1444ZM13.7689 6.84443L25.2689 13.5444L20.7689 16.1444L13.6689 11.9444V13.3444L19.5689 16.8444L18.6689 17.3444L13.6689 14.3444V15.7444L17.4689 18.0444L16.6689 18.5444L13.6689 16.7444V18.1444L15.5689 19.2444L13.7689 20.3444L2.3689 13.6444L13.7689 6.84443ZM2.2689 15.1444L13.6689 21.9444V22.9444L5.7689 18.2444V19.6444L13.7689 24.4444V25.5444L5.7689 20.8444V22.2444L13.7689 27.0444L21.8689 22.1444V16.9444L25.2689 14.9444V24.9444L13.7689 31.8444L2.2689 25.0444V15.1444Z"]],template:function(n,r){1&n&&(C(0,"footer",0)(1,"div",1),G(2,"img",2),C(3,"section",3)(4,"h2",4),x(5,"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),b(),C(6,"ul",5)(7,"li",6)(8,"a",7),di(),C(9,"svg",8),G(10,"path",9),b()()(),Ns(),C(11,"li",6)(12,"a",10),di(),C(13,"svg",11),G(14,"path",12),b()()(),Ns(),C(15,"li",6)(16,"a",13),di(),C(17,"svg",14),G(18,"path",15),b()()()()(),Ns(),C(19,"section",16)(20,"h2",4),x(21,"Copyright"),b(),C(22,"b",17),x(23,"Special thanks to"),b(),C(24,"a",18),di(),C(25,"svg",19),G(26,"path",20),b()()()()())}}),t})(),dme=(()=>{class t{constructor(){this.title="mishka"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ot({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page-header"]],template:function(n,r){1&n&&G(0,"app-header",0)(1,"router-outlet")(2,"app-footer")},dependencies:[W1,cme,lme]}),t})(),hme=(()=>{class t{constructor(n){this.http=n,this.data={}}load(n){return new Promise(r=>{this.http.get("app.config.json").subscribe(i=>{console.log("using server-side configuration"),this.data=Object.assign({},n||{},i||{}),r(this.data)},()=>{console.log("using default configuration"),this.data=Object.assign({},n||{}),r(this.data)})})}}return t.\u0275fac=function(n){return new(n||t)(N(MS))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const J9_firebase={projectId:"mishka-6ed37",appId:"1:820083813670:web:118d013ca3d05aa93725e7",storageBucket:"mishka-6ed37.appspot.com",locationId:"asia-northeast1",apiKey:"AIzaSyB_NCmgpj4hCHdJlEv2Kmuq49laIgm2fMM",authDomain:"mishka-6ed37.firebaseapp.com",messagingSenderId:"820083813670"};function gme(t,e){return t===e}class Lh{constructor(e){return e}}const X9="analytics",Z9=jm.async,yme=Ut(dce,!0),vme=Ut(C8,!0),wme=Ut(pce,!0);let LS=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],he("angularfire",yr.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),Z9().then(()=>{const o=i.get(Lh);o?this.disposables=[ufe(n).subscribe(a=>{wme(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(N(d_),N(Te),N(Qe))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const eU="firebase_screen_id",US="outlet",Uh="screen_class",tU="screen_name";let Mme=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const VS={},Nme=t=>{const e=[t[Uh],t[US]].join("#");if(VS.hasOwnProperty(e))return VS[e];{const n=Mme++;return VS[e]=n,n}},Pme=(t,e,n)=>t.events.pipe(Jr(i=>i instanceof cF)).pipe(hr(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",u=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!u)return z(null);let c=u;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[tU]:l,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:l,[US]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=u.component;if(h){if(h===q1){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return z(Object.assign(Object.assign({},d),{[Uh]:h}));if(h){const f=n.resolveComponentFactory(h);return z(Object.assign(Object.assign({},d),{[Uh]:f.selector}))}return z(null)}),Jr(i=>!!i),ce(i=>Object.assign({firebase_screen_class:i[Uh],[eU]:Nme(i)},i)),function fme(t,e,n,r){return Ze((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,u=p=>{a.forEach(p),p(s)},c=p=>u(g=>g.error(p));let l=0,d=!1;const h=new Lx(s,p=>{try{const g=t(p);let _=a.get(g);if(!_){a.set(g,_=r?r():new Or);const v=function f(p,g){const _=new Ge(v=>{l++;const I=g.subscribe(v);return()=>{I.unsubscribe(),0==--l&&d&&h.unsubscribe()}});return _.key=p,_}(g,_);if(s.next(v),n){const I=ft(_,()=>{_.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(Fr(n(v)).subscribe(I))}}_.next(o?o(p):p)}catch(g){c(g)}},()=>u(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(h)})}(i=>i[US]),qe(i=>i.pipe(function pme(t,e=xs){return t=t??gme,Ze((n,r)=>{let i,s=!0;n.subscribe(ft(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}((s,o)=>JSON.stringify(s)===JSON.stringify(o)),VO(void 0),function mme(){return Ze((t,e)=>{let n,r=!1;t.subscribe(ft(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),ce(([s,o])=>s?Object.assign({firebase_previous_class:s[Uh],firebase_previous_screen:s[tU],firebase_previous_id:s[eU]},o):o))));let nU=(()=>{class t{constructor(n,r,i,s,o,a){he("angularfire",yr.full,"screen-tracking"),Z9().then(()=>{const u=a.get(Lh);!n||!u||s.runOutsideAngular(()=>{this.disposable=Pme(n,r,i).pipe(hr(c=>Bx(this,void 0,void 0,function*(){return o&&(yield o.initialized),vme(u,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(N(sn,8),N(D1,8),N(gu),N(Te),N(LS,8),N(Qe))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const BS=new W("angularfire2.analytics-instances");function Fme(t){return(e,n)=>{if(!jm.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Lh(r)}}const Lme={provide:class _me{constructor(){return Ai(X9)}},deps:[[new ve,BS]]},Ume={provide:Lh,useFactory:function Ome(t,e){if(!jm.sync())return null;const n=Si(X9,t,e);return n&&new Lh(n)},deps:[[new ve,BS],vr]};let Vme=(()=>{class t{constructor(n,r){he("angularfire",yr.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(N(nU,8),N(LS,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[Ume,Lme,{provide:Ji,useValue:jm.async,multi:!0}]}),t})();function Bme(t,...e){return{ngModule:Vme,providers:[{provide:BS,useFactory:Fme(t),multi:!0,deps:[Te,Qe,xi,Ri,...e]}]}}const rU="@firebase/database";let $S="";class jme{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),on(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:hd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Hme{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return as(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const sU=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jme(e)}}catch{}return new Hme},La=sU("localStorage"),jS=sU("sessionStorage"),Gc=new Qs("@firebase/database"),oU=function(){let t=1;return function(){return t++}}(),aU=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Uee;n.update(e);const r=n.digest();return hg.encodeByteArray(r)},Vh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Vh.apply(null,r):e+="object"==typeof r?on(r):r,e+=" "}return e};let Ua=null,uU=!0;const Jt=function(...t){if(!0===uU&&(uU=!1,null===Ua&&!0===jS.get("logging_enabled")&&function(t,e){P(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Gc.logLevel=we.VERBOSE,Ua=Gc.log.bind(Gc),e&&jS.set("logging_enabled",!0)):"function"==typeof t?Ua=t:(Ua=null,jS.remove("logging_enabled"))}(!0)),Ua){const e=Vh.apply(null,t);Ua(e)}},Bh=function(t){return function(...e){Jt(t,...e)}},HS=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vh(...t);Gc.error(e)},Oi=function(...t){const e=`FIREBASE FATAL ERROR: ${Vh(...t)}`;throw Gc.error(e),new Error(e)},Dn=function(...t){const e="FIREBASE WARNING: "+Vh(...t);Gc.warn(e)},C_=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ss="[MIN_NAME]",Fi="[MAX_NAME]",Va=function(t,e){if(t===e)return 0;if(t===Ss||e===Fi)return-1;if(e===Ss||t===Fi)return 1;{const n=I_(t),r=I_(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Wme=function(t,e){return t===e?0:t<e?-1:1},$h=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+on(e))},GS=function(t){if("object"!=typeof t||null===t)return on(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=on(e[r]),n+=":",n+=GS(t[e[r]]);return n+="}",n},lU=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const dU=function(t){P(!C_(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Yme=new RegExp("^-?(0*)\\d{1,10}$"),I_=function(t){if(Yme.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},zc=function(t){try{t()}catch(e){setTimeout(()=>{throw Dn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},jh=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class Xme{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Zme{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(e)}}let Hh=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const _U=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wU="websocket",EU="long_polling";class qS{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=La.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&La.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function CU(t,e,n){let r;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof n,"typeof params must == object"),e===wU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==EU)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function e_e(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Xt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class t_e{constructor(){this.counters_={}}incrementCounter(e,n=1){as(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Aee(this.counters_)}}const KS={},QS={};function YS(t){const e=t.toString();return KS[e]||(KS[e]=new t_e),KS[e]}class r_e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bh(e),this.stats_=YS(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),CU(n,EU,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new r_e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JS((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&_U.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wo.forceAllow_=!0}static forceDisallow(){wo.forceDisallow_=!0}static isAvailable(){return!(!wo.forceAllow_&&(wo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=on(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=e3(n),i=lU(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=on(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class JS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=JS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Jt("frame writing exception"),a.stack&&Jt(a.stack),Jt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Jt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let T_=null;typeof MozWebSocket<"u"?T_=MozWebSocket:typeof WebSocket<"u"&&(T_=WebSocket);let Wc=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bh(this.connId),this.stats_=YS(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&_U.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),CU(n,wU,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,La.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new T_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==T_&&!t.forceDisallow_}static previouslyFailed(){return La.isInMemoryStorage||!0===La.get("previous_websocket_failure")}markConnectionHealthy(){La.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=hd(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(P(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=on(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=lU(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),xU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wo,Wc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Wc&&Wc.isAvailable();let i=r&&!Wc.previouslyFailed();if(n.webSocketOnly&&(r||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wc];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class FU{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bh("c:"+this.id+":"),this.transportManager_=new xU(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=$h("t",e),r=$h("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=$h("t",e),r=$h("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=$h("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?HS("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(La.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class LU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class UU{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class D_ extends UU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new D_}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ke{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function De(){return new ke("")}function fe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function ZS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Gh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $U(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function Xe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ke(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function jn(t,e){const n=fe(t),r=fe(e);if(null===n)return e;if(n===r)return jn(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eA(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class D_e{constructor(e,n){this.errorPrefix_=n,this.parts_=Gh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wg(this.parts_[r]);jU(this)}}function jU(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ba(t))}function Ba(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class tA extends UU{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new tA}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const zh=1e3;let A_,$a=(()=>{class t extends LU{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Bh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tA.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&D_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(on(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ju,i={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&as(n,"w")){const i=Zu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=_g(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=_g(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+on(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):HS("Unrecognized action received from server: "+on(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){P(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new FU(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{Dn(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&Dn(f),l())}}})()}interrupt(n){Jt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Jt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],cw(this.interruptReasons_)&&(this.reconnectDelay_=zh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>GS(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ke(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Jt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Jt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+$S.replace(/\./g,"-")]=1,pg()?n["framework.cordova"]=1:uw()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=D_.getInstance().currentlyOnline();return cw(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}class S_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new _e(Ss,e),i=new _e(Ss,n);return 0!==this.compare(r,i)}minPost(){return _e.MIN}}class zU extends S_{static get __EMPTY_NODE(){return A_}static set __EMPTY_NODE(e){A_=e}compare(e,n){return Va(e.name,n.name)}isDefinedOn(e){throw Yu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(Fi,A_)}makePost(e,n){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new _e(e,A_)}toString(){return".key"}}const Li=new zU;class x_{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let rA,ri=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??nr.EMPTY_NODE,this.right=o??nr.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return nr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return nr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class nr{constructor(e,n=nr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(e){return new nr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new x_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new x_(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new x_(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new x_(this.root_,null,this.comparator_,!0,e)}}function P_e(t,e){return Va(t.name,e.name)}function nA(t,e){return Va(t,e)}nr.EMPTY_NODE=new class N_e{copy(e,n,r,i,s){return this}insert(e,n,r){return new ri(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const WU=function(t){return"number"==typeof t?"number:"+dU(t):"string:"+t},qU=function(t){if(t.isLeafNode()){const e=t.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&as(e,".sv"),"Priority must be a string or number.")}else P(t===rA||t.isEmpty(),"priority of unexpected type.");P(t===rA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let KU,QU,YU,qc=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qU(this.priorityNode_)}static set __childrenNodeConstructor(n){KU=n}static get __childrenNodeConstructor(){return KU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return pe(n)?this:".priority"===fe(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=fe(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(P(".priority"!==i||1===Eo(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+WU(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?dU(this.value_):this.value_,this.lazyHash_=aU(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(P(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return P(s>=0,"Unknown leaf type: "+r),P(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const je=new class U_e extends S_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Va(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(Fi,new qc("[PRIORITY-POST]",YU))}makePost(e,n){const r=QU(e);return new _e(n,new qc("[PRIORITY-POST]",r))}toString(){return".priority"}},V_e=Math.log(2);class B_e{constructor(e){this.count=parseInt(Math.log(e+1)/V_e,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const R_=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new ri(h,d.node,ri.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new ri(h,d.node,ri.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const _=d-p,v=d;d-=p;const I=i(_+1,v),y=t[_],T=n?n(y):y;f(new ri(T,y.node,g,null,I))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),_=Math.pow(2,u.count-(p+1));g?h(_,ri.BLACK):(h(_,ri.BLACK),h(_,ri.RED))}return l}(new B_e(t.length));return new nr(r||e,a)};let iA;const Kc={};class As{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(Kc&&je,"ChildrenNode.ts has not been loaded"),iA=iA||new As({".priority":Kc},{".priority":je}),iA}get(e){const n=Zu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof nr?n:null}hasIndex(e){return as(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(_e.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?R_(r,e.getCompare()):Kc;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new As(l,c)}addToIndexes(e,n){const r=yg(this.indexes_,(i,s)=>{const o=Zu(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Kc){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(_e.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),R_(a,o.getCompare())}return Kc}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new _e(e.name,a))),u.insert(e,e.node)}});return new As(r,this.indexSet_)}removeFromIndexes(e,n){const r=yg(this.indexes_,i=>{if(i===Kc)return i;{const s=n.get(e.name);return s?i.remove(new _e(e.name,s)):i}});return new As(r,this.indexSet_)}}let Wh,se=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qU(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wh||(Wh=new t(new nr(nA),null,As.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wh}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Wh:r}}getChild(n){const r=fe(n);return null===r?this:this.getImmediateChild(r).getChild(Le(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(P(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new _e(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Wh:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=fe(n);if(null===i)return r;{P(".priority"!==fe(n)||1===Eo(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Le(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(je,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+WU(this.getPriority().val())+":"),this.forEachChild(je,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":aU(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new _e(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new _e(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new _e(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===qh?-1:0}withIndex(n){if(n===Li||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Li||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(je),s=r.getIterator(je);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Li?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const qh=new class $_e extends se{constructor(){super(new nr(nA),se.EMPTY_NODE,As.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}};function st(t,e=null){if(null===t)return se.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),P(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new qc(t,st(e));if(t instanceof Array){let n=se.EMPTY_NODE;return Xt(t,(r,i)=>{if(as(t,r)&&"."!==r.substring(0,1)){const s=st(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(st(e))}{const n=[];let r=!1;if(Xt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=st(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new _e(o,u)))}}),0===n.length)return se.EMPTY_NODE;const s=R_(n,P_e,o=>o.name,nA);if(r){const o=R_(n,je.getCompare());return new se(s,st(e),new As({".priority":o},{".priority":je}))}return new se(s,st(e),As.Default)}}Object.defineProperties(_e,{MIN:{value:new _e(Ss,se.EMPTY_NODE)},MAX:{value:new _e(Fi,qh)}}),zU.__EMPTY_NODE=se.EMPTY_NODE,qc.__childrenNodeConstructor=se,function O_e(t){rA=t}(qh),function L_e(t){YU=t}(qh),function F_e(t){QU=t}(st);class sA extends S_{constructor(e){super(),this.indexPath_=e,P(!pe(e)&&".priority"!==fe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Va(e.name,n.name):s}makePost(e,n){const r=st(e),i=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(n,i)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,qh);return new _e(Fi,e)}toString(){return Gh(this.indexPath_,0).join("/")}}const oA=new class H_e extends S_{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Va(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const r=st(e);return new _e(n,r)}toString(){return".value"}};function Qh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class cA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ss}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new cA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nV(t){const e={};if(t.isDefault())return e;let n;return t.index_===je?n="$priority":t.index_===oA?n="$value":t.index_===Li?n="$key":(P(t.index_ instanceof sA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=on(n),t.startSet_&&(e.startAt=on(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+on(t.indexStartName_))),t.endSet_&&(e.endAt=on(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+on(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rV(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}class M_ extends LU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=M_.getListenId_(e,r),a={};this.listens_[o]=a;const u=nV(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Zu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=M_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=nV(e._queryParams),r=e._path.toString(),i=new Ju;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=hd(a.responseText)}catch{Dn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Dn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class X_e{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function N_(){return{value:null,children:new Map}}function Jc(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=fe(e);t.children.has(r)||t.children.set(r,N_()),Jc(t.children.get(r),e=Le(e),n)}}function fA(t,e,n){null!==t.value?n(e,t.value):function Z_e(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{fA(i,new ke(e.toString()+"/"+r),n)})}class eye{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class rye{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eye(e);const r=1e4+2e4*Math.random();jh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xt(e,(i,s)=>{s>0&&as(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),jh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Pr=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Pr||(Pr={})),Pr))();function mA(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class P_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pe(this.path)){if(null!=this.affectedTree.value)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new P_(De(),n,this.revert)}}return P(fe(this.path)===e,"operationForChild called for unrelated child."),new P_(Le(this.path),this.affectedTree,this.revert)}}class ja{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pr.OVERWRITE}operationForChild(e){return pe(this.path)?new ja(this.source,De(),this.snap.getImmediateChild(e)):new ja(this.source,Le(this.path),this.snap)}}class Xc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pr.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new ja(this.source,De(),n.value):new Xc(this.source,De(),n)}return P(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xc(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Co{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=fe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Xh(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function aye(t,e,n){if(null==e.childName||null==n.childName)throw Yu("Should only compare child_ events.");const r=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function oye(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function O_(t,e){return{eventCache:t,serverCache:e}}function Zh(t,e,n,r){return O_(new Co(e,n,r),t.serverCache)}function sV(t,e,n,r){return O_(t.eventCache,new Co(e,n,r))}function F_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ha(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let _A;class He{constructor(e,n=(()=>(_A||(_A=new nr(Wme)),_A))()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Xt(e,(r,i)=>{n=n.set(new ke(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:De(),value:this.value};if(pe(e))return null;{const r=fe(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Le(e),n);return null!=s?{path:Xe(new ke(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=fe(e),r=this.children.get(n);return null!==r?r.subtree(Le(e)):new He(null)}}set(e,n){if(pe(e))return new He(n,this.children);{const r=fe(e),s=(this.children.get(r)||new He(null)).set(Le(e),n),o=this.children.insert(r,s);return new He(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=fe(e),r=this.children.get(n);if(r){const i=r.remove(Le(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new He(null):new He(this.value,s)}return this}}get(e){if(pe(e))return this.value;{const n=fe(e),r=this.children.get(n);return r?r.get(Le(e)):null}}setTree(e,n){if(pe(e))return n;{const r=fe(e),s=(this.children.get(r)||new He(null)).setTree(Le(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new He(this.value,o)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(pe(e))return null;{const s=fe(e),o=this.children.get(s);return o?o.findOnPath_(Le(e),Xe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,r){if(pe(e))return this;{this.value&&r(n,this.value);const i=fe(e),s=this.children.get(i);return s?s.foreachOnPath_(Le(e),Xe(n,i),r):new He(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class ii{constructor(e){this.writeTree_=e}static empty(){return new ii(new He(null))}}function ef(t,e,n){if(pe(e))return new ii(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=jn(i,e);return s=s.updateChild(o,n),new ii(t.writeTree_.set(i,s))}{const i=new He(n),s=t.writeTree_.setTree(e,i);return new ii(s)}}}function yA(t,e,n){let r=t;return Xt(n,(i,s)=>{r=ef(r,Xe(e,i),s)}),r}function oV(t,e){if(pe(e))return ii.empty();{const n=t.writeTree_.setTree(e,new He(null));return new ii(n)}}function vA(t,e){return null!=Ga(t,e)}function Ga(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(jn(n.path,e)):null}function aV(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(je,(r,i)=>{e.push(new _e(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new _e(r,i.value))}),e}function Io(t,e){if(pe(e))return t;{const n=Ga(t,e);return new ii(null!=n?new He(n):t.writeTree_.subtree(e))}}function wA(t){return t.writeTree_.isEmpty()}function Zc(t,e){return uV(De(),t.writeTree_,e)}function uV(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(P(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=uV(Xe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Xe(t,".priority"),r)),n}}function L_(t,e){return fV(e,t)}function fye(t,e){if(t.snap)return Nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nr(Xe(t.path,n),e))return!0;return!1}function gye(t){return t.visible}function cV(t,e,n){let r=ii.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Nr(n,o)?(a=jn(n,o),r=ef(r,a,s.snap)):Nr(o,n)&&(a=jn(o,n),r=ef(r,De(),s.snap.getChild(a)));else{if(!s.children)throw Yu("WriteRecord should have .snap or .children");if(Nr(n,o))a=jn(n,o),r=yA(r,a,s.children);else if(Nr(o,n))if(a=jn(o,n),pe(a))r=yA(r,De(),s.children);else{const u=Zu(s.children,fe(a));if(u){const c=u.getChild(Le(a));r=ef(r,De(),c)}}}}}return r}function lV(t,e,n,r,i){if(r||i){const s=Io(t.visibleWrites,e);return!i&&wA(s)?n:i||null!=n||vA(s,De())?Zc(cV(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Nr(c.path,e)||Nr(e,c.path))},e),n||se.EMPTY_NODE):null}{const s=Ga(t.visibleWrites,e);if(null!=s)return s;{const o=Io(t.visibleWrites,e);return wA(o)?n:null!=n||vA(o,De())?Zc(o,n||se.EMPTY_NODE):null}}}function U_(t,e,n,r){return lV(t.writeTree,t.treePath,e,n,r)}function EA(t,e){return function mye(t,e,n){let r=se.EMPTY_NODE;const i=Ga(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Io(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{const u=Zc(Io(s,new ke(o)),a);r=r.updateImmediateChild(o,u)}),aV(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return aV(Io(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function dV(t,e,n,r){return function _ye(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Xe(e,n);if(vA(t.visibleWrites,s))return null;{const o=Io(t.visibleWrites,s);return wA(o)?i.getChild(n):Zc(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function V_(t,e){return function vye(t,e){return Ga(t.visibleWrites,e)}(t.writeTree,Xe(t.treePath,e))}function CA(t,e,n){return function yye(t,e,n,r){const i=Xe(e,n),s=Ga(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Zc(Io(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function hV(t,e){return fV(Xe(t.treePath,e),t.writeTree)}function fV(t,e){return{treePath:t,writeTree:e}}class Iye{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),P(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Qh(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function Kh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Yc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Yu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Qh(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const pV=new class bye{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class IA{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Co(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CA(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ha(this.viewCache_),s=function Cye(t,e,n,r,i,s){return function wye(t,e,n,r,i,s,o){let a;const u=Io(t.visibleWrites,e),c=Ga(u,De());if(null!=c)a=c;else{if(null==n)return[];a=Zc(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function gV(t,e,n,r,i,s){const o=e.eventCache;if(null!=V_(r,n))return e;{let a,u;if(pe(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ha(e),d=EA(r,c instanceof se?c:se.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=U_(r,Ha(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=fe(n);if(".priority"===c){P(1===Eo(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=dV(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Le(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=dV(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=CA(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return Zh(e,a,o.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function B_(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(pe(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=fe(n);if(!u.isCompleteForPath(n)&&Eo(n)>1)return e;const p=Le(n),_=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),_):l.updateChild(u.getNode(),f,_,p,pV,null)}const d=sV(e,c,u.isFullyInitialized()||pe(n),l.filtersNodes());return gV(t,d,n,i,new IA(i,d,s),a)}function bA(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new IA(i,e,s);if(pe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Zh(e,c,!0,t.filter.filtersNodes());else{const d=fe(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Zh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Le(n),f=a.getNode().getImmediateChild(d);let p;if(pe(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===ZS(h)&&g.getChild($U(h)).isEmpty()?g:g.updateChild(h,r):se.EMPTY_NODE}u=f.equals(p)?e:Zh(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function mV(t,e){return t.eventCache.isCompleteForChild(e)}function _V(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function TA(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=pe(n)?r:new He(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=_V(0,e.serverCache.getNode().getImmediateChild(d),h);u=B_(t,u,new ke(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=_V(0,e.serverCache.getNode().getImmediateChild(d),h);u=B_(t,u,new ke(d),g,i,s,o,a)}}),u}function Fye(t,e){const n=Ha(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(fe(e)).isEmpty())?n.getChild(e):null}function wV(t,e,n,r){e.type===Pr.MERGE&&null!==e.source.queryId&&(P(Ha(t.viewCache_),"We should always have a full cache before handling merges"),P(F_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Sye(t,e,n,r,i){const s=new Iye;let o,a;if(n.type===Pr.OVERWRITE){const c=n;c.source.fromUser?o=bA(t,e,c.path,c.snap,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!pe(c.path),o=B_(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Pr.MERGE){const c=n;c.source.fromUser?o=function xye(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Xe(n,u);mV(e,fe(l))&&(a=bA(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Xe(n,u);mV(e,fe(l))||(a=bA(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=TA(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Pr.ACK_USER_WRITE){const c=n;o=c.revert?function Mye(t,e,n,r,i,s){let o;if(null!=V_(r,n))return e;{const a=new IA(r,e,i),u=e.eventCache.getNode();let c;if(pe(n)||".priority"===fe(n)){let l;if(e.serverCache.isFullyInitialized())l=U_(r,Ha(e));else{const d=e.serverCache.getNode();P(d instanceof se,"serverChildren would be complete if leaf node"),l=EA(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=fe(n);let d=CA(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Le(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,se.EMPTY_NODE,Le(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=U_(r,Ha(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=V_(r,De()),Zh(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function Rye(t,e,n,r,i,s,o){if(null!=V_(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(pe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return B_(t,e,n,u.getNode().getChild(n),i,s,a,o);if(pe(n)){let c=new He(null);return u.getNode().forEachChild(Li,(l,d)=>{c=c.set(new ke(l),d)}),TA(t,e,n,c,i,s,a,o)}return e}{let c=new He(null);return r.foreach((l,d)=>{const h=Xe(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),TA(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Pr.LISTEN_COMPLETE)throw Yu("Unknown operation type: "+n.type);o=function kye(t,e,n,r,i){const s=e.serverCache;return gV(t,sV(e,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered()),n,r,pV,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function Aye(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=F_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function tV(t){return{type:"value",snapshotNode:t}}(F_(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function Dye(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function EV(t,e,n,r){return function sye(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function z_e(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Xh(t,i,"child_removed",e,r,n),Xh(t,i,"child_added",e,r,n),Xh(t,i,"child_moved",s,r,n),Xh(t,i,"child_changed",e,r,n),Xh(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let $_,H_;function DA(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return P(null!=s,"SyncTree gave us an op for an invalid query."),wV(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(wV(o,e,n,r));return s}}function bo(t,e){let n=null;for(const r of t.views.values())n=n||Fye(r,e);return n}class SV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=function Eye(){return{visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SA(t,e,n,r,i){return function cye(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ef(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?el(t,new ja({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Do(t,e,n=!1){const r=function dye(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function hye(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&fye(a,r.path)?i=!1:Nr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function pye(t){t.visibleWrites=cV(t.allWrites,gye,De()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=oV(t.visibleWrites,r.path):Xt(r.children,u=>{t.visibleWrites=oV(t.visibleWrites,Xe(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new He(null);return null!=r.snap?s=s.set(De(),!0):Xt(r.children,o=>{s=s.set(new ke(o),!0)}),el(t,new P_(r.path,s,n))}return[]}function tf(t,e,n){return el(t,new ja({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function z_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=bo(a,jn(o,e));if(c)return c});return lV(i,e,s,n,!0)}function el(t,e){return xV(e,t.syncPointTree_,null,L_(t.pendingWriteTree_,De()))}function xV(t,e,n,r){if(pe(t.path))return RV(t,e,n,r);{const i=e.get(De());null==n&&null!=i&&(n=bo(i,De()));let s=[];const o=fe(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=hV(r,o);s=s.concat(xV(a,u,c,l))}return i&&(s=s.concat(DA(i,t,r,n))),s}}function RV(t,e,n,r){const i=e.get(De());null==n&&null!=i&&(n=bo(i,De()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=hV(r,o),l=t.operationForChild(o);l&&(s=s.concat(RV(l,a,u,c)))}),i&&(s=s.concat(DA(i,t,r,n))),s}function xA(t,e){return t.tagToQueryMap.get(e)}function RA(t){const e=t.indexOf("$");return P(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function kA(t,e,n){const r=t.syncPointTree_.get(e);return P(r,"Missing sync point for query tag that we're tracking"),DA(r,n,L_(t.pendingWriteTree_,e),null)}class MA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new MA(n)}node(){return this.node_}}class NA{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Xe(this.path_,e);return new NA(this.syncTree_,n)}node(){return z_(this.syncTree_,this.path_)}}const MV=function(t,e,n){return t&&"object"==typeof t?(P(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ive(t[".sv"],e,n):"object"==typeof t[".sv"]?sve(t[".sv"],e):void P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ive=function(t,e,n){if("timestamp"===t)return n.timestamp;P(!1,"Unexpected server value: "+t)},sve=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},PA=function(t,e,n){return OA(t,new MA(e),n)};function OA(t,e,n){const r=t.getPriority().val(),i=MV(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=MV(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qc(a,st(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qc(i))),o.forEachChild(je,(a,u)=>{const c=OA(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class FA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function q_(t,e){let n=e instanceof ke?e:new ke(e),r=t,i=fe(n);for(;null!==i;){const s=Zu(r.node.children,i)||{children:{},childCount:0};r=new FA(i,r,s),n=Le(n),i=fe(n)}return r}function za(t){return t.node.value}function LA(t,e){t.node.value=e,UA(t)}function PV(t){return t.node.childCount>0}function K_(t,e){Xt(t.node.children,(n,r)=>{e(new FA(n,t,r))})}function OV(t,e,n,r){n&&!r&&e(t),K_(t,i=>{OV(i,e,!0,r)}),n&&r&&e(t)}function sf(t){return new ke(null===t.parent?t.name:sf(t.parent)+"/"+t.name)}function UA(t){null!==t.parent&&function uve(t,e,n){const r=function ove(t){return void 0===za(t)&&!PV(t)}(n),i=as(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,UA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,UA(t))}(t.parent,t.name,t)}const cve=/[\[\].#$\/\u0000-\u001F\u007F]/,lve=/[\[\].#$\u0000-\u001F\u007F]/,VA=10485760,Q_=function(t){return"string"==typeof t&&0!==t.length&&!cve.test(t)},uf=function(t,e,n){const r=n instanceof ke?new D_e(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ba(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ba(r)+" with contents = "+e.toString());if(C_(e))throw new Error(t+"contains "+e.toString()+" "+Ba(r));if("string"==typeof e&&e.length>VA/3&&wg(e)>VA)throw new Error(t+"contains a string greater than "+VA+" utf8 bytes "+Ba(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Xt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Q_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ba(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function S_e(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wg(e),jU(t)})(r,o),uf(t,a,r),function A_e(t){const e=t.parts_.pop();t.byteLength_-=wg(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ba(r)+" in addition to actual children.")}},UV=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Q_(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!lve.test(t)}(t)}(n))throw new Error(function vg(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class pve{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wr(t,e,n){(function Y_(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!eA(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function BV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(gve(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Nr(r,e)||Nr(e,r))}function gve(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ua&&Jt("event: "+n.toString()),zc(r)}}}class _ve{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=N_(),this.transactionQueueTree_=new FA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jV(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function lf(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:jV(t)})}function HV(t,e,n,r,i){t.dataUpdateCount++;const s=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=yg(n,c=>st(c));o=function Jye(t,e,n,r){const i=xA(t,r);if(i){const s=RA(i),o=s.path,a=s.queryId,u=jn(o,e),c=He.fromObject(n);return kA(t,o,new Xc(mA(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=st(n);o=function AV(t,e,n,r){const i=xA(t,r);if(null!=i){const s=RA(i),o=s.path,a=s.queryId,u=jn(o,e);return kA(t,o,new ja(mA(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=yg(n,c=>st(c));o=function Kye(t,e,n){const r=He.fromObject(n);return el(t,new Xc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=st(n);o=tf(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=nl(t,s)),wr(t.eventQueue_,a,o)}function GV(t,e){jA(t,"connected",e),!1===e&&function Cve(t){tl(t,"onDisconnectEvents");const e=lf(t),n=N_();fA(t.onDisconnect_,De(),(i,s)=>{const o=function(t,e,n,r){return OA(e,new NA(n,t),r)}(i,s,t.serverSyncTree_,e);Jc(n,i,o)});let r=[];fA(n,De(),(i,s)=>{r=r.concat(tf(t.serverSyncTree_,i,s));const o=function WA(t,e){const n=sf(qV(t,e)),r=q_(t.transactionQueueTree_,e);return function ave(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{qA(t,i)}),qA(t,r),OV(r,i=>{qA(t,i)}),n}(t,i);nl(t,o)}),t.onDisconnect_=N_(),wr(t.eventQueue_,De(),r)}(t)}function jA(t,e,n){const r=new ke("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(r,i);const s=tf(t.infoSyncTree_,r,i);wr(t.eventQueue_,r,s)}function J_(t){return t.nextWriteId_++}function tl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Jt(n,...e)}function zA(t,e,n){return z_(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function X_(t,e=t.transactionQueueTree_){if(e||Z_(t,e),za(e)){const n=KV(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function xve(t,e,n){const r=n.map(c=>c.currentWriteId),i=zA(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];P(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=jn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{tl(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Do(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Z_(t,q_(t.transactionQueueTree_,e)),X_(t,t.transactionQueueTree_),wr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)zc(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Dn("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}nl(t,e)}},o)}(t,sf(e),n)}else PV(e)&&K_(e,n=>{X_(t,n)})}function nl(t,e){const n=qV(t,e),r=sf(n);return function Rve(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=jn(n,u.path);let d,l=!1;if(P(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0));else{const h=zA(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){uf("transaction failed: Data returned ",f,u.path);let p=st(f);"object"==typeof f&&null!=f&&as(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=u.currentWriteId,v=lf(t),I=PA(p,h,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=I,u.currentWriteId=J_(t),o.splice(o.indexOf(_),1),i=i.concat(SA(t.serverSyncTree_,u.path,I,u.currentWriteId,u.applyLocally)),i=i.concat(Do(t.serverSyncTree_,_,!0))}else l=!0,d="nodata",i=i.concat(Do(t.serverSyncTree_,u.currentWriteId,!0))}wr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Z_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)zc(r[a]);X_(t,t.transactionQueueTree_)}(t,KV(t,n),r),r}function qV(t,e){let n,r=t.transactionQueueTree_;for(n=fe(e);null!==n&&void 0===za(r);)r=q_(r,n),n=fe(e=Le(e));return r}function KV(t,e){const n=[];return QV(t,e,n),n.sort((r,i)=>r.order-i.order),n}function QV(t,e,n){const r=za(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);K_(e,i=>{QV(t,i,n)})}function Z_(t,e){const n=za(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,LA(e,n.length>0?n:void 0)}K_(e,r=>{Z_(t,r)})}function qA(t,e){const n=za(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Do(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?LA(e,void 0):n.length=s+1,wr(t.eventQueue_,sf(e),i);for(let o=0;o<r.length;o++)zc(r[o])}}const KA=function(t,e){const n=Nve(t),r=n.namespace;return"firebase.com"===n.domain&&Oi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Oi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qS(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ke(n.pathString)}},Nve=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function kve(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function Mve(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Er{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return pe(this._path)?null:ZS(this._path)}get ref(){return new si(this._repo,this._path)}get _queryIdentifier(){const e=rV(this._queryParams),n=GS(e);return"{}"===n?"default":n}get _queryObject(){return rV(this._queryParams)}isEqual(e){if(!((e=nt(e))instanceof Er))return!1;const n=this._repo===e._repo,r=eA(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function b_e(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class si extends Er{constructor(e,n){super(e,n,new cA,!1)}get parent(){const e=$U(this._path);return null===e?null:new si(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Vye(t){P(!$_,"__referenceConstructor has already been defined"),$_=t})(si),function Gye(t){P(!H_,"__referenceConstructor has already been defined"),H_=t}(si);const YA={};class Xve{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yve(t,e,n){if(t.stats_=YS(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new M_(t.repoInfo_,(r,i,s,o)=>{HV(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GV(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{on(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $a(t.repoInfo_,e,(r,i,s,o)=>{HV(t,r,i,s,o)},r=>{GV(t,r)},r=>{!function vve(t,e){Xt(e,(n,r)=>{jA(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function n_e(t,e){const n=t.toString();return QS[n]||(QS[n]=e()),QS[n]}(t.repoInfo_,()=>new rye(t.stats_,t.server_)),t.infoData_=new X_e,t.infoSyncTree_=new SV({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=tf(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jA(t,"connected",!1),t.serverSyncTree_=new SV({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);wr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new si(this._repo,De())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Qve(t,e){const n=YA[e];(!n||n[t.key]!==t)&&Oi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function WV(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oi("Cannot call "+e+" on a deleted database.")}}function Zve(t=Ei(),e){return qn(t,"database").getImmediate({identifier:e})}$a.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$a.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function e0e(t){(function $me(t){$S=t})(Js),Ot(new Dt("database",(e,{instanceIdentifier:n})=>function Kve(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Oi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=KA(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=KA(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Hh(Hh.OWNER):new Zme(t.name,t.options,e);UV("Invalid Firebase Database URL",o),pe(o.path)||Oi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Yve(t,e,n,r){let i=YA[e.name];i||(i={},YA[e.name]=i);let s=i[t.toURLString()];return s&&Oi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _ve(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new Xme(t.name,n));return new Xve(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),he(rU,"0.13.5",t),he(rU,"0.13.5","esm2017")}();class JA{constructor(e){return e}}const rB="database",XA=new W("angularfire2.database-instances");function s0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new JA(r)}}const o0e={provide:class r0e{constructor(){return Ai(rB)}},deps:[[new ve,XA]]},a0e={provide:JA,useFactory:function i0e(t,e){const n=Si(rB,t,e);return n&&new JA(n)},deps:[[new ve,XA],vr]};let u0e=(()=>{class t{constructor(){he("angularfire",yr.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[a0e,o0e]}),t})();function c0e(t,...e){return{ngModule:u0e,providers:[{provide:XA,useFactory:s0e(t),multi:!0,deps:[Te,Qe,xi,Ri,[new ve,Rh],[new ve,Vc],...e]}]}}const l0e=Ut(Zve,!0),ex="functions";class g0e{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return m(function*(){if(e.appCheck){const n=yield e.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var e=this;return m(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const tx="us-central1";class _0e{constructor(e,n,r,i,s=tx,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new g0e(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=tx}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const aB="@firebase/functions";function S0e(t=Ei(),e=tx){return qn(nt(t),ex).getImmediate({identifier:e})}!function D0e(t,e){Ot(new Dt(ex,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new _0e(s,o,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),he(aB,"0.8.4",e),he(aB,"0.8.4","esm2017")}(fetch.bind(self));class ix{constructor(e){return e}}const cB="functions",sx=new W("angularfire2.functions-instances");function R0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ix(r)}}const k0e={provide:class A0e{constructor(){return Ai(cB)}},deps:[[new ve,sx]]},M0e={provide:ix,useFactory:function x0e(t,e){const n=Si(cB,t,e);return n&&new ix(n)},deps:[[new ve,sx],vr]};let N0e=(()=>{class t{constructor(){he("angularfire",yr.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[M0e,k0e]}),t})();function P0e(t,...e){return{ngModule:N0e,providers:[{provide:sx,useFactory:R0e(t),multi:!0,deps:[Te,Qe,xi,Ri,[new ve,Rh],[new ve,Vc],...e]}]}}const O0e=Ut(S0e,!0);class ox{constructor(e){return e}}const lB="messaging",ax=new W("angularfire2.messaging-instances");function U0e(t){return(e,n)=>{if(!Bm.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new ox(r)}}const V0e={provide:class F0e{constructor(){return Ai(lB)}},deps:[[new ve,ax]]},B0e={provide:ox,useFactory:function L0e(t,e){if(!Bm.sync())return null;const n=Si(lB,t,e);return n&&new ox(n)},deps:[[new ve,ax],vr]};let $0e=(()=>{class t{constructor(){he("angularfire",yr.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[B0e,V0e,{provide:Ji,useValue:Bm.async,multi:!0}]}),t})();function j0e(t,...e){return{ngModule:$0e,providers:[{provide:ax,useFactory:U0e(t),multi:!0,deps:[Te,Qe,xi,Ri,...e]}]}}const H0e=Ut(Nue,!0),dB="@firebase/performance",ux="0.5.12",cx="FB-PERF-TRACE-MEASURE",_B="@firebase/performance/config",yB="@firebase/performance/configexpire",vB="Performance",gn=new Xr("performance",vB,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Bi=new Qs(vB);let lx,wB,EB,hx;Bi.logLevel=we.INFO;class Zt{constructor(e){if(this.window=e,!e)throw gn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&mg()?!!Ks()||(Bi.info("IndexedDB is not supported by current browswer"),!1):(Bi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===lx&&(lx=new Zt(wB)),lx}}function dx(){return EB}function CB(t,e){const n=t.length-e.length;if(n<0||n>1)throw gn.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class Cr{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=CB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=CB("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===hx&&(hx=new Cr),hx}}var qa=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(qa||(qa={})),qa))();const J0e=["firebase_","google_","ga_"],X0e=new RegExp("^[a-zA-Z]\\w*$");function t1e(){const t=Zt.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function IB(){switch(Zt.getInstance().document.visibilityState){case"visible":return qa.VISIBLE;case"hidden":return qa.HIDDEN;default:return qa.UNKNOWN}}function n1e(){const e=Zt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function bB(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw gn.create("no app id");return n}const oi={loggingEnabled:!0};const h1e="Could not fetch config, will use default configs";function TB(t){if(!t)return t;const e=Cr.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):oi.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):oi.logSource&&(e.logSource=oi.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:oi.logEndPointUrl&&(e.logEndPointUrl=oi.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:oi.transportKey&&(e.transportKey=oi.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==oi.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=oi.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==oi.tracesSamplingRate&&(e.tracesSamplingRate=oi.tracesSamplingRate),e.logTraceAfterSampling=DB(e.tracesSamplingRate),e.logNetworkAfterSampling=DB(e.networkRequestsSamplingRate),t}function DB(t){return Math.random()<=t}let px,fx=1;function SB(t){return fx=2,px=px||function m1e(t){return function _1e(){const t=Zt.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function Q0e(t){const e=t.getId();return e.then(n=>{EB=n}),e}(t.installations)).then(e=>function c1e(t,e){const n=function l1e(){const t=Zt.getInstance().localStorage;if(!t)return;const e=t.getItem(yB);if(!e||!function p1e(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(_B);if(n)try{return JSON.parse(n)}catch{return}}();return n?(TB(n),Promise.resolve()):function f1e(t,e){return function Y0e(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const r=function s1e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw gn.create("no project id");return n}(t.app),i=function o1e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw gn.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:bB(t.app),app_version:"0.5.12",sdk_version:"0.0.1"})});return fetch(o).then(a=>{if(a.ok)return a.json();throw gn.create("RC response not ok")})}).catch(()=>{Bi.info(h1e)})}(t,e).then(TB).then(r=>function d1e(t){const e=Zt.getInstance().localStorage;!t||!e||(e.setItem(_B,JSON.stringify(t)),e.setItem(yB,String(Date.now()+60*Cr.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(t,e)).then(()=>AB(),()=>AB())}(t),px}function AB(){fx=3}let mx,iy=3,xo=[],RB=!1;function sy(t){setTimeout(()=>{if(0!==iy){if(!xo.length)return sy(1e4);!function E1e(){const t=xo.splice(0,1e3),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function C1e(t,e){return function I1e(t){const e=Cr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||Bi.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(xo=[...e,...xo],Bi.info("Retry transport request later.")),iy=3,sy(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Cr.getInstance().logSource,log_event:e},t).catch(()=>{xo=[...t,...xo],iy--,Bi.info(`Tries left: ${iy}.`),sy(1e4)})}()}},t)}function kB(t,e){mx||(mx=function T1e(t){return(...e)=>{!function b1e(t){if(!t.eventTime||!t.message)throw gn.create("invalid cc log");xo=[...xo,t]}({message:t(...e),eventTime:Date.now()})}}(S1e)),mx(t,e)}function oy(t){const e=Cr.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Zt.getInstance().requiredApisAvailable()||t.isAuto&&IB()!==qa.VISIBLE||(function g1e(){return 3===fx}()?_x(t):SB(t.performanceController).then(()=>_x(t),()=>_x(t)))}function _x(t){if(!dx())return;const e=Cr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>kB(t,1),0)}function S1e(t,e){return 0===e?function A1e(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:MB(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function x1e(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const r={application_info:MB(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}(t)}function MB(t){return{google_app_id:bB(t),app_instance_id:dx(),web_app_info:{sdk_version:"0.5.12",page_url:Zt.getInstance().getUrl(),service_worker_status:t1e(),visibility_state:IB(),effective_connection_type:n1e()},application_process_state:0}}const M1e=["_fp","_fcp","_fid"];class Ro{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Zt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${cx}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw gn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw gn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),oy(this)}record(e,n,r){if(e<=0)throw gn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw gn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));oy(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function N1e(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&M1e.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw gn.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function P1e(t){const e=Math.floor(t);return e<t&&Bi.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=function r1e(t){return!(0===t.length||t.length>40||J0e.some(n=>t.startsWith(n))||!t.match(X0e))}(e),i=function i1e(t){return 0!==t.length&&t.length<=100}(n);if(r&&i)this.customAttributes[e]=n;else{if(!r)throw gn.create("invalid attribute name",{attributeName:e});if(!i)throw gn.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,r,i){const s=Zt.getInstance().getUrl();if(!s)return;const o=new Ro(e,"_wt_"+s,!0),a=Math.floor(1e3*Zt.getInstance().getTimeOrigin());if(o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),r){const l=r.find(h=>"first-paint"===h.name);l&&l.startTime&&o.putMetric("_fp",Math.floor(1e3*l.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}oy(o)}static createUserTimingTrace(e,n){oy(new Ro(e,n,!1,n))}}function NB(t,e){const n=e;if(!n||void 0===n.responseStart)return;const r=Zt.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function D1e(t){const e=Cr.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>kB(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function PB(t){!dx()||(setTimeout(()=>function L1e(t){const e=Zt.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Ro.createOobTrace(t,n,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Ro.createOobTrace(t,n,r,s))})}else Ro.createOobTrace(t,n,r)}(t),0),setTimeout(()=>function F1e(t){const e=Zt.getInstance(),n=e.getEntriesByType("resource");for(const r of n)NB(t,r);e.setupObserver("resource",r=>NB(t,r))}(t),0),setTimeout(()=>function U1e(t){const e=Zt.getInstance(),n=e.getEntriesByType("measure");for(const r of n)OB(t,r);e.setupObserver("measure",r=>OB(t,r))}(t),0))}function OB(t,e){const n=e.name;n.substring(0,cx.length)!==cx&&Ro.createUserTimingTrace(t,n)}class V1e{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Zt.getInstance().requiredApisAvailable()?Xu().then(n=>{n&&(function w1e(){RB||(sy(5500),RB=!0)}(),SB(this).then(()=>PB(this),()=>PB(this)),this.initialized=!0)}).catch(n=>{Bi.info(`Environment doesn't support IndexedDB: ${n}`)}):Bi.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Cr.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Cr.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Cr.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Cr.getInstance().dataCollectionEnabled}}function $1e(t=Ei()){return qn(t=nt(t),"performance").getImmediate()}const j1e=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw gn.create("FB not default");if(typeof window>"u")throw gn.create("no window");!function K0e(t){wB=t}(window);const i=new V1e(n,r);return i._init(e),i};!function H1e(){Ot(new Dt("performance",j1e,"PUBLIC")),he(dB,ux),he(dB,ux,"esm2017")}();class yx{constructor(e){return e}}const FB="performance",vx=new W("angularfire2.performance-instances");function W1e(t){return(e,n,r)=>{if(!gO(n))return null;const i=e.runOutsideAngular(()=>t(r));return new yx(i)}}const q1e={provide:class G1e{constructor(){return Ai(FB)}},deps:[[new ve,vx]]},K1e={provide:yx,useFactory:function z1e(t,e,n){if(!gO(n))return null;const r=Si(FB,t,e);return r&&new yx(r)},deps:[[new ve,vx],vr,Wo]};let Q1e=(()=>{class t{constructor(){he("angularfire",yr.full,"perf")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[K1e,q1e]}),t})();function Y1e(t,...e){return{ngModule:Q1e,providers:[{provide:vx,useFactory:W1e(t),multi:!0,deps:[Te,Wo,Qe,xi,Ri,...e]}]}}const J1e=Ut($1e,!0);class wx{constructor(e){return e}}const LB="remote-config",Ex=new W("angularfire2.remote-config-instances");function ewe(t){return(e,n)=>{if(!$m.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new wx(r)}}const twe={provide:class X1e{constructor(){return Ai(LB)}},deps:[[new ve,Ex]]},nwe={provide:wx,useFactory:function Z1e(t,e){if(!$m.sync())return null;const n=Si(LB,t,e);return n&&new wx(n)},deps:[[new ve,Ex],vr]};let rwe=(()=>{class t{constructor(){he("angularfire",yr.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Et({providers:[nwe,twe,{provide:Ji,useValue:$m.async,multi:!0}]}),t})();function iwe(t,...e){return{ngModule:rwe,providers:[{provide:Ex,useFactory:ewe(t),multi:!0,deps:[Te,Qe,xi,Ri,...e]}]}}const swe=Ut(xae,!0);function owe(t){return()=>t.use("en")}function awe(t){return()=>t.load()}let uwe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rt({type:t,bootstrap:[dme]}),t.\u0275inj=Et({providers:[E_,{provide:Ji,useFactory:owe,deps:[E_],multi:!0},{provide:Ji,useFactory:awe,deps:[hme],multi:!0},nU,LS,{provide:_P,useValue:"JPY"}],imports:[UJ,ome,bge,kce(()=>Mce(J9_firebase)),Bme(()=>yme()),afe(()=>cfe()),c0e(()=>l0e()),bfe(()=>Tfe()),P0e(()=>O0e()),j0e(()=>H0e()),Y1e(()=>J1e()),iwe(()=>swe()),uge(()=>cge())]}),t})();(function bQ(){NP=!1})(),LJ().bootstrapModule(uwe).catch(t=>console.error(t))}},Ue=>{Ue(Ue.s=881)}]);