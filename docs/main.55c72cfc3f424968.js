"use strict";(self.webpackChunkmishka=self.webpackChunkmishka||[]).push([[179],{199:()=>{function Ue(t){return"function"==typeof t}function il(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const df=il(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ka(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class nr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof df?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Cx(s)}catch(o){e=e??[],o instanceof df?e=[...e,...o.errors]:e.push(o)}}if(e)throw new df(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cx(e);else{if(e instanceof nr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ka(n,e)}remove(e){const{_finalizers:n}=this;n&&Ka(n,e),e instanceof nr&&e._removeParent(this)}}nr.EMPTY=(()=>{const t=new nr;return t.closed=!0,t})();const vx=nr.EMPTY;function wx(t){return t instanceof nr||t&&"closed"in t&&Ue(t.remove)&&Ue(t.add)&&Ue(t.unsubscribe)}function Cx(t){Ue(t)?t():t.unsubscribe()}const Ro={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hf={setTimeout(t,e,...n){const{delegate:r}=hf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=hf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ex(t){hf.setTimeout(()=>{const{onUnhandledError:e}=Ro;if(!e)throw t;e(t)})}function Ix(){}const CB=ry("C",void 0,void 0);function ry(t,e,n){return{kind:t,value:e,error:n}}let ko=null;function ff(t){if(Ro.useDeprecatedSynchronousErrorHandling){const e=!ko;if(e&&(ko={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ko;if(ko=null,n)throw r}}else t()}class iy extends nr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wx(e)&&e.add(this)):this.destination=AB}static create(e,n,r){return new sl(e,n,r)}next(e){this.isStopped?oy(function IB(t){return ry("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oy(function EB(t){return ry("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oy(CB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const TB=Function.prototype.bind;function sy(t,e){return TB.call(t,e)}class DB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pf(r)}else pf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pf(n)}}}class sl extends iy{constructor(e,n,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ro.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sy(e.next,s),error:e.error&&sy(e.error,s),complete:e.complete&&sy(e.complete,s)}):i=e}this.destination=new DB(i)}}function pf(t){Ro.useDeprecatedSynchronousErrorHandling?function bB(t){Ro.useDeprecatedSynchronousErrorHandling&&ko&&(ko.errorThrown=!0,ko.error=t)}(t):Ex(t)}function oy(t,e){const{onStoppedNotification:n}=Ro;n&&hf.setTimeout(()=>n(t,e))}const AB={closed:!0,next:Ix,error:function SB(t){throw t},complete:Ix},ay="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mo(t){return t}function bx(t){return 0===t.length?Mo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function kB(t){return t&&t instanceof iy||function RB(t){return t&&Ue(t.next)&&Ue(t.error)&&Ue(t.complete)}(t)&&wx(t)}(n)?n:new sl(n,r,i);return ff(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Tx(r))((i,s)=>{const o=new sl({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ay](){return this}pipe(...n){return bx(n)(this)}toPromise(n){return new(n=Tx(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Tx(t){var e;return null!==(e=t??Ro.Promise)&&void 0!==e?e:Promise}const MB=il(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ii=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Dx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MB}next(n){ff(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ff(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ff(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?vx:(this.currentObservers=null,s.push(n),new nr(()=>{this.currentObservers=null,Ka(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new Dx(e,n),t})();class Dx extends ii{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:vx}}function Sx(t){return Ue(t?.lift)}function yt(t){return e=>{if(Sx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(t,e,n,r,i){return new NB(t,e,n,r,i)}class NB extends iy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return yt((n,r)=>{let i=0;n.subscribe(Ut(r,s=>{r.next(t.call(e,s,i++))}))})}function xx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function FB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof No?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function LB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function kx(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const Mx=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Nx(t){return Ue(t?.then)}function Px(t){return Ue(t[ay])}function Ox(t){return Symbol.asyncIterator&&Ue(t?.[Symbol.asyncIterator])}function Fx(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lx=function VB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ux(t){return Ue(t?.[Lx])}function Vx(t){return FB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield No(n.read());if(i)return yield No(void 0);yield yield No(r)}}finally{n.releaseLock()}})}function Bx(t){return Ue(t?.getReader)}function si(t){if(t instanceof Ye)return t;if(null!=t){if(Px(t))return function BB(t){return new Ye(e=>{const n=t[ay]();if(Ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Mx(t))return function $B(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Nx(t))return function jB(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ex)})}(t);if(Ox(t))return $x(t);if(Ux(t))return function HB(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Bx(t))return function GB(t){return $x(Vx(t))}(t)}throw Fx(t)}function $x(t){return new Ye(e=>{(function zB(t,e){var n,r,i,s;return function PB(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=LB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Oi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Je(t,e,n=1/0){return Ue(e)?Je((r,i)=>fe((s,o)=>e(r,s,i,o))(si(t(r,i))),n):("number"==typeof e&&(n=e),yt((r,i)=>function WB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let _=!1;si(n(g,l++)).subscribe(Ut(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const v=u.shift();o?Oi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Qa(t=1/0){return Je(Mo,t)}const oi=new Ye(t=>t.complete());function cy(t){return t[t.length-1]}function ol(t){return function KB(t){return t&&Ue(t.schedule)}(cy(t))?t.pop():void 0}function gf(t,e=0){return yt((n,r)=>{n.subscribe(Ut(r,i=>Oi(r,t,()=>r.next(i),e),()=>Oi(r,t,()=>r.complete(),e),i=>Oi(r,t,()=>r.error(i),e)))})}function mf(t,e=0){return yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jx(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{Oi(n,e,()=>{const r=t[Symbol.asyncIterator]();Oi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xe(t,e){return e?function n$(t,e){if(null!=t){if(Px(t))return function JB(t,e){return si(t).pipe(mf(e),gf(e))}(t,e);if(Mx(t))return function ZB(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Nx(t))return function XB(t,e){return si(t).pipe(mf(e),gf(e))}(t,e);if(Ox(t))return jx(t,e);if(Ux(t))return function e$(t,e){return new Ye(n=>{let r;return Oi(n,e,()=>{r=t[Lx](),Oi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(t,e);if(Bx(t))return function t$(t,e){return jx(Vx(t),e)}(t,e)}throw Fx(t)}(t,e):si(t)}function ly(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new sl({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function Fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function hy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const s$=Oe({__forward_ref__:Oe});function fy(t){return t.__forward_ref__=fy,t.toString=function(){return Fe(this())},t}function X(t){return function py(t){return"function"==typeof t&&t.hasOwnProperty(s$)&&t.__forward_ref__===fy}(t)?t():t}class $ extends Error{constructor(e,n){super(function _f(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function yf(t,e){throw new $(-201,!1)}function ir(t,e){null==t&&function xe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function At(t){return{providers:t.providers||[],imports:t.imports||[]}}function gy(t){return Hx(t,vf)||Hx(t,zx)}function Hx(t,e){return t.hasOwnProperty(e)?t[e]:null}function Gx(t){return t&&(t.hasOwnProperty(my)||t.hasOwnProperty(f$))?t[my]:null}const vf=Oe({\u0275prov:Oe}),my=Oe({\u0275inj:Oe}),zx=Oe({ngInjectableDef:Oe}),f$=Oe({ngInjectorDef:Oe});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let _y;function vr(t){const e=_y;return _y=t,e}function Wx(t,e,n){const r=gy(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Q.Optional?null:void 0!==e?e:void yf(Fe(t))}function As(t){return{toString:t}.toString()}var Nr=(()=>((Nr=Nr||{})[Nr.OnPush=0]="OnPush",Nr[Nr.Default=1]="Default",Nr))(),ai=(()=>{return(t=ai||(ai={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ai;var t})();const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ya={},Ae=[],wf=Oe({\u0275cmp:Oe}),yy=Oe({\u0275dir:Oe}),vy=Oe({\u0275pipe:Oe}),qx=Oe({\u0275mod:Oe}),Li=Oe({\u0275fac:Oe}),al=Oe({__NG_ELEMENT_ID__:Oe});let g$=0;function rt(t){return As(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ai.Emulated,id:"c"+g$++,styles:t.styles||Ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=Yx(t.inputs,r),i.outputs=Yx(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Kx).filter(Qx):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Sn).filter(Qx):null,i})}function Kx(t){return Me(t)||Dn(t)}function Qx(t){return null!==t}function Vt(t){return As(()=>({type:t.type,bootstrap:t.bootstrap||Ae,declarations:t.declarations||Ae,imports:t.imports||Ae,exports:t.exports||Ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yx(t,e){if(null==t)return Ya;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const gn=rt;function mn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Me(t){return t[wf]||null}function Dn(t){return t[yy]||null}function Sn(t){return t[vy]||null}function sr(t,e){const n=t[qx]||null;if(!n&&!0===e)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return n}function Hn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Or(t){return Array.isArray(t)&&!0===t[1]}function Ey(t){return 0!=(8&t.flags)}function bf(t){return 2==(2&t.flags)}function Tf(t){return 1==(1&t.flags)}function Fr(t){return null!==t.template}function C$(t){return 0!=(256&t[2])}function Uo(t,e){return t.hasOwnProperty(Li)?t[Li]:null}class b${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vo(){return Zx}function Zx(t){return t.type.prototype.ngOnChanges&&(t.setInput=D$),T$}function T$(){const t=tR(this),e=t?.current;if(e){const n=t.previous;if(n===Ya)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function D$(t,e,n,r){const i=tR(t)||function S$(t,e){return t[eR]=e}(t,{previous:Ya,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new b$(u&&u.currentValue,e,o===Ya),t[r]=e}Vo.ngInherit=!0;const eR="__ngSimpleChanges__";function tR(t){return t[eR]||null}function vt(t){for(;Array.isArray(t);)t=t[0];return t}function Df(t,e){return vt(e[t])}function Er(t,e){return vt(e[t.index])}function Sy(t,e){return t.data[e]}function tu(t,e){return t[e]}function ar(t,e){const n=e[t];return Hn(n)?n:n[0]}function nR(t){return 4==(4&t[2])}function Sf(t){return 64==(64&t[2])}function xs(t,e){return null==e?null:t[e]}function rR(t){t[18]=0}function Ay(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ee={lFrame:hR(null),bindingsEnabled:!0};function sR(){return ee.bindingsEnabled}function D(){return ee.lFrame.lView}function we(){return ee.lFrame.tView}function xy(t){return ee.lFrame.contextLView=t,t[8]}function Ry(t){return ee.lFrame.contextLView=null,t}function xt(){let t=oR();for(;null!==t&&64===t.type;)t=t.parent;return t}function oR(){return ee.lFrame.currentTNode}function ui(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function ky(){return ee.lFrame.isParent}function An(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ui(){return ee.lFrame.bindingIndex}function nu(){return ee.lFrame.bindingIndex++}function Vi(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $$(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ny(e)}function Ny(t){ee.lFrame.currentDirectiveIndex=t}function cR(){return ee.lFrame.currentQueryIndex}function Oy(t){ee.lFrame.currentQueryIndex=t}function H$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function lR(t,e,n){if(n&Q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Q.Host||(i=H$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=dR();return r.currentTNode=e,r.lView=t,!0}function Fy(t){const e=dR(),n=t[1];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dR(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?hR(t):e}function hR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fR(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pR=fR;function Ly(){const t=fR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xn(){return ee.lFrame.selectedIndex}function Rs(t){ee.lFrame.selectedIndex=t}function st(){const t=ee.lFrame;return Sy(t.tView,t.selectedIndex)}function ci(){ee.lFrame.currentNamespace="svg"}function ks(){!function q$(){ee.lFrame.currentNamespace=null}()}function xf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Rf(t,e,n){gR(t,e,3,n)}function kf(t,e,n,r){(3&t[2])===n&&gR(t,e,n,r)}function Uy(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function gR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(Y$(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Y$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class hl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Mf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];_R(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function mR(t){return 3===t||4===t||6===t}function _R(t){return 64===t.charCodeAt(0)}function Nf(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||yR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function yR(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function vR(t){return-1!==t}function ru(t){return 32767&t}function iu(t,e){let n=function tj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let By=!0;function Pf(t){const e=By;return By=t,e}let nj=0;const li={};function pl(t,e){const n=jy(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,$y(r.data,t),$y(e,null),$y(r.blueprint,null));const i=Of(t,e),s=t.injectorIndex;if(vR(i)){const o=ru(i),a=iu(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function $y(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jy(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Of(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=AR(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ff(t,e,n){!function rj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(al)&&(r=n[al]),null==r&&(r=n[al]=nj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ER(t,e,n){if(n&Q.Optional)return t;yf()}function IR(t,e,n,r){if(n&Q.Optional&&void 0===r&&(r=null),0==(n&(Q.Self|Q.Host))){const i=t[9],s=vr(void 0);try{return i?i.get(e,r,n&Q.Optional):Wx(e,r,n&Q.Optional)}finally{vr(s)}}return ER(r,0,n)}function bR(t,e,n,r=Q.Default,i){if(null!==t){if(1024&e[2]){const o=function cj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=TR(s,o,n,r|Q.Self,li);if(a!==li)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,li,r);if(l!==li)return l}u=AR(o),o=o[15]}s=u}return i}(t,e,n,r,li);if(o!==li)return o}const s=TR(t,e,n,r,li);if(s!==li)return s}return IR(e,n,r,i)}function TR(t,e,n,r,i){const s=function oj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(al)?t[al]:void 0;return"number"==typeof e?e>=0?255&e:aj:e}(n);if("function"==typeof s){if(!lR(e,t,r))return r&Q.Host?ER(i,0,r):IR(e,n,r,i);try{const o=s(r);if(null!=o||r&Q.Optional)return o;yf()}finally{pR()}}else if("number"==typeof s){let o=null,a=jy(t,e),u=-1,c=r&Q.Host?e[16][6]:null;for((-1===a||r&Q.SkipSelf)&&(u=-1===a?Of(t,e):e[a+8],-1!==u&&SR(r,!1)?(o=e[1],a=ru(u),e=iu(u,e)):a=-1);-1!==a;){const l=e[1];if(DR(s,a,l.data)){const d=sj(a,e,n,o,r,c);if(d!==li)return d}u=e[a+8],-1!==u&&SR(r,e[1].data[a+8]===c)&&DR(s,a,e)?(o=l,a=ru(u),e=iu(u,e)):a=-1}}return i}function sj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Lf(a,o,n,null==r?bf(a)&&By:r!=o&&0!=(3&a.type),i&Q.Host&&s===a);return null!==l?gl(e,o,l,a):li}function Lf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Fr(f)&&f.type===n)return u}return null}function gl(t,e,n,r){let i=t[n];const s=e.data;if(function J$(t){return t instanceof hl}(i)){const o=i;o.resolving&&function o$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(s[n]));const a=Pf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?vr(o.injectImpl):null;lR(t,r,Q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Q$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Zx(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&vr(u),Pf(a),o.resolving=!1,pR()}}return i}function DR(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function SR(t,e){return!(t&Q.Self||t&Q.Host&&e)}class su{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bR(this._tNode,this._lView,e,r,n)}}function aj(){return new su(xt(),D())}function AR(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const au="__parameters__";function cu(t,e,n){return As(()=>{const r=function Gy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(au)?u[au]:Object.defineProperty(u,au,{value:[]})[au];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ur(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ur(r,e)):e!==t&&e.push(r)}return e}function Bi(t,e){t.forEach(n=>Array.isArray(n)?Bi(n,e):e(n))}function RR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cr(t,e,n){let r=lu(t,e);return r>=0?t[1|r]=n:(r=~r,function fj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Wy(t,e){const n=lu(t,e);if(n>=0)return t[1|n]}function lu(t,e){return function NR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wl={},Ky="__NG_DI_FLAG__",Bf="ngTempTokenPath",Cj=/\n/gm,PR="__source";let Cl;function du(t){const e=Cl;return Cl=t,e}function Ij(t,e=Q.Default){if(void 0===Cl)throw new $(-203,!1);return null===Cl?Wx(t,void 0,e):Cl.get(t,e&Q.Optional?null:void 0,e)}function V(t,e=Q.Default){return(function p$(){return _y}()||Ij)(X(t),e)}function lt(t,e=Q.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),V(t,e)}function Qy(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new $(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=bj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function El(t,e){return t[Ky]=e,t.prototype[Ky]=e,t}function bj(t){return t[Ky]}const Ce=El(cu("Optional"),8),Il=El(cu("SkipSelf"),4);let Jy;class qR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ns(t){return t instanceof qR?t.changingThisBreaksApplicationSecurity:t}const Kj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var wt=(()=>((wt=wt||{})[wt.NONE=0]="NONE",wt[wt.HTML=1]="HTML",wt[wt.STYLE=2]="STYLE",wt[wt.SCRIPT=3]="SCRIPT",wt[wt.URL=4]="URL",wt[wt.RESOURCE_URL=5]="RESOURCE_URL",wt))();function dt(t){const e=function Al(){const t=D();return t&&t[12]}();return e?e.sanitize(wt.URL,t)||"":function Dl(t,e){const n=function Gj(t){return t instanceof qR&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Ns(t):function zf(t){return(t=String(t)).match(Kj)||t.match(Qj)?t:"unsafe:"+t}(re(t))}const iv=new z("ENVIRONMENT_INITIALIZER"),nk=new z("INJECTOR",-1),rk=new z("INJECTOR_DEF_TYPES");class ik{get(e,n=wl){if(n===wl){const r=new Error(`NullInjectorError: No provider for ${Fe(e)}!`);throw r.name="NullInjectorError",r}return n}}function cH(...t){return{\u0275providers:sk(0,t)}}function sk(t,...e){const n=[],r=new Set;let i;return Bi(e,s=>{const o=s;sv(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ok(i,n),n}function ok(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Bi(i,s=>{e.push(s)})}}function sv(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=Gx(t);const o=!s&&Me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Gx(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)sv(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Bi(s.imports,l=>{sv(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&ok(c,e)}if(!a){const c=Uo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ae},{provide:rk,useValue:i,multi:!0},{provide:iv,useValue:()=>V(i),multi:!0})}const u=s.providers;null==u||a||Bi(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const lH=Oe({provide:String,useValue:Oe});function ov(t){return null!==t&&"object"==typeof t&&lH in t}function Bo(t){return"function"==typeof t}const av=new z("Set Injector scope."),qf={},hH={};let uv;function Kf(){return void 0===uv&&(uv=new ik),uv}class Ps{}class ck extends Ps{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lv(e,o=>this.processProvider(o)),this.records.set(nk,pu(void 0,this)),i.has("environment")&&this.records.set(Ps,pu(void 0,this));const s=this.records.get(av);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rk.multi,Ae,Q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=du(this),r=vr(void 0);try{return e()}finally{du(n),vr(r)}}get(e,n=wl,r=Q.Default){this.assertNotDestroyed();const i=du(this),s=vr(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function _H(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&gy(e);a=u&&this.injectableDefInScope(u)?pu(cv(e),qf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?Kf():this.parent).get(e,n=r&Q.Optional&&n===wl?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Bf]=o[Bf]||[]).unshift(Fe(e)),i)throw o;return function Tj(t,e,n,r){const i=t[Bf];throw e[PR]&&i.unshift(e[PR]),t.message=function Dj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Fe(e);if(Array.isArray(e))i=e.map(Fe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Fe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Bf]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{vr(s),du(i)}}resolveInjectorInitializers(){const e=du(this),n=vr(void 0);try{const r=this.get(iv.multi,Ae,Q.Self);for(const i of r)i()}finally{du(e),vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Fe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){let n=Bo(e=X(e))?e:X(e&&e.provide);const r=function pH(t){return ov(t)?pu(void 0,t.useValue):pu(function lk(t,e,n){let r;if(Bo(t)){const i=X(t);return Uo(i)||cv(i)}if(ov(t))r=()=>X(t.useValue);else if(function uk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Qy(t.deps||[]));else if(function ak(t){return!(!t||!t.useExisting)}(t))r=()=>V(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function gH(t){return!!t.deps}(t))return Uo(i)||cv(i);r=()=>new i(...Qy(t.deps))}return r}(t),qf)}(e);if(Bo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=pu(void 0,qf,!0),i.factory=()=>Qy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===qf&&(n.value=hH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function cv(t){const e=gy(t),n=null!==e?e.factory:Uo(t);if(null!==n)return n;if(t instanceof z)throw new $(204,!1);if(t instanceof Function)return function fH(t){const e=t.length;if(e>0)throw function vl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new $(204,!1);const n=function d$(t){const e=t&&(t[vf]||t[zx]);if(e){const n=function h$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new $(204,!1)}function pu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yH(t){return!!t.\u0275providers}function lv(t,e){for(const n of t)Array.isArray(n)?lv(n,e):yH(n)?lv(n.\u0275providers,e):e(n)}class dk{}class CH{resolveComponentFactory(e){throw function wH(t){const e=Error(`No component factory found for ${Fe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xl=(()=>{class t{}return t.NULL=new CH,t})();function EH(){return gu(xt(),D())}function gu(t,e){return new Os(Er(t,e))}let Os=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=EH,t})();function IH(t){return t instanceof Os?t.nativeElement:t}class fk{}let TH=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class Rl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pk=new Rl("14.1.3"),dv={};function mv(t){return t.ngOriginalError}class mu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&mv(e);for(;n&&mv(n);)n=mv(n);return n||null}}const _v=new Map;let LH=0;const vv="__ngContext__";function vn(t,e){Hn(e)?(t[vv]=e[20],function VH(t){_v.set(t[20],t)}(e)):t[vv]=e}function kl(t){const e=t[vv];return"number"==typeof e?function wk(t){return _v.get(t)||null}(e):e||null}function wv(t){const e=kl(t);return e?Hn(e)?e:e.lView:null}const KH=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ne))();function $i(t){return t instanceof Function?t():t}var Gn=(()=>((Gn=Gn||{})[Gn.Important=1]="Important",Gn[Gn.DashCase=2]="DashCase",Gn))();function Ev(t,e){return undefined(t,e)}function Ml(t){const e=t[3];return Or(e)?e[3]:e}function Iv(t){return Ak(t[13])}function bv(t){return Ak(t[4])}function Ak(t){for(;null!==t&&!Or(t);)t=t[4];return t}function yu(t,e,n,r,i){if(null!=r){let s,o=!1;Or(r)?s=r:Hn(r)&&(o=!0,r=r[0]);const a=vt(r);0===t&&null!==n?null==i?Pk(e,n,a):$o(e,n,a,i||null,!0):1===t&&null!==n?$o(e,n,a,i||null,!0):2===t?function $k(t,e,n){const r=Yf(t,e);r&&function hG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function gG(t,e,n,r,i){const s=n[7];s!==vt(n)&&yu(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Nl(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Dv(t,e,n){return t.createElement(e,n)}function Rk(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Ay(i,-1)),n.splice(r,1)}function Sv(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Rk(i,r),e>0&&(t[n-1][4]=r[4]);const s=Uf(t,10+e);!function iG(t,e){Nl(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function kk(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Nl(t,e,n,3,null,null),function aG(t){let e=t[13];if(!e)return Av(t[1],t);for(;e;){let n=null;if(Hn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Hn(e)&&Av(e[1],e),e=e[3];null===e&&(e=t),Hn(e)&&Av(e[1],e),n=e&&e[4]}e=n}}(e)}}function Av(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function dG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof hl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function lG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):vt(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Or(e[3])){n!==e[3]&&Rk(n,e);const r=e[19];null!==r&&r.detachView(t)}!function BH(t){_v.delete(t[20])}(e)}}function Mk(t,e,n){return function Nk(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===ai.None||i===ai.Emulated)return null}return Er(r,n)}(t,e.parent,n)}function $o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Pk(t,e,n){t.appendChild(e,n)}function Ok(t,e,n,r,i){null!==r?$o(t,e,n,r,i):Pk(t,e,n)}function Yf(t,e){return t.parentNode(e)}let Uk=function Lk(t,e,n){return 40&t.type?Er(t,n):null};function Jf(t,e,n,r){const i=Mk(t,r,e),s=e[11],a=function Fk(t,e,n){return Uk(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ok(s,i,n[u],a,!1);else Ok(s,i,n,a,!1)}function Xf(t,e){if(null!==e){const n=e.type;if(3&n)return Er(e,t);if(4&n)return Rv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xf(t,r);{const i=t[e.index];return Or(i)?Rv(-1,i):vt(i)}}if(32&n)return Ev(e,t)()||vt(t[e.index]);{const r=Bk(t,e);return null!==r?Array.isArray(r)?r[0]:Xf(Ml(t[16]),r):Xf(t,e.next)}}return null}function Bk(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Rv(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Xf(r,i)}return e[7]}function kv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&vn(vt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)kv(t,e,n.child,r,i,s,!1),yu(e,t,i,a,s);else if(32&u){const c=Ev(n,r);let l;for(;l=c();)yu(e,t,i,l,s);yu(e,t,i,a,s)}else 16&u?jk(t,e,r,n,i,s):yu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nl(t,e,n,r,i,s){kv(n,r,t.firstChild,e,i,s,!1)}function jk(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)yu(e,t,i,u[c],s);else kv(t,e,u,o[3],i,s,!0)}function Hk(t,e,n){t.setAttribute(e,"style",n)}function Mv(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Gk(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const zk="ng-template";function _G(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gk(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Wk(t){return 4===t.type&&t.value!==zk}function yG(t,e,n){return e===(4!==t.type||n?t.value:zk)}function vG(t,e,n){let r=4;const i=t.attrs||[],s=function EG(t){for(let e=0;e<t.length;e++)if(mR(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!yG(t,u,n)||""===u&&1===e.length){if(Lr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!_G(t.attrs,c,n)){if(Lr(r))return!1;o=!0}continue}const d=wG(8&r?"class":u,i,Wk(t),n);if(-1===d){if(Lr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Gk(f,c,0)||2&r&&c!==h){if(Lr(r))return!1;o=!0}}}}else{if(!o&&!Lr(r)&&!Lr(u))return!1;if(o&&Lr(u))continue;o=!1,r=u|1&r}}return Lr(r)||o}function Lr(t){return 0==(1&t)}function wG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function IG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qk(t,e,n=!1){for(let r=0;r<e.length;r++)if(vG(t,e[r],n))return!0;return!1}function Kk(t,e){return t?":not("+e.trim()+")":e}function TG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Lr(o)&&(e+=Kk(s,i),i=""),r=o,s=s||!Lr(r);n++}return""!==i&&(e+=Kk(s,i)),e}const ie={};function L(t){Qk(we(),D(),xn()+t,!1)}function Qk(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Rf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&kf(e,s,0,n)}Rs(n)}function Zk(t,e=null,n=null,r){const i=eM(t,e,n,r);return i.resolveInjectorInitializers(),i}function eM(t,e=null,n=null,r,i=new Set){const s=[n||Ae,cH(t)];return r=r||("object"==typeof t?void 0:Fe(t)),new ck(s,e||Kf(),r||null,i)}let ht=(()=>{class t{static create(n,r){if(Array.isArray(n))return Zk({name:""},r,n,"");{const i=n.name??"";return Zk({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=wl,t.NULL=new ik,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>V(nk)}),t.__NG_ELEMENT_ID__=-1,t})();function H(t,e=Q.Default){const n=D();return null===n?V(t,e):bR(xt(),n,X(t),e)}function Lv(){throw new Error("invalid")}function ep(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Uv(t){return 2|t}function ji(t){return(131068&t)>>2}function Vv(t,e){return-131069&t|e<<2}function Bv(t){return 1|t}function _M(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Oy(i),o.contentQueries(2,e[s],s)}}}function rp(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),rR(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function UH(){return LH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function wu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Qv(t,e,n,r,i){const s=oR(),o=ky(),u=t.data[e]=function uz(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function B$(){return ee.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function dl(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ui(s,!0),s}function Cu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ip(t,e,n){Fy(e);try{const r=t.viewQuery;null!==r&&s0(1,r,n);const i=t.template;null!==i&&yM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_M(t,e),t.staticViewQueries&&s0(2,t.viewQuery,n);const s=t.components;null!==s&&function iz(t,e){for(let n=0;n<e.length;n++)bz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ly()}}function Pl(t,e,n,r){const i=e[2];if(128!=(128&i)){Fy(e);try{rR(e),function aR(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&yM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Rf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&kf(e,c,0,null),Uy(e,0)}if(function Ez(t){for(let e=Iv(t);null!==e;e=bv(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Ay(s,1),i[2]|=512}}}(e),function Cz(t){for(let e=Iv(t);null!==e;e=bv(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Sf(r)&&Pl(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&_M(t,e),o){const c=t.contentCheckHooks;null!==c&&Rf(e,c)}else{const c=t.contentHooks;null!==c&&kf(e,c,1),Uy(e,1)}!function nz(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Rs(~i);else{const s=i,o=n[++r],a=n[++r];$$(o,s),a(2,e[s])}}}finally{Rs(-1)}}(t,e);const a=t.components;null!==a&&function rz(t,e){for(let n=0;n<e.length;n++)Iz(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&s0(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Rf(e,c)}else{const c=t.viewHooks;null!==c&&kf(e,c,2),Uy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Ay(e[3],-1))}finally{Ly()}}}function sz(t,e,n,r){const i=e[10],o=nR(e);try{!o&&i.begin&&i.begin(),o&&ip(t,e,r),Pl(t,e,n,r)}finally{!o&&i.end&&i.end()}}function yM(t,e,n,r,i){const s=xn(),o=2&r;try{Rs(-1),o&&e.length>22&&Qk(t,e,22,!1),n(r,i)}finally{Rs(s)}}function Yv(t,e,n){!sR()||(function fz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||pl(n,e),vn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Fr(u);c&&yz(e,n,u);const l=gl(e,t,a,n);vn(l,e),null!==o&&vz(0,a-i,l,u,0,o),c&&(ar(n.index,e)[8]=l)}}(t,e,n,Er(n,e)),128==(128&n.flags)&&function pz(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function j$(){return ee.lFrame.currentDirectiveIndex}();try{Rs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Ny(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&DM(u,c)}}finally{Rs(-1),Ny(o)}}(t,e,n))}function Jv(t,e,n=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Xv(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function oz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function CM(t,e,n,r){const i=NM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&PM(t).push(r,i.length-1))}function EM(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function IM(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||Wk(e)?null:wz(d,s);o.push(h),a=EM(d,c,a),u=EM(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function lr(t,e,n,r,i,s,o,a){const u=Er(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(o0(t,n,l,r,i),bf(e)&&bM(n,e.index)):3&e.type&&(r=function cz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function bM(t,e){const n=ar(e,t);16&n[2]||(n[2]|=32)}function Zv(t,e,n,r){let i=!1;if(sR()){const s=function gz(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];qk(n,o.selectors,!1)&&(i||(i=[]),Ff(pl(n,e),t,o.type),Fr(o)?(SM(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,AM(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Cu(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Nf(n.mergedAttrs,d.hostAttrs),xM(t,n,e,c,d),_z(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}IM(t,n)}o&&function mz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new $(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Nf(n.mergedAttrs,n.attrs),i}function TM(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function hz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function DM(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function SM(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _z(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fr(e)&&(n[""]=t)}}function AM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xM(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Uo(i.type)),o=new hl(s,Fr(i),H);t.blueprint[r]=o,n[r]=o,TM(t,e,0,r,Cu(t,n,i.hostVars,ie),i)}function yz(t,e,n){const r=Er(e,t),i=wM(n),s=t[10],o=sp(t,rp(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function hi(t,e,n,r,i,s){const o=Er(t,e);!function e0(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?re(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function vz(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function wz(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function RM(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Iz(t,e){const n=ar(e,t);if(Sf(n)){const r=n[1];48&n[2]?Pl(r,n,r.template,n[8]):n[5]>0&&t0(n)}}function t0(t){for(let r=Iv(t);null!==r;r=bv(r))for(let i=10;i<r.length;i++){const s=r[i];if(Sf(s))if(512&s[2]){const o=s[1];Pl(o,s,o.template,s[8])}else s[5]>0&&t0(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ar(n[r],t);Sf(i)&&i[5]>0&&t0(i)}}function bz(t,e){const n=ar(e,t),r=n[1];(function Tz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ip(r,n,n[8])}function sp(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function n0(t){for(;t;){t[2]|=32;const e=Ml(t);if(C$(t)&&!e)return t;t=e}return null}function MM(t){!function kM(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=wv(n);if(null!==r){const i=r[1];sz(i,r,i.template,n)}}}(t[8])}function s0(t,e,n){Oy(0),e(t,n)}const Sz=(()=>Promise.resolve(null))();function NM(t){return t[7]||(t[7]=[])}function PM(t){return t.cleanup||(t.cleanup=[])}function FM(t,e){const n=t[9],r=n?n.get(mu,null):null;r&&r.handleError(e)}function o0(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Hi(t,e,n){const r=Df(e,t);!function xk(t,e,n){t.setValue(e,n)}(t[11],r,n)}function op(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=hy(i,a):2==s&&(r=hy(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ap(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(vt(s)),Or(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ap(u[1],u,c,r)}const o=n.type;if(8&o)ap(t,e,n.child,r);else if(32&o){const a=Ev(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Bk(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ml(e[16]);ap(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ol{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return ap(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Or(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Sv(e,r),Uf(n,r))}this._attachedToViewContainer=!1}kk(this._lView[1],this._lView)}onDestroy(e){CM(this._lView[1],this._lView,null,e)}markForCheck(){n0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function r0(t,e,n){const r=e[10];r.begin&&r.begin();try{Pl(t,e,t.template,n)}catch(i){throw FM(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oG(t,e){Nl(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e}}class Az extends Ol{constructor(e){super(e),this._view=e}detectChanges(){MM(this._view)}checkNoChanges(){}get context(){return null}}class a0 extends xl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Me(e);return new Fl(n,this.ngModule)}}function LM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Rz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,dv,r);return i!==dv||n===dv?i:this.parentInjector.get(e,n,r)}}class Fl extends dk{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function DG(t){return t.map(TG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return LM(this.componentDef.inputs)}get outputs(){return LM(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ps?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Rz(e,s):e,a=o.get(fk,null);if(null===a)throw new $(407,!1);const u=o.get(TH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function az(t,e,n){return t.selectRootElement(e,n===ai.ShadowDom)}(c,r,this.componentDef.encapsulation):Dv(a.createRenderer(null,this.componentDef),l,function xz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=function Oz(t,e){return{components:[],scheduler:t||KH,clean:Sz,playerHandler:e||null,flags:0}}(),p=Xv(0,null,null,1,0,null,null,null,null,null),g=rp(null,p,f,h,null,null,a,c,u,o,null);let _,v;Fy(g);try{const b=function Nz(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=wu(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(op(u,c,!0),null!==t&&(Mf(i,t,c),null!==u.classes&&Mv(i,t,u.classes),null!==u.styles&&Hk(i,t,u.styles)));const l=r.createRenderer(t,e),d=rp(n,wM(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Ff(pl(u,n),o,e.type),SM(o,u),AM(u,n.length,1)),sp(n,d),n[22]=d}(d,this.componentDef,g,a,c);if(d)if(r)Mf(c,d,["ng-version",pk.full]);else{const{attrs:y,classes:T}=function SG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Lr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Mf(c,d,y),T&&T.length>0&&Mv(c,d,T.join(" "))}if(v=Sy(p,22),void 0!==n){const y=v.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const R=n[T];y.push(null!=R?Array.from(R):null)}}_=function Pz(t,e,n,r,i){const s=n[1],o=function dz(t,e,n){const r=xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xM(t,r,e,Cu(t,e,1,null),n),IM(t,r));const i=gl(e,t,r.directiveStart,r);vn(i,e);const s=Er(r,e);return s&&vn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=xt();e.contentQueries(1,o,u.directiveStart)}const a=xt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Rs(a.index),TM(n[1],a,0,a.directiveStart,a.directiveEnd,e),DM(e,o)),o}(b,this.componentDef,g,f,[Fz]),ip(p,g,null)}finally{Ly()}return new Mz(this.componentType,_,gu(v,g),g,v)}}class Mz extends class vH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Az(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;o0(s[1],s,i,e,n),bM(s,this._tNode.index)}}get injector(){return new su(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Fz(){const t=xt();xf(D()[1],t)}let up=null;function jo(){if(!up){const t=Ne.Symbol;if(t&&t.iterator)up=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(up=r)}}}return up}function Ll(t){return!!function c0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function fi(t,e,n){return t[e]=n}function wn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,r){const i=wn(t,e,n);return wn(t,e+1,r)||i}function l0(t,e,n,r){const i=D();return wn(i,nu(),e)&&(we(),hi(st(),i,t,e,n,r)),l0}function Iu(t,e,n,r){return wn(t,nu(),n)?e+re(n)+r:ie}function Du(t,e,n,r,i,s,o,a,u,c){const d=function Ir(t,e,n,r,i,s){const o=Ho(t,e,n,r);return Ho(t,e+2,i,s)||o}(t,Ui(),n,i,o,u);return Vi(4),d?e+re(n)+r+re(i)+s+re(o)+a+re(u)+c:ie}function Zt(t,e,n,r,i,s,o,a){const u=D(),c=we(),l=t+22,d=c.firstCreatePass?function Qz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wu(e,t,4,o||null,xs(c,a));Zv(e,n,l,xs(c,u)),xf(e,l);const d=l.tViews=Xv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ui(d,!1);const h=u[11].createComment("");Jf(c,u,h,d),vn(h,u),sp(u,u[l]=RM(h,u,h,d)),Tf(d)&&Yv(c,u,d),null!=o&&Jv(u,d,a)}function pe(t,e,n){const r=D();return wn(r,nu(),e)&&lr(we(),st(),r,t,e,r[11],n,!1),pe}function d0(t,e,n,r,i){const o=i?"class":"style";o0(t,n,e.inputs[o],o,r)}function E(t,e,n,r){const i=D(),s=we(),o=22+t,a=i[11],u=i[o]=Dv(a,e,function K$(){return ee.lFrame.currentNamespace}()),c=s.firstCreatePass?function Jz(t,e,n,r,i,s,o){const a=e.consts,c=wu(e,t,2,i,xs(a,s));return Zv(e,n,c,xs(a,o)),null!==c.attrs&&op(c,c.attrs,!1),null!==c.mergedAttrs&&op(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];ui(c,!0);const l=c.mergedAttrs;null!==l&&Mf(a,u,l);const d=c.classes;null!==d&&Mv(a,u,d);const h=c.styles;return null!==h&&Hk(a,u,h),64!=(64&c.flags)&&Jf(s,i,u,c),0===function P$(){return ee.lFrame.elementDepthCount}()&&vn(u,i),function O$(){ee.lFrame.elementDepthCount++}(),Tf(c)&&(Yv(s,i,c),function vM(t,e,n){if(Ey(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Jv(i,c),E}function I(){let t=xt();ky()?function My(){ee.lFrame.isParent=!1}():(t=t.parent,ui(t,!1));const e=t;!function F$(){ee.lFrame.elementDepthCount--}();const n=we();return n.firstCreatePass&&(xf(n,t),Ey(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Z$(t){return 0!=(16&t.flags)}(e)&&d0(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ej(t){return 0!=(32&t.flags)}(e)&&d0(n,e,D(),e.stylesWithoutHost,!1),I}function G(t,e,n,r){return E(t,e,n,r),I(),G}function p0(){return D()}function lp(t){return!!t&&"function"==typeof t.then}const XM=function JM(t){return!!t&&"function"==typeof t.subscribe};function Us(t,e,n,r){const i=D(),s=we(),o=xt();return function eN(t,e,n,r,i,s,o,a){const u=Tf(r),l=t.firstCreatePass&&PM(t),d=e[8],h=NM(e);let f=!0;if(3&r.type||a){const _=Er(r,e),v=a?a(_):_,b=h.length,y=a?R=>a(vt(R[r.index])):r.index;let T=null;if(!a&&u&&(T=function Zz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1;else{s=nN(r,e,d,s,!1);const R=n.listen(v,i,s);h.push(s,R),l&&l.push(i,y,b,b+1)}}else s=nN(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let v=0;v<_;v+=2){const U=e[g[v]][g[v+1]].subscribe(s),De=h.length;h.push(s,U),l&&l.push(i,r.index,De,-(De+1))}}}(s,i,i[11],o,t,e,0,r),Us}function tN(t,e,n,r){try{return!1!==n(r)}catch(i){return FM(t,i),!1}}function nN(t,e,n,r,i){return function s(o){if(o===Function)return r;n0(2&t.flags?ar(t.index,e):e);let u=tN(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=tN(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function en(t=1){return function G$(t){return(ee.lFrame.contextLView=function z$(t,e){for(;t>0;)e=e[15],t--;return e}(t,ee.lFrame.contextLView))[8]}(t)}function br(t,e,n){return ku(t,"",e,"",n),br}function ku(t,e,n,r,i){const s=D(),o=Iu(s,e,n,r);return o!==ie&&lr(we(),st(),s,t,o,s[11],i,!1),ku}function zn(t,e,n,r,i,s,o){const a=D(),u=function bu(t,e,n,r,i,s){const a=Ho(t,Ui(),n,i);return Vi(2),a?e+re(n)+r+re(i)+s:ie}(a,e,n,r,i,s);return u!==ie&&lr(we(),st(),a,t,u,a[11],o,!1),zn}function lN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ur(s):ji(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];sW(t[a],e)&&(u=!0,t[a+1]=r?Bv(l):Uv(l)),a=r?Ur(l):ji(l)}u&&(t[n+1]=r?Uv(s):Bv(s))}function sW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&lu(t,e)>=0}const kt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dN(t){return t.substring(kt.key,kt.keyEnd)}function hN(t,e){const n=kt.textEnd;return n===e?-1:(e=kt.keyEnd=function cW(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,kt.key=e,n),Mu(t,e,n))}function Mu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function gi(t,e){for(let n=function aW(t){return function pN(t){kt.key=0,kt.keyEnd=0,kt.value=0,kt.valueEnd=0,kt.textEnd=t.length}(t),hN(t,Mu(t,0,kt.textEnd))}(e);n>=0;n=hN(e,n))cr(t,dN(e),!0)}function Br(t,e,n,r){const i=we(),s=Vi(2);i.firstUpdatePass&&function wN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[xn()],o=vN(t,n);bN(s,r)&&null===e&&!o&&(e=!1),e=function pW(t,e,n,r){const i=function Py(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Vl(n=g0(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=g0(i,t,e,n,r),null===s){let u=function gW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ji(r))return t[Ur(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=g0(null,t,e,u[1],r),u=Vl(u,e.attrs,r),function mW(t,e,n,r){t[Ur(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function _W(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Vl(r,t[s].hostAttrs,n);return Vl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function rW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ur(o),u=ji(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||lu(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Ur(t[a+1]);t[r+1]=ep(h,a),0!==h&&(t[h+1]=Vv(t[h+1],r)),t[a+1]=function WG(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ep(a,0),0!==a&&(t[a+1]=Vv(t[a+1],r)),a=r;else t[r+1]=ep(u,0),0===a?a=r:t[u+1]=Vv(t[u+1],r),u=r;c&&(t[r+1]=Uv(t[r+1])),lN(t,l,r,!0),lN(t,l,r,!1),function iW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&lu(s,e)>=0&&(n[r+1]=Bv(n[r+1]))}(e,l,t,r,s),o=ep(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=D();if(n!==ie&&wn(o,s,n)){const a=i.data[xn()];if(bN(a,r)&&!vN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=hy(u,n||"")),d0(i,a,o,n,r)}else!function vW(t,e,n,r,i,s,o,a){i===ie&&(i=Ae);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&EN(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function yW(t,e,n){if(null==n||""===n)return Ae;const r=[],i=Ns(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function vN(t,e){return e>=t.expandoStartIndex}function g0(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Vl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Vl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cr(t,o,!!n||e[++s]))}return void 0===t?null:t}function EN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];dp(function cM(t){return 1==(1&t)}(c)?IN(u,e,n,i,ji(c),o):void 0)||(dp(s)||function uM(t){return 2==(2&t)}(c)&&(s=IN(u,null,n,i,a,o)),function mG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Gn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gn.Important),t.setStyle(n,r,i,s))}}(r,o,Df(xn(),n),i,s))}function IN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ie&&(h=d?Ae:void 0);let f=d?Wy(h,r):l===r?h:void 0;if(c&&!dp(f)&&(f=Wy(u,r)),dp(f)&&(a=f,o))return a;const p=t[i+1];i=o?Ur(p):ji(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Wy(u,r))}return a}function dp(t){return void 0!==t}function bN(t,e){return 0!=(t.flags&(e?16:32))}function x(t,e=""){const n=D(),r=we(),i=t+22,s=r.firstCreatePass?wu(r,i,1,e,null):r.data[i],o=n[i]=function Tv(t,e){return t.createText(e)}(n[11],e);Jf(r,n,o,s),ui(s,!1)}function ft(t){return $r("",t,""),ft}function $r(t,e,n){const r=D(),i=Iu(r,t,e,n);return i!==ie&&Hi(r,xn(),i),$r}function m0(t,e,n,r,i,s,o,a,u){const c=D(),l=Du(c,t,e,n,r,i,s,o,a,u);return l!==ie&&Hi(c,xn(),l),m0}function _0(t,e,n){Br(cr,gi,Iu(D(),t,e,n),!0)}const Go=void 0;var VW=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UW(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Nu={};function kn(t){const e=function BW(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=GN(e);if(n)return n;const r=e.split("-")[0];if(n=GN(r),n)return n;if("en"===r)return VW;throw new $(701,!1)}function GN(t){return t in Nu||(Nu[t]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[t]),Nu[t]}var F=(()=>((F=F||{})[F.LocaleId=0]="LocaleId",F[F.DayPeriodsFormat=1]="DayPeriodsFormat",F[F.DayPeriodsStandalone=2]="DayPeriodsStandalone",F[F.DaysFormat=3]="DaysFormat",F[F.DaysStandalone=4]="DaysStandalone",F[F.MonthsFormat=5]="MonthsFormat",F[F.MonthsStandalone=6]="MonthsStandalone",F[F.Eras=7]="Eras",F[F.FirstDayOfWeek=8]="FirstDayOfWeek",F[F.WeekendRange=9]="WeekendRange",F[F.DateFormat=10]="DateFormat",F[F.TimeFormat=11]="TimeFormat",F[F.DateTimeFormat=12]="DateTimeFormat",F[F.NumberSymbols=13]="NumberSymbols",F[F.NumberFormats=14]="NumberFormats",F[F.CurrencyCode=15]="CurrencyCode",F[F.CurrencySymbol=16]="CurrencySymbol",F[F.CurrencyName=17]="CurrencyName",F[F.Currencies=18]="Currencies",F[F.Directionality=19]="Directionality",F[F.PluralCase=20]="PluralCase",F[F.ExtraData=21]="ExtraData",F))();const Pu="en-US";let zN=Pu;class zo{}class _2{}class y2 extends zo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a0(this);const r=sr(e);this._bootstrapComponents=$i(r.bootstrap),this._r3Injector=eM(e,n,[{provide:zo,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],Fe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class b0 extends _2{constructor(e){super(),this.moduleType=e}create(e){return new y2(this.moduleType,e)}}class Bq extends zo{constructor(e,n,r){super(),this.componentFactoryResolver=new a0(this),this.instance=null;const i=new ck([...e,{provide:zo,useValue:this},{provide:xl,useValue:this.componentFactoryResolver}],n||Kf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mp(t,e,n=null){return new Bq(t,e,n).injector}function mi(t,e,n){const r=An()+t,i=D();return i[r]===ie?fi(i,r,n?e.call(n):e()):function Ul(t,e){return t[e]}(i,r)}function _p(t,e,n,r){return T2(D(),An(),t,e,n,r)}function T2(t,e,n,r,i,s){const o=e+n;return wn(t,o,i)?fi(t,o+1,s?r.call(s,i):r(i)):function Gl(t,e){const n=t[e];return n===ie?void 0:n}(t,o+1)}function Ge(t,e){const n=we();let r;const i=t+22;n.firstCreatePass?(r=function sK(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Uo(r.type)),o=vr(H);try{const a=Pf(!1),u=s();return Pf(a),function Yz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,u),u}finally{vr(o)}}function ze(t,e,n){const r=t+22,i=D(),s=tu(i,r);return function zl(t,e){return t[1].data[e].pure}(i,r)?T2(i,An(),e,s.transform,n,s):s.transform(n)}function D0(t){return e=>{setTimeout(t,void 0,e)}}const Cn=class lK extends ii{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=D0(s),i&&(i=D0(i)),o&&(o=D0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof nr&&e.add(a),a}};function dK(){return this._results[jo()]()}class S0{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=jo(),r=S0.prototype;r[n]||(r[n]=dK)}get changes(){return this._changes||(this._changes=new Cn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=ur(e);(this._changesDetected=!function dj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gi=(()=>{class t{}return t.__NG_ELEMENT_ID__=pK,t})();const hK=Gi,fK=class extends hK{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=rp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),ip(r,i,e),new Ol(i)}};function pK(){return yp(xt(),D())}function yp(t,e){return 4&t.type?new fK(e,t,gu(t,e)):null}let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=gK,t})();function gK(){return M2(xt(),D())}const mK=jr,R2=class extends mK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new su(this._hostTNode,this._hostLView)}get parentInjector(){const e=Of(this._hostTNode,this._hostLView);if(vR(e)){const n=iu(e,this._hostLView),r=ru(e);return new su(n[1].data[r+8],n)}return new su(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=k2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function yl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Fl(Me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ps,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function N$(t){return Or(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new R2(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function uG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],RR(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function cG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Rv(s,o),u=r[11],c=Yf(u,o[7]);return null!==c&&function sG(t,e,n,r,i,s){r[0]=i,r[6]=e,Nl(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),RR(A0(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=k2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Sv(this._lContainer,n);r&&(Uf(A0(this._lContainer),n),kk(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Sv(this._lContainer,n);return r&&null!=Uf(A0(this._lContainer),n)?new Ol(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function k2(t){return t[8]}function A0(t){return t[8]||(t[8]=[])}function M2(t,e){let n;const r=e[t.index];if(Or(r))n=r;else{let i;if(8&t.type)i=vt(r);else{const s=e[11];i=s.createComment("");const o=Er(t,e);$o(s,Yf(s,o),i,function fG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=RM(r,e,i,t),sp(e,n)}return new R2(n,t,e)}class x0{constructor(e){this.queryList=e,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class R0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new R0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==L2(e,n).matches&&this.queries[n].setDirty()}}class N2{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class k0{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new k0(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class M0{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new M0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,vK(n,s)),this.matchTNodeWithReadOption(e,n,Lf(n,e,s,!1,!1))}else r===Gi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Lf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Os||i===jr||i===Gi&&4&n.type)this.addMatch(n.index,-2);else{const s=Lf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function vK(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function CK(t,e,n,r){return-1===n?function wK(t,e){return 11&t.type?gu(t,e):4&t.type?yp(t,e):null}(e,t):-2===n?function EK(t,e,n){return n===Os?gu(e,t):n===Gi?yp(e,t):n===jr?M2(e,t):void 0}(t,e,r):gl(t,t[1],n,e)}function P2(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:CK(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function N0(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=P2(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&N0(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];N0(f[1],f,c,r)}}}}}return r}function Fu(t){const e=D(),n=we(),r=cR();Oy(r+1);const i=L2(n,r);if(t.dirty&&nR(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?N0(n,e,r,[]):P2(n,e,i,r);t.reset(s,IH),t.notifyOnChanges()}return!0}return!1}function vp(t,e,n){const r=we();r.firstCreatePass&&(function F2(t,e,n){null===t.queries&&(t.queries=new k0),t.queries.track(new M0(e,n))}(r,new N2(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function O2(t,e,n){const r=new S0(4==(4&n));CM(t,e,r,r.destroy),null===e[19]&&(e[19]=new R0),e[19].queries.push(new x0(r))}(r,D(),e)}function Lu(){return function IK(t,e){return t[19].queries[e].queryList}(D(),cR())}function L2(t,e){return t.queries.getByIndex(e)}function U2(t,e){return yp(t,e)}function Cp(...t){}const Vs=new z("Application Initializer");let Ep=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Cp,this.reject=Cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(lp(s))n.push(s);else if(XM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(V(Vs,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ql=new z("AppId",{providedIn:"root",factory:function rP(){return`${V0()}${V0()}${V0()}`}});function V0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iP=new z("Platform Initializer"),Wo=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sP=new z("appBootstrapListener");let GK=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zi=new z("LocaleId",{providedIn:"root",factory:()=>lt(zi,Q.Optional|Q.SkipSelf)||function zK(){return typeof $localize<"u"&&$localize.locale||Pu}()}),oP=new z("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WK{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let B0=(()=>{class t{compileModuleSync(n){return new b0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=$i(sr(n).declarations).reduce((o,a)=>{const u=Me(a);return u&&o.push(new Fl(u)),o},[]);return new WK(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QK=(()=>Promise.resolve(0))();function $0(t){typeof Zone>"u"?QK.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function YK(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function ZK(t){const e=()=>{!function XK(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,H0(t),t.isCheckStableRunning=!0,j0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),H0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return cP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),lP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return cP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),lP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,H0(t),j0(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JK,Cp,Cp);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const JK={};function j0(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lP(t){t._nesting--,j0(t)}class eQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const dP=new z(""),Ip=new z("");let W0,G0=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W0||(function tQ(t){W0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),$0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$0(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(V(Re),V(z0),V(Ip))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),z0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return W0?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Bs=null;const hP=new z("AllowMultipleToken"),q0=new z("PlatformDestroyListeners");class fP{constructor(e,n){this.name=e,this.token=n}}function gP(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=K0();if(!o||o.injector.get(hP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function iQ(t){if(Bs&&!Bs.get(hP,!1))throw new $(400,!1);Bs=t;const e=t.get(_P);(function pP(t){const e=t.get(iP,null);e&&e.forEach(n=>n())})(t)}(function mP(t=[],e){return ht.create({name:e,providers:[{provide:av,useValue:"platform"},{provide:q0,useValue:new Set([()=>Bs=null])},...t]})}(a,r))}return function oQ(t){const e=K0();if(!e)throw new $(401,!1);return e}()}}function K0(){return Bs?.get(_P)??null}let _P=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function aQ(t,e){let n;return n="noop"===t?new eQ:("zone.js"===t?void 0:t)||new Re(e),n}(r?.ngZone,function yP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Re,useValue:i}];return i.run(()=>{const o=ht.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(mu,null);if(!u)throw new $(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Tp(this._modules,a),c.unsubscribe()})}),function vP(t,e,n){try{const r=n();return lp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Ep);return c.runInitializers(),c.donePromise.then(()=>(function WN(t){ir(t,"Expected localeId to be defined"),"string"==typeof t&&(zN=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zi,Pu)||Pu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=wP({},r);return function nQ(t,e,n){const r=new b0(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(bp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new $(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(q0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(V(ht))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function wP(t,e){return Array.isArray(e)?e.reduce(wP,t):{...t,...e}}let bp=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ye(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ye(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),$0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function r$(...t){const e=ol(t),n=function YB(t,e){return"number"==typeof cy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?si(r[0]):Qa(n)(Xe(r,e)):oi}(s,o.pipe(function i$(t={}){const{connector:e=(()=>new ii),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return yt((g,_)=>{c++,!d&&!l&&h();const v=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=ly(p,i))}),v.subscribe(_),!o&&c>0&&(o=new sl({next:b=>v.next(b),error:b=>{d=!0,h(),a=ly(f,n,b),v.error(b)},complete:()=>{l=!0,h(),a=ly(f,r),v.complete()}}),si(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dk;if(!this._injector.get(Ep).done)throw!i&&function Vu(t){const e=Me(t)||Dn(t)||Sn(t);return null!==e&&e.standalone}(n),new $(405,false);let o;o=i?n:this._injector.get(xl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function rQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(zo),c=o.create(ht.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(dP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Tp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new $(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Tp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(sP,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(V(Re),V(Ps),V(mu))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let EP=!0,Q0=(()=>{class t{}return t.__NG_ELEMENT_ID__=lQ,t})();function lQ(t){return function dQ(t,e,n){if(bf(t)&&!n){const r=ar(t.index,e);return new Ol(r,r)}return 47&t.type?new Ol(e[16],e):null}(xt(),D(),16==(16&t))}class SP{constructor(){}supports(e){return Ll(e)}create(e){return new _Q(e)}}const mQ=(t,e)=>e;class _Q{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mQ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<xP(r,i,s)?n:r,a=xP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ll(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function zz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yQ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new AP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yQ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class AP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vQ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function kP(){return new Ap([new SP])}let Ap=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||kP()),deps:[[t,new Il,new Ce]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new $(901,!1)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:kP}),t})();const bQ=gP(null,"core",[]);let TQ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(V(bp))},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({}),t})();function $u(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let xp=null;function $s(){return xp}const Nn=new z("DocumentToken");let e1=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return function xQ(){return V(NP)}()},providedIn:"platform"}),t})();const RQ=new z("Location Initialized");let NP=(()=>{class t extends e1{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $s().getBaseHref(this._doc)}onPopState(n){const r=$s().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$s().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){PP()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){PP()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(V(Nn))},t.\u0275prov=K({token:t,factory:function(){return function kQ(){return new NP(V(Nn))}()},providedIn:"platform"}),t})();function PP(){return!!window.history.pushState}function t1(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function OP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function qi(t){return t&&"?"!==t[0]?"?"+t:t}let Ko=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return lt(LP)},providedIn:"root"}),t})();const FP=new z("appBaseHref");let LP=(()=>{class t extends Ko{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??lt(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return t1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+qi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+qi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(e1),V(FP,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MQ=(()=>{class t extends Ko{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=t1(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(V(e1),V(FP,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),n1=(()=>{class t{constructor(n){this._subject=new Cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=OP(UP(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qi(r))}normalize(n){return t.stripTrailingSlash(function PQ(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,UP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=qi,t.joinWithSlash=t1,t.stripTrailingSlash=OP,t.\u0275fac=function(n){return new(n||t)(V(Ko))},t.\u0275prov=K({token:t,factory:function(){return function NQ(){return new n1(V(Ko))}()},providedIn:"root"}),t})();function UP(t){return t.replace(/\/index.html$/,"")}const VP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Wn=(()=>((Wn=Wn||{})[Wn.Decimal=0]="Decimal",Wn[Wn.Percent=1]="Percent",Wn[Wn.Currency=2]="Currency",Wn[Wn.Scientific=3]="Scientific",Wn))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function Tr(t,e){const n=kn(t),r=n[F.NumberSymbols][e];if(typeof r>"u"){if(e===q.CurrencyDecimal)return n[F.NumberSymbols][q.Decimal];if(e===q.CurrencyGroup)return n[F.NumberSymbols][q.Group]}return r}const oY=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lY(t,e,n,r,i){const o=function c1(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const d=u.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function r1(t,e){return kn(t)[F.NumberFormats][e]}(e,Wn.Currency),Tr(e,q.MinusSign));return o.minFrac=function WQ(t){let e;const n=VP[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function u1(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function pY(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function fY(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const b=s.match(oY);if(null===b)throw new Error(`${s} is not a valid digit info`);const y=b[1],T=b[3],R=b[5];null!=y&&(l=l1(y)),null!=T&&(d=l1(T)),null!=R?h=l1(R):null!=T&&d>h&&(h=d)}!function gY(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let _=[];for(u=f.every(b=>!b);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?_=f.splice(p,f.length):(_=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Tr(n,r)),_.length&&(a+=Tr(n,i)+_.join("")),g&&(a+=Tr(n,q.Exponential)+"+"+g)}else a=Tr(n,q.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,q.CurrencyGroup,q.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function l1(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function qP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class vY{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let YP=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vY(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),JP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{JP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(H(jr),H(Gi),H(Ap))},t.\u0275dir=gn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function JP(t,e){t.context.$implicit=e.item}let ju=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new CY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){XP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){XP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(H(jr),H(Gi))},t.\u0275dir=gn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class CY{constructor(){this.$implicit=null,this.ngIf=null}}function XP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Fe(e)}'.`)}function zr(t,e){return new $(2100,!1)}let eO=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw zr();return n.toLowerCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=mn({name:"lowercase",type:t,pure:!0,standalone:!0}),t})(),nO=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function p1(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function GQ(t,e,n="en"){const r=function BQ(t){return kn(t)[F.Currencies]}(n)[t]||VP[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return lY(function g1(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw zr()}}}return t.\u0275fac=function(n){return new(n||t)(H(zi,16),H(oP,16))},t.\u0275pipe=mn({name:"currency",type:t,pure:!0,standalone:!0}),t})();let WY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({}),t})();const rO="browser";function iO(t){return t===rO}let YY=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new JY(V(Nn),window)}),t})();class JY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function XY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sO(this.window.history)||sO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sO(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class oO{}class m1 extends class ZY extends class AQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function SQ(t){xp||(xp=t)}(new m1)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function eJ(){return Jl=Jl||document.querySelector("base"),Jl?Jl.getAttribute("href"):null}();return null==n?null:function tJ(t){Vp=Vp||document.createElement("a"),Vp.setAttribute("href",t);const e=Vp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qP(document.cookie,e)}}let Vp,Jl=null;const aO=new z("TRANSITION_ID"),rJ=[{provide:Vs,useFactory:function nJ(t,e,n){return()=>{n.get(Ep).donePromise.then(()=>{const r=$s(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[aO,Nn,ht],multi:!0}];let sJ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Bp=new z("EventManagerPlugins");let $p=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(V(Bp),V(Re))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class uO{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$s().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let cO=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Xl=(()=>{class t extends cO{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(lO),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(lO))}}return t.\u0275fac=function(n){return new(n||t)(V(Nn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function lO(t){$s().remove(t)}const _1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},y1=/%COMP%/g;function jp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jp(t,i,n):(i=i.replace(y1,t),n.push(i))}return n}function fO(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let v1=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new w1(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case ai.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new dJ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case ai.ShadowDom:return new hJ(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=jp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(V($p),V(Xl),V(ql))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class w1{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(_1[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(gO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=_1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=_1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,fO(r)):this.eventManager.addEventListener(e,n,fO(r))}}function gO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class dJ extends w1{constructor(e,n,r,i){super(e),this.component=r;const s=jp(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function uJ(t){return"_ngcontent-%COMP%".replace(y1,t)}(i+"-"+r.id),this.hostAttr=function cJ(t){return"_nghost-%COMP%".replace(y1,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class hJ extends w1{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fJ=(()=>{class t extends uO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(V(Nn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const mO=["alt","control","meta","shift"],gJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mJ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _J=(()=>{class t extends uO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$s().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(mO.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function yJ(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_O.hasOwnProperty(e)&&(e=_O[e]))}return gJ[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mO.forEach(s=>{s!=i&&(0,mJ[s])(n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(V(Nn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const yO=[{provide:Wo,useValue:rO},{provide:iP,useValue:function vJ(){m1.makeCurrent()},multi:!0},{provide:Nn,useFactory:function CJ(){return function Fj(t){Jy=t}(document),document},deps:[]}],EJ=gP(bQ,"browser",yO),vO=new z(""),wO=[{provide:Ip,useClass:class iJ{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$s().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:dP,useClass:G0,deps:[Re,z0,Ip]},{provide:G0,useClass:G0,deps:[Re,z0,Ip]}],CO=[{provide:av,useValue:"root"},{provide:mu,useFactory:function wJ(){return new mu},deps:[]},{provide:Bp,useClass:fJ,multi:!0,deps:[Nn,Re,Wo]},{provide:Bp,useClass:_J,multi:!0,deps:[Nn]},{provide:v1,useClass:v1,deps:[$p,Xl,ql]},{provide:fk,useExisting:v1},{provide:cO,useExisting:Xl},{provide:Xl,useClass:Xl,deps:[Nn]},{provide:$p,useClass:$p,deps:[Bp,Re]},{provide:oO,useClass:sJ,deps:[]},[]];let IJ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ql,useValue:n.appId},{provide:aO,useExisting:ql},rJ]}}}return t.\u0275fac=function(n){return new(n||t)(V(vO,12))},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[...CO,...wO],imports:[WY,TQ]}),t})(),EO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(V(Nn))},t.\u0275prov=K({token:t,factory:function(n){let r=null;return r=n?new n:function TJ(){return new EO(V(Nn))}(),r},providedIn:"root"}),t})();function W(...t){return Xe(t,ol(t))}typeof window<"u"&&window;class Wr extends ii{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Hp=il(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:NJ}=Array,{getPrototypeOf:PJ,prototype:OJ,keys:FJ}=Object;const{isArray:VJ}=Array;function TO(...t){const e=ol(t),n=function QB(t){return Ue(cy(t))?t.pop():void 0}(t),{args:r,keys:i}=function LJ(t){if(1===t.length){const e=t[0];if(NJ(e))return{args:e,keys:null};if(function UJ(t){return t&&"object"==typeof t&&PJ(t)===OJ}(e)){const n=FJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Xe([],e);const s=new Ye(function HJ(t,e,n=Mo){return r=>{DO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)DO(e,()=>{const c=Xe(t[u],e);let l=!1;c.subscribe(Ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function jJ(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Mo));return n?s.pipe(function $J(t){return fe(e=>function BJ(t,e){return VJ(e)?t(...e):t(e)}(t,e))}(n)):s}function DO(t,e,n){t?Oi(n,t,e):e()}function I1(...t){return function GJ(){return Qa(1)}()(Xe(t,ol(t)))}function SO(t){return new Ye(e=>{si(t()).subscribe(e)})}function Zl(t,e){const n=Ue(t)?t:()=>t,r=i=>i.error(n());return new Ye(e?i=>e.schedule(r,0,i):r)}function b1(){return yt((t,e)=>{let n=null;t._refCount++;const r=Ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AO extends Ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nr;const n=this.getSubject();e.add(this.source.subscribe(Ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nr.EMPTY)}return e}refCount(){return b1()(this)}}function qr(t,e){return yt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;si(t(u,l)).subscribe(i=Ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ed(t){return t<=0?()=>oi:yt((e,n)=>{let r=0;e.subscribe(Ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qi(t,e){return yt((n,r)=>{let i=0;n.subscribe(Ut(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gp(t){return yt((e,n)=>{let r=!1;e.subscribe(Ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xO(t=WJ){return yt((e,n)=>{let r=!1;e.subscribe(Ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WJ(){return new Hp}function _i(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qi((i,s)=>t(i,s,r)):Mo,ed(1),n?Gp(e):xO(()=>new Hp))}function Hs(t,e){return Ue(e)?Je(t,e,1):Je(t,1)}function tn(t,e,n){const r=Ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Mo}function Yi(t){return yt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ut(n,void 0,void 0,o=>{s=si(t(o,Yi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function RO(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ut(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function kO(t,e){return yt(RO(t,e,arguments.length>=2,!0))}function T1(t){return t<=0?()=>oi:yt((e,n)=>{let r=[];e.subscribe(Ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function MO(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qi((i,s)=>t(i,s,r)):Mo,T1(1),n?Gp(e):xO(()=>new Hp))}function D1(t){return yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const le="primary";class QJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Hu(t){return new QJ(t)}function YJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!NO(t[i],e[i]))return!1;return!0}function NO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function PO(t){return Array.prototype.concat.apply([],t)}function OO(t){return t.length>0?t[t.length-1]:null}function nn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ji(t){return XM(t)?t:lp(t)?Xe(Promise.resolve(t)):W(t)}const ZJ={exact:function UO(t,e,n){if(!Yo(t.segments,e.segments)||!zp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UO(t.children[r],e.children[r],n))return!1;return!0},subset:VO},FO={exact:function eX(t,e){return yi(t,e)},subset:function tX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NO(t[n],e[n]))},ignored:()=>!0};function LO(t,e,n){return ZJ[n.paths](t.root,e.root,n.matrixParams)&&FO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function VO(t,e,n){return BO(t,e,e.segments,n)}function BO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Yo(i,n)||e.hasChildren()||!zp(i,n,r))}if(t.segments.length===n.length){if(!Yo(t.segments,n)||!zp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!VO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Yo(t.segments,i)&&zp(t.segments,i,r)&&t.children[le])&&BO(t.children[le],e,s,r)}}function zp(t,e,n){return e.every((r,i)=>FO[n](t[i].parameters,r.parameters))}class Qo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return iX.serialize(this)}}class ge{constructor(e,n){this.segments=e,this.children=n,this.parent=null,nn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wp(this)}}class td{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Hu(this.parameters)),this._parameterMap}toString(){return GO(this)}}function Yo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let $O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return new A1},providedIn:"root"}),t})();class A1{parse(e){const n=new fX(e);return new Qo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nd(e.root,!0)}`,r=function aX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${qp(n)}=${qp(i)}`).join("&"):`${qp(n)}=${qp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function sX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const iX=new A1;function Wp(t){return t.segments.map(e=>GO(e)).join("/")}function nd(t,e){if(!t.hasChildren())return Wp(t);if(e){const n=t.children[le]?nd(t.children[le],!1):"",r=[];return nn(t.children,(i,s)=>{s!==le&&r.push(`${s}:${nd(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rX(t,e){let n=[];return nn(t.children,(r,i)=>{i===le&&(n=n.concat(e(r,i)))}),nn(t.children,(r,i)=>{i!==le&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===le?[nd(t.children[le],!1)]:[`${i}:${nd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[le]?`${Wp(t)}/${n[0]}`:`${Wp(t)}/(${n.join("//")})`}}function jO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qp(t){return jO(t).replace(/%3B/gi,";")}function x1(t){return jO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kp(t){return decodeURIComponent(t)}function HO(t){return Kp(t.replace(/\+/g,"%20"))}function GO(t){return`${x1(t.path)}${function oX(t){return Object.keys(t).map(e=>`;${x1(e)}=${x1(t[e])}`).join("")}(t.parameters)}`}const uX=/^[^\/()?;=#]+/;function Qp(t){const e=t.match(uX);return e?e[0]:""}const cX=/^[^=?&#]+/,dX=/^[^&#]+/;class fX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[le]=new ge(e,n)),r}parseSegment(){const e=Qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new td(Kp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Qp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Qp(this.remaining);i&&(r=i,this.capture(r))}e[Kp(n)]=Kp(r)}parseQueryParam(e){const n=function lX(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function hX(t){const e=t.match(dX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=HO(n),s=HO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[le]:new ge([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}}function R1(t){return t.segments.length>0?new ge([],{[le]:t}):t}function Yp(t){const e={};for(const r of Object.keys(t.children)){const s=Yp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pX(t){if(1===t.numberOfChildren&&t.children[le]){const e=t.children[le];return new ge(t.segments.concat(e.segments),e.children)}return t}(new ge(t.segments,e))}function Jo(t){return t instanceof Qo}function _X(t,e,n,r,i){if(0===n.length)return Gu(e.root,e.root,e.root,r,i);const s=function qO(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new WO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return nn(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new WO(n,e,r)}(n);return s.toRoot()?Gu(e.root,e.root,new ge([],{}),r,i):function o(u){const c=function vX(t,e,n,r){if(t.isAbsolute)return new zu(e.root,!0,0);if(-1===r)return new zu(n,n===e.root,0);return function KO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new zu(r,!1,i-s)}(n,r+(rd(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?sd(c.segmentGroup,c.index,s.commands):M1(c.segmentGroup,c.index,s.commands);return Gu(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function rd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function id(t){return"object"==typeof t&&null!=t&&t.outlets}function Gu(t,e,n,r,i){let o,s={};r&&nn(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:zO(t,e,n);const a=R1(Yp(o));return new Qo(a,s,i)}function zO(t,e,n){const r={};return nn(t.children,(i,s)=>{r[s]=i===e?n:zO(i,e,n)}),new ge(t.segments,r)}class WO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rd(r[0]))throw new $(4003,!1);const i=r.find(id);if(i&&i!==OO(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function M1(t,e,n){if(t||(t=new ge([],{})),0===t.segments.length&&t.hasChildren())return sd(t,e,n);const r=function CX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(id(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!YO(u,c,o))return s;r+=2}else{if(!YO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ge(t.segments.slice(0,r.pathIndex),{});return s.children[le]=new ge(t.segments.slice(r.pathIndex),t.children),sd(s,0,i)}return r.match&&0===i.length?new ge(t.segments,{}):r.match&&!t.hasChildren()?N1(t,e,n):r.match?sd(t,0,i):N1(t,e,n)}function sd(t,e,n){if(0===n.length)return new ge(t.segments,{});{const r=function wX(t){return id(t[0])?t[0].outlets:{[le]:t}}(n),i={};return nn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=M1(t.children[o],e,s))}),nn(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(t.segments,i)}}function N1(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(id(s)){const u=EX(s.outlets);return new ge(r,u)}if(0===i&&rd(n[0])){r.push(new td(t.segments[e].path,QO(n[0]))),i++;continue}const o=id(s)?s.outlets[le]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rd(a)?(r.push(new td(o,QO(a))),i+=2):(r.push(new td(o,{})),i++)}return new ge(r,{})}function EX(t){const e={};return nn(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=N1(new ge([],{}),0,n))}),e}function QO(t){const e={};return nn(t,(n,r)=>e[r]=`${n}`),e}function YO(t,e,n){return t==n.path&&yi(e,n.parameters)}class Xi{constructor(e,n){this.id=e,this.url=n}}class P1 extends Xi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gs extends Xi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jp extends Xi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JO extends Xi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IX extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TX extends Xi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DX extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ZO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=O1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=O1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=F1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return F1(e,this._root).map(n=>n.value)}}function O1(t,e){if(t===e.value)return e;for(const n of e.children){const r=O1(t,n);if(r)return r}return null}function F1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=F1(t,n);if(r.length)return r.unshift(e),r}return[]}class Zi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class eF extends ZO{constructor(e,n){super(e),this.snapshot=n,L1(this,e)}toString(){return this.snapshot.toString()}}function tF(t,e){const n=function OX(t,e){const o=new Xp([],{},{},"",{},le,e,null,t.root,-1,{});return new rF("",new Zi(o,[]))}(t,e),r=new Wr([new td("",{})]),i=new Wr({}),s=new Wr({}),o=new Wr({}),a=new Wr(""),u=new qu(r,i,o,a,s,le,e,n.root);return u.snapshot=n.root,new eF(new Zi(u,[]),n)}class qu{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>Hu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>Hu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function FX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Xp{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rF extends ZO{constructor(e,n){super(n),this.url=e,L1(this,n)}toString(){return iF(this._root)}}function L1(t,e){e.value._routerState=t,e.children.forEach(n=>L1(t,n))}function iF(t){const e=t.children.length>0?` { ${t.children.map(iF).join(", ")} } `:"";return`${t.value}${e}`}function U1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yi(e.params,n.params)||t.params.next(n.params),function JJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function V1(t,e){const n=yi(t.params,e.params)&&function nX(t,e){return Yo(t,e)&&t.every((n,r)=>yi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||V1(t.parent,e.parent))}function od(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function UX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return od(t,r,i);return od(t,r)})}(t,e,n);return new Zi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>od(t,a)),o}}const r=function VX(t){return new qu(new Wr(t.url),new Wr(t.params),new Wr(t.queryParams),new Wr(t.fragment),new Wr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>od(t,s));return new Zi(r,i)}}const B1="ngNavigationCancelingError";function sF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function oF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[B1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function aF(t){return uF(t)&&Jo(t.url)}function uF(t){return t&&t[B1]}class BX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ad,this.attachRef=null}}let ad=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new BX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zp=!1;let $1=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.name=i||le,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,Zp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,Zp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,Zp);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,Zp);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $X(n,a,i.injector);if(r&&function jX(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(H(ad),H(jr),function ml(t){return function ij(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(mR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(xt(),t)}("name"),H(Q0),H(Ps))},t.\u0275dir=gn({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class $X{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qu?this.route:e===ad?this.childContexts:this.parent.get(e,n)}}let cF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&G(0,"router-outlet")},dependencies:[$1],encapsulation:2}),t})();function lF(t,e){return t.providers&&!t._injector&&(t._injector=mp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function H1(t){const e=t.children&&t.children.map(H1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=cF),n}function Sr(t){return t.outlet||le}function dF(t,e){const n=t.filter(r=>Sr(r)===e);return n.push(...t.filter(r=>Sr(r)!==e)),n}function hF(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class qX{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),U1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Wu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),nn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Wu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Wu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new NX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(U1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),U1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=hF(i.snapshot),u=a?.get(xl)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class fF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class eg{constructor(e,n){this.component=e,this.route=n}}function KX(t,e,n){const r=t._root;return ud(r,e?e._root:null,n,[r.value])}function tg(t,e,n){return(hF(e)??n).get(t)}function ud(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wu(e);return t.children.forEach(o=>{(function YX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function JX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(t.url,e.url)||!yi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!V1(t,e)||!yi(t.queryParams,e.queryParams);default:return!V1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ud(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new eg(a.outlet.component,o))}else o&&cd(e,a,i),i.canActivateChecks.push(new fF(r)),ud(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),nn(s,(o,a)=>cd(o,n.getContext(a),i)),i}function cd(t,e,n){const r=Wu(t),i=t.value;nn(r,(s,o)=>{cd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new eg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ld(t){return"function"==typeof t}function G1(t){return t instanceof Hp||"EmptyError"===t?.name}const ng=Symbol("INITIAL_VALUE");function Ku(){return qr(t=>TO(t.map(e=>e.pipe(ed(1),function zJ(...t){const e=ol(t);return yt((n,r)=>{(e?I1(t,n,e):I1(t,n)).subscribe(r)})}(ng)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===ng)return ng;if(!1===n||n instanceof Qo)return n}return!0}),Qi(e=>e!==ng),ed(1)))}function pF(t){return function xB(...t){return bx(t)}(tn(e=>{if(Jo(e))throw sF(0,e)}),fe(e=>!0===e))}const z1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gF(t,e,n,r,i){const s=W1(t,e,n);return s.matched?function pZ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=t.get(o),u=function rZ(t){return t&&ld(t.canMatch)}(a)?a.canMatch(e,n):a(e,n);return Ji(u)})).pipe(Ku(),pF()):W(!0)}(r=lF(e,r),e,n).pipe(fe(o=>!0===o?s:{...z1})):W(s)}function W1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...z1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||YJ)(n,t,e);if(!i)return{...z1};const s={};nn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rg(t,e,n,r,i="corrected"){if(n.length>0&&function _Z(t,e,n){return n.some(r=>ig(t,e,r)&&Sr(r)!==le)}(t,n,r)){const o=new ge(e,function mZ(t,e,n,r){const i={};i[le]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Sr(s)!==le){const o=new ge([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Sr(s)]=o}return i}(t,e,r,new ge(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function yZ(t,e,n){return n.some(r=>ig(t,e,r))}(t,n,r)){const o=new ge(t.segments,function gZ(t,e,n,r,i,s){const o={};for(const a of r)if(ig(t,n,a)&&!i[Sr(a)]){const u=new ge([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Sr(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ge(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ig(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function mF(t,e,n,r){return!!(Sr(t)===r||r!==le&&ig(e,n,t))&&("**"===t.path||W1(e,t,n).matched)}function _F(t,e,n){return 0===e.length&&!t.children[n]}const sg=!1;class og{constructor(e){this.segmentGroup=e||null}}class yF{constructor(e){this.urlTree=e}}function dd(t){return Zl(new og(t))}function vF(t){return Zl(new yF(t))}class EZ{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=rg(this.urlTree.root,[],[],this.config).segmentGroup,n=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,le).pipe(fe(s=>this.createUrlTree(Yp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yi(s=>{if(s instanceof yF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof og?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,le).pipe(fe(i=>this.createUrlTree(Yp(i),e.queryParams,e.fragment))).pipe(Yi(i=>{throw i instanceof og?this.noMatchError(i):i}))}noMatchError(e){return new $(4002,sg)}createUrlTree(e,n,r){const i=R1(e);return new Qo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(fe(s=>new ge([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Xe(i).pipe(Hs(s=>{const o=r.children[s],a=dF(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(fe(u=>({segment:u,outlet:s})))}),kO((s,o)=>(s[o.outlet]=o.segment,s),{}),MO())}expandSegment(e,n,r,i,s,o){return Xe(r).pipe(Hs(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Yi(c=>{if(c instanceof og)return W(null);throw c}))),_i(a=>!!a),Yi((a,u)=>{if(G1(a))return _F(n,i,s)?W(new ge([],{})):dd(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return mF(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):dd(n):dd(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vF(s):this.lineralizeSegments(r,s).pipe(Je(o=>{const a=new ge(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=W1(n,i,s);if(!a)return dd(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?vF(d):this.lineralizeSegments(i,d).pipe(Je(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=lF(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(fe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):W(new ge(i,{}))):gF(n,r,i,e).pipe(qr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Je(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=rg(n,a,u,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(fe(y=>new ge(a,y)));if(0===h.length&&0===p.length)return W(new ge(a,{}));const _=Sr(r)===s;return this.expandSegment(d,g,h,p,_?le:s,!0).pipe(fe(b=>new ge(a.concat(b.segments),b.children)))})):dd(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function fZ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=t.get(o),u=function ZX(t){return t&&ld(t.canLoad)}(a)?a.canLoad(e,n):a(e,n);return Ji(u)})).pipe(Ku(),pF())}(e,n,r).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(tn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function wZ(t){return Zl(oF(sg,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[le])return Zl(new $(4e3,sg));i=i.children[le]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Qo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return nn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return nn(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new $(4001,sg);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class bZ{}class SZ{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=rg(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,le).pipe(fe(n=>{if(null===n)return null;const r=new Xp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zi(r,n),s=new rF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=nF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Xe(Object.keys(r.children)).pipe(Hs(i=>{const s=r.children[i],o=dF(n,i);return this.processSegmentGroup(e,o,s,i)}),kO((i,s)=>i&&s?(i.push(...s),i):null),function qJ(t,e=!1){return yt((n,r)=>{let i=0;n.subscribe(Ut(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Gp(null),MO(),fe(i=>{if(null===i)return null;const s=wF(i);return function AZ(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Xe(n).pipe(Hs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),_i(o=>!!o),Yi(o=>{if(G1(o))return _F(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!mF(n,r,i,s))return W(null);let o;if("**"===n.path){const a=i.length>0?OO(i).parameters:{},u=EF(r)+i.length;o=W({snapshot:new Xp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bF(n),Sr(n),n.component??n._loadedComponent??null,n,CF(r),u,TF(n),u),consumedSegments:[],remainingSegments:[]})}else o=gF(r,n,i,e).pipe(fe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=EF(r)+u.length;return{snapshot:new Xp(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bF(n),Sr(n),n.component??n._loadedComponent??null,n,CF(r),d,TF(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(qr(a=>{if(null===a)return W(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function xZ(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=rg(r,c,l,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(fe(_=>null===_?null:[new Zi(u,_)]));if(0===h.length&&0===p.length)return W([new Zi(u,[])]);const g=Sr(n)===s;return this.processSegment(d,h,f,p,g?le:s).pipe(fe(_=>null===_?null:[new Zi(u,_)]))}))}}function RZ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wF(t){const e=[],n=new Set;for(const r of t){if(!RZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wF(r.children);e.push(new Zi(r.value,i))}return e.filter(r=>!n.has(r))}function CF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function EF(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function bF(t){return t.data||{}}function TF(t){return t.resolve||{}}const q1=Symbol("RouteTitle");function DF(t){return"string"==typeof t.title||null===t.title}function K1(t){return qr(e=>{const n=t(e);return n?Xe(n).pipe(fe(()=>e)):W(e)})}let SF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===le);return r}getResolvedTitleForRoute(n){return n.data[q1]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return lt(AF)},providedIn:"root"}),t})(),AF=(()=>{class t extends SF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(V(EO))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class UZ{}class BZ extends class VZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Q1=new z("",{providedIn:"root",factory:()=>({})}),Y1=new z("ROUTES");let J1=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ji(n.loadComponent()).pipe(tn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),D1(()=>{this.componentLoaders.delete(n)})),i=new AO(r,()=>new ii).pipe(b1());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=PO(u.get(Y1,[],Q.Self|Q.Optional)));return{routes:c.map(H1),injector:u}}),D1(()=>{this.childrenLoaders.delete(r)})),o=new AO(s,()=>new ii).pipe(b1());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ji(n()).pipe(Je(r=>r instanceof _2||Array.isArray(r)?W(r):Xe(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(V(ht),V(B0))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jZ{}class HZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function GZ(t){throw t}function zZ(t,e,n){return e.parse("/")}const WZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function RF(){const t=lt($O),e=lt(ad),n=lt(n1),r=lt(ht),i=lt(B0),s=lt(Y1,{optional:!0})??[],o=lt(Q1,{optional:!0})??{},a=lt(AF),u=lt(SF,{optional:!0}),c=lt(jZ,{optional:!0}),l=lt(UZ,{optional:!0}),d=new En(null,t,e,n,r,i,PO(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function KZ(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let En=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ii,this.errorHandler=GZ,this.malformedUriErrorHandler=zZ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new HZ,this.routeReuseStrategy=new BZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(J1),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new xX(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new AX(h)),this.ngModule=o.get(zo),this.console=o.get(GK);const d=o.get(Re);this.isNgZoneEnabled=d instanceof Re&&Re.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function XJ(){return new Qo(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tF(this.currentUrlTree,this.rootComponentType),this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Qi(i=>0!==i.id),fe(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qr(i=>{let s=!1,o=!1;return W(i).pipe(tn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return kF(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(qr(d=>{const h=this.transitions.getValue();return r.next(new P1(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?oi:Promise.resolve(d)}),function IZ(t,e,n,r){return qr(i=>function CZ(t,e,n,r,i){return new EZ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(fe(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function MZ(t,e,n,r,i,s){return Je(o=>function DZ(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new SZ(t,e,n,r,i,o,a,s).recognize().pipe(qr(u=>null===u?function TZ(t){return new Ye(e=>e.error(t))}(new bZ):W(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(fe(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),tn(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new IX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,v=new P1(h,this.serializeUrl(f),p,g);r.next(v);const b=tF(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:b,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),oi}),tn(a=>{const u=new bX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),fe(a=>i={...a,guards:KX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function sZ(t,e){return Je(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?W({...n,guardsResult:!0}):function oZ(t,e,n,r){return Xe(t).pipe(Je(i=>function hZ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const u=tg(a,e,i);return Ji(function nZ(t){return t&&ld(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):u(t,e,n,r)).pipe(_i())})).pipe(Ku()):W(!0)}(i.component,i.route,n,e,r)),_i(i=>!0!==i,!0))}(o,r,i,t).pipe(Je(a=>a&&function XX(t){return"boolean"==typeof t}(a)?function aZ(t,e,n,r){return Xe(e).pipe(Hs(i=>I1(function cZ(t,e){return null!==t&&e&&e(new RX(t)),W(!0)}(i.route.parent,r),function uZ(t,e){return null!==t&&e&&e(new MX(t)),W(!0)}(i.route,r),function dZ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function QX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>SO(()=>W(o.guards.map(u=>{const c=tg(u,o.node,n);return Ji(function tZ(t){return t&&ld(t.canActivateChild)}(c)?c.canActivateChild(r,t):c(r,t)).pipe(_i())})).pipe(Ku())));return W(s).pipe(Ku())}(t,i.path,n),function lZ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>SO(()=>{const o=tg(s,e,n);return Ji(function eZ(t){return t&&ld(t.canActivate)}(o)?o.canActivate(e,t):o(e,t)).pipe(_i())}));return W(i).pipe(Ku())}(t,i.route,n))),_i(i=>!0!==i,!0))}(r,s,t,e):W(a)),fe(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),tn(a=>{if(i.guardsResult=a.guardsResult,Jo(a.guardsResult))throw sF(0,a.guardsResult);const u=new TX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Qi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),K1(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(tn(u=>{const c=new DX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),qr(u=>{let c=!1;return W(u).pipe(function NZ(t,e){return Je(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=0;return Xe(i).pipe(Hs(o=>function PZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!DF(i)&&(s[q1]=i.title),function OZ(t,e,n,r){const i=function FZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return W({});const s={};return Xe(i).pipe(Je(o=>function LZ(t,e,n,r){const i=tg(t,e,r);return Ji(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(_i(),tn(a=>{s[o]=a}))),T1(1),function KJ(t){return fe(()=>t)}(s),Yi(o=>G1(o)?oi:Zl(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=nF(t,n).resolve,i&&DF(i)&&(t.data[q1]=i.title),null)))}(o.route,r,t,e)),tn(()=>s++),T1(1),Je(o=>s===i.length?W(n):oi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),tn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),tn(u=>{const c=new SX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),K1(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(tn(d=>{c.component=d}),fe(()=>{})));for(const d of c.children)l.push(...u(d));return l};return TO(u(a.targetSnapshot.root)).pipe(Gp(),ed(1))}),K1(()=>this.afterPreactivation()),fe(a=>{const u=function LX(t,e,n){const r=od(t,e._root,n?n._root:void 0);return new eF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),tn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>fe(r=>(new qX(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),tn({next(){s=!0},complete(){s=!0}}),D1(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Yi(a=>{if(o=!0,uF(a)){aF(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Jp(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),aF(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kF(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new JO(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return oi}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(H1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),_X(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Jo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function QZ(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new $(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...WZ}:!1===r?{...qZ}:r,Jo(n))return LO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return LO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Gs(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Jp(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Lv()},t.\u0275prov=K({token:t,factory:function(){return RF()},providedIn:"root"}),t})();function kF(t){return"imperative"!==t}let zs=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ii,this.subscription=n.events.subscribe(s=>{s instanceof Gs&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:$u(this.skipLocationChange),replaceUrl:$u(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$u(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(H(En),H(qu),H(Ko))},t.\u0275dir=gn({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Us("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&l0("target",r.target)("href",r.href,dt)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vo]}),t})();class MF{}let NF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(n=>n instanceof Gs),Hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=mp(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Xe(i).pipe(Qa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const s=i.pipe(Je(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Xe([s,this.loader.loadComponent(r)]).pipe(Qa()):s})}}return t.\u0275fac=function(n){return new(n||t)(V(En),V(B0),V(Ps),V(MF),V(J1))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const PF=new z("");let XZ=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof P1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof XO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new XO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Lv()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const OF=new z("ROUTER_FORROOT_GUARD"),FF=new z(""),ZZ=[n1,{provide:$O,useClass:A1},{provide:En,useFactory:RF},ad,{provide:qu,useFactory:function eee(t){return t.routerState.root},deps:[En]},J1];function tee(){return new fP("Router",En)}let LF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[ZZ,[],UF(n),{provide:OF,useFactory:see,deps:[[En,new Ce,new Il]]},{provide:Q1,useValue:r||{}},r?.useHash?{provide:Ko,useClass:MQ}:{provide:Ko,useClass:LP},{provide:PF,useFactory:()=>{const t=lt(En),e=lt(YY),n=lt(Q1);return n.scrollOffset&&e.setOffset(n.scrollOffset),new XZ(t,e,n)}},r?.preloadingStrategy?hee(r.preloadingStrategy):[],{provide:fP,multi:!0,useFactory:tee},r?.initialNavigation?aee(r):[],[{provide:VF,useFactory:oee},{provide:sP,multi:!0,useExisting:VF}]]}}static forChild(n){return{ngModule:t,providers:[UF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(V(OF,8))},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({}),t})();function see(t){return"guarded"}function UF(t){return[{provide:Y1,multi:!0,useValue:t}]}function oee(){const t=lt(ht);return e=>{const n=t.get(bp);if(e!==n.components[0])return;const r=t.get(En),i=t.get(BF);1===t.get(Z1)&&r.initialNavigation(),t.get(FF,null,Q.Optional)?.setUpPreloading(),t.get(PF,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const VF=new z("");function aee(t){return["disabled"===t.initialNavigation?[{provide:Vs,multi:!0,useFactory:()=>{const t=lt(En);return()=>{t.setUpLocationChangeListener()}}},{provide:Z1,useValue:2}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Z1,useValue:0},{provide:Vs,multi:!0,deps:[ht],useFactory:t=>{const e=t.get(RQ,Promise.resolve(null));let n=!1;return()=>e.then(()=>new Promise(i=>{const s=t.get(En),o=t.get(BF);(function r(i){t.get(En).events.pipe(Qi(o=>o instanceof Gs||o instanceof Jp||o instanceof JO),fe(o=>o instanceof Gs||o instanceof Jp&&(0===o.code||1===o.code)&&null),Qi(o=>null!==o),ed(1)).subscribe(()=>{i()})})(()=>{i(!0),n=!0}),s.afterPreactivation=()=>(i(!0),n||o.closed?W(void 0):o),s.initialNavigation()}))}}]:[]]}const BF=new z("",{factory:()=>new ii}),Z1=new z("",{providedIn:"root",factory:()=>1});function hee(t){return[NF,{provide:FF,useExisting:NF},{provide:MF,useExisting:t}]}let fee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-cart"]],decls:2,vars:0,template:function(n,r){1&n&&(E(0,"p"),x(1,"cart works!"),I())}}),t})();function $F(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){$F(s,r,i,o,a,"next",u)}function a(u){$F(s,r,i,o,a,"throw",u)}o(void 0)})}}const N=function(t,e){if(!t)throw Qu(e)},Qu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},jF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},HF=function(t){const e=jF(t);return cg.encodeByteArray(e,!0)},lg=function(t){return HF(t).replace(/\./g,"")},tw=function(t){try{return cg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gee(t){return GF(void 0,t)}function GF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mee(n)||(t[n]=GF(t[n],e[n]));return t}function mee(t){return"__proto__"!==t}class Yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function hg(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nw(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zF(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qs(){return"object"==typeof indexedDB}function Ju(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function fg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Cee(t,e){return t.replace(Eee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new dr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Eee=/\{\$([^}]+)}/g;function hd(t){return JSON.parse(t)}function rn(t){return JSON.stringify(t)}const pg=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=hd(tw(s[0])||""),n=hd(tw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(WF(s)&&WF(o)){if(!mg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WF(t){return null!==t&&"object"==typeof t}function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Tee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class See{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Aee(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=iw),void 0===i.error&&(i.error=iw),void 0===i.complete&&(i.complete=iw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iw(){}const yg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function sw(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function It(t){return t&&t._delegate?t._delegate:t}class bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xo="[DEFAULT]";class Oee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Lee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Xo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Uee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ow=[];var ye=(()=>{return(t=ye||(ye={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ye;var t})();const qF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Vee=ye.INFO,Bee={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},$ee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Bee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ks{constructor(e){this.name=e,this._logLevel=Vee,this._logHandler=$ee,this._userLogHandler=null,ow.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}let KF,QF;const YF=new WeakMap,aw=new WeakMap,JF=new WeakMap,uw=new WeakMap,cw=new WeakMap;let lw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return aw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qee(t){return"function"==typeof t?function Kee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gee(){return QF||(QF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(dw(this),e),ns(YF.get(this))}:function(...e){return ns(t.apply(dw(this),e))}:function(e,...n){const r=t.call(dw(this),e,...n);return JF.set(r,e.sort?e.sort():[e]),ns(r)}}(t):(t instanceof IDBTransaction&&function Wee(t){if(aw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});aw.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Hee(){return KF||(KF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,lw):t)}function ns(t){if(t instanceof IDBRequest)return function zee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YF.set(n,t)}).catch(()=>{}),cw.set(e,t),e}(t);if(uw.has(t))return uw.get(t);const e=Qee(t);return e!==t&&(uw.set(t,e),cw.set(e,t)),e}const dw=t=>cw.get(t);function vg(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ns(o.result),u.oldVersion,u.newVersion,ns(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function hw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ns(n).then(()=>{})}const Yee=["get","getKey","getAll","getAllKeys","count"],Jee=["put","add","delete","clear"],fw=new Map;function XF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fw.get(e))return fw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return fw.set(e,s),s}!function qee(t){lw=t(lw)}(t=>({...t,get:(e,n,r)=>XF(e,n)||t.get(e,n,r),has:(e,n)=>!!XF(e,n)||t.has(e,n)}));class Xee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Zee(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const pw="@firebase/app",Zo=new Ks("@firebase/app"),gw="[DEFAULT]",Tte={[pw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ea=new Map,wg=new Map;function Dte(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nt(t){const e=t.name;if(wg.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of ea.values())Dte(n,t);return!0}function Ar(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Qs=new Kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ate{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const Ys="9.9.3";function xte(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:gw,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Qs.create("bad-app-name",{appName:String(r)});const i=ea.get(r);if(i){if(mg(t,i.options)&&mg(n,i.config))return i;throw Qs.create("duplicate-app",{appName:r})}const s=new Uee(r);for(const a of wg.values())s.addComponent(a);const o=new Ate(t,n,s);return ea.set(r,o),o}function rs(t=gw){const e=ea.get(t);if(!e)throw Qs.create("no-app",{appName:t});return e}function e3(){return Array.from(ea.values())}function ve(t,e,n){var r;let i=null!==(r=Tte[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Zo.warn(a.join(" "))}Nt(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const pd="firebase-heartbeat-store";let _w=null;function t3(){return _w||(_w=vg("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pd)}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),_w}function yw(){return(yw=m(function*(t){var e;try{return(yield t3()).transaction(pd).objectStore(pd).get(r3(t))}catch(n){if(n instanceof dr)Zo.warn(n.message);else{const r=Qs.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});Zo.warn(r.message)}}})).apply(this,arguments)}function n3(t,e){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(t,e){var n;try{const i=(yield t3()).transaction(pd,"readwrite");return yield i.objectStore(pd).put(e,r3(t)),i.done}catch(r){if(r instanceof dr)Zo.warn(r.message);else{const i=Qs.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});Zo.warn(i.message)}}})).apply(this,arguments)}function r3(t){return`${t.name}!${t.options.appId}`}class Ote{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=i3();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=i3(),{heartbeatsToSend:r,unsentEntries:i}=function Fte(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=lg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function i3(){return(new Date).toISOString().substring(0,10)}class Lte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!qs()&&Ju().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Mte(t){return yw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return n3(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return n3(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function s3(t){return lg(JSON.stringify({version:2,heartbeats:t})).length}!function Ute(t){Nt(new bt("platform-logger",e=>new Xee(e),"PRIVATE")),Nt(new bt("heartbeat",e=>new Ote(e),"PRIVATE")),ve(pw,"0.7.31",t),ve(pw,"0.7.31","esm2017"),ve("fire-js","")}("");var B,Vte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},ww=ww||{},te=Vte||self;function Cg(){}function Cw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ew="closure_uid_"+(1e9*Math.random()>>>0),$te=0;function jte(t,e,n){return t.call.apply(t.bind,arguments)}function Hte(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sn(t,e,n){return(sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jte:Hte).apply(null,arguments)}function Eg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function on(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Js(){this.s=this.s,this.o=this.o}var zte={};Js.prototype.s=!1,Js.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function Bte(t){return Object.prototype.hasOwnProperty.call(t,Ew)&&t[Ew]||(t[Ew]=++$te)}(this);delete zte[t]}},Js.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},a3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function u3(t){return Array.prototype.concat.apply([],arguments)}function Iw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ig(t){return/^[\s\xa0]*$/.test(t)}var On,c3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pn(t,e){return-1!=t.indexOf(e)}function bw(t,e){return t<e?-1:t>e?1:0}e:{var l3=te.navigator;if(l3){var d3=l3.userAgent;if(d3){On=d3;break e}}On=""}function Tw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function h3(t){const e={};for(const n in t)e[n]=t[n];return e}var f3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p3(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<f3.length;s++)n=f3[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dw(t){return Dw[" "](t),t}Dw[" "]=Cg;var bg,t,Kte=Pn(On,"Opera"),Zu=Pn(On,"Trident")||Pn(On,"MSIE"),g3=Pn(On,"Edge"),Sw=g3||Zu,m3=Pn(On,"Gecko")&&!(Pn(On.toLowerCase(),"webkit")&&!Pn(On,"Edge"))&&!(Pn(On,"Trident")||Pn(On,"MSIE"))&&!Pn(On,"Edge"),Qte=Pn(On.toLowerCase(),"webkit")&&!Pn(On,"Edge");function _3(){var t=te.document;return t?t.documentMode:void 0}e:{var Aw="",xw=(t=On,m3?/rv:([^\);]+)(\)|;)/.exec(t):g3?/Edge\/([\d\.]+)/.exec(t):Zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qte?/WebKit\/(\S+)/.exec(t):Kte?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(xw&&(Aw=xw?xw[1]:""),Zu){var Rw=_3();if(null!=Rw&&Rw>parseFloat(Aw)){bg=String(Rw);break e}}bg=Aw}var Yte={};var Xte=te.document&&Zu&&(_3()||parseInt(bg,10))||void 0,Zte=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Cg,e),te.removeEventListener("test",Cg,e)}catch{}return t}();function In(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function md(t,e){if(In.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(m3){e:{try{Dw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ene[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&md.Z.h.call(this)}}In.prototype.h=function(){this.defaultPrevented=!0},on(md,In);var ene={2:"touch",3:"pen",4:"mouse"};md.prototype.h=function(){md.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _d="closure_listenable_"+(1e6*Math.random()|0),tne=0;function nne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++tne,this.ca=this.fa=!1}function Tg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Dg(t){this.src=t,this.g={},this.h=0}function Mw(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=o3(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Nw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Dg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Nw(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new nne(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Pw="closure_lm_"+(1e6*Math.random()|0),Ow={};function v3(t,e,n,r,i){if(r&&r.once)return C3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)v3(t,e[s],n,r,i);return null}return n=Vw(n),t&&t[_d]?t.N(e,n,gd(r)?!!r.capture:!!r,i):w3(t,e,n,!1,r,i)}function w3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gd(i)?!!i.capture:!!i,a=Lw(t);if(a||(t[Pw]=a=new Dg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function rne(){var e=ine;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zte||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(I3(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function C3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)C3(t,e[s],n,r,i);return null}return n=Vw(n),t&&t[_d]?t.O(e,n,gd(r)?!!r.capture:!!r,i):w3(t,e,n,!0,r,i)}function E3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)E3(t,e[s],n,r,i);else r=gd(r)?!!r.capture:!!r,n=Vw(n),t&&t[_d]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Nw(s=t.g[e],n,r,i))&&(Tg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Lw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nw(e,n,r,i)),(n=-1<t?e[t]:null)&&Fw(n))}function Fw(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_d])Mw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(I3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Lw(e))?(Mw(n,t),0==n.h&&(n.src=null,e[Pw]=null)):Tg(t)}}}function I3(t){return t in Ow?Ow[t]:Ow[t]="on"+t}function ine(t,e){if(t.ca)t=!0;else{e=new md(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Fw(t),t=n.call(r,e)}return t}function Lw(t){return(t=t[Pw])instanceof Dg?t:null}var Uw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vw(t){return"function"==typeof t?t:(t[Uw]||(t[Uw]=function(e){return t.handleEvent(e)}),t[Uw])}function jt(){Js.call(this),this.i=new Dg(this),this.P=this,this.I=null}function an(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new In(e,t);else if(e instanceof In)e.target=e.target||t;else{var i=e;p3(e=new In(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Sg(o,r,!0,e)&&i}if(i=Sg(o=e.g=t,r,!0,e)&&i,i=Sg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Sg(o=e.g=n[s],r,!1,e)&&i}function Sg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Mw(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}on(jt,Js),jt.prototype[_d]=!0,jt.prototype.removeEventListener=function(t,e,n,r){E3(this,t,e,n,r)},jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tg(n[r]);delete t.g[e],t.h--}}this.I=null},jt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Bw=te.JSON.stringify;function sne(){var t=T3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jw,b3=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ane,t=>t.reset());class ane{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function une(t){te.setTimeout(()=>{throw t},0)}function $w(t,e){jw||function cne(){var t=te.Promise.resolve(void 0);jw=function(){t.then(lne)}}(),Hw||(jw(),Hw=!0),T3.add(t,e)}var Hw=!1,T3=new class one{constructor(){this.h=this.g=null}add(e,n){const r=b3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function lne(){for(var t;t=sne();){try{t.h.call(t.g)}catch(n){une(n)}var e=b3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hw=!1}function Ag(t,e){jt.call(this),this.h=t||1,this.g=e||te,this.j=sn(this.kb,this),this.l=Date.now()}function Gw(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function zw(t,e,n){if("function"==typeof t)n&&(t=sn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=sn(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function D3(t){t.g=zw(()=>{t.g=null,t.i&&(t.i=!1,D3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}on(Ag,jt),(B=Ag.prototype).da=!1,B.S=null,B.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(Gw(this),this.start()))}},B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){Ag.Z.M.call(this),Gw(this),delete this.g};class dne extends Js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D3(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yd(t){Js.call(this),this.h=t,this.g={}}on(yd,Js);var S3=[];function A3(t,e,n,r){Array.isArray(n)||(n&&(S3[0]=n.toString()),n=S3);for(var i=0;i<n.length;i++){var s=v3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function x3(t){Tw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fw(e)},t),t.g={}}function xg(){this.g=!0}function ec(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Bw(n)}catch{return e}}(t,n)+(r?" "+r:"")})}yd.prototype.M=function(){yd.Z.M.call(this),x3(this)},yd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xg.prototype.Aa=function(){this.g=!1},xg.prototype.info=function(){};var ta={},R3=null;function Rg(){return R3=R3||new jt}function k3(t){In.call(this,ta.Ma,t)}function vd(t){const e=Rg();an(e,new k3(e,t))}function M3(t,e){In.call(this,ta.STAT_EVENT,t),this.stat=e}function Fn(t){const e=Rg();an(e,new M3(e,t))}function N3(t,e){In.call(this,ta.Na,t),this.size=e}function wd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}ta.Ma="serverreachability",on(k3,In),ta.STAT_EVENT="statevent",on(M3,In),ta.Na="timingevent",on(N3,In);var kg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},P3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ww(){}function F3(){}Ww.prototype.h=null;var Qw,Cd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qw(){In.call(this,"d")}function Kw(){In.call(this,"c")}function Mg(){}function Ed(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new yd(this),this.P=mne,this.W=new Ag(t=Sw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new L3}function L3(){this.i=null,this.g="",this.h=!1}on(qw,In),on(Kw,In),on(Mg,Ww),Mg.prototype.g=function(){return new XMLHttpRequest},Mg.prototype.i=function(){return{}},Qw=new Mg;var mne=45e3,Yw={},Ng={};function Jw(t,e,n){t.K=1,t.v=Ug(ss(e)),t.s=n,t.U=!0,U3(t,null)}function U3(t,e){t.F=Date.now(),Id(t),t.A=ss(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),q3(n.h,"t",r),t.C=0,n=t.l.H,t.h=new L3,t.g=mL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new dne(sn(t.Ia,t,t.g),t.O)),A3(t.V,t.g,"readystatechange",t.gb),e=t.H?h3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),vd(1),function hne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function V3(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function B3(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=_ne(t,n),i==Ng){4==e&&(t.o=4,Fn(14),r=!1),ec(t.j,t.m,null,"[Incomplete Response]");break}if(i==Yw){t.o=4,Fn(15),ec(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ec(t.j,t.m,i,null),Xw(t,i)}V3(t)&&i!=Ng&&i!=Yw&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cC(e),e.L=!0,Fn(11))):(ec(t.j,t.m,n,"[Invalid Chunked Response]"),na(t),bd(t))}function _ne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ng:(n=Number(e.substring(n,r)),isNaN(n)?Yw:(r+=1)+n>e.length?Ng:(e=e.substr(r,n),t.C=r+n,e))}function Id(t){t.Y=Date.now()+t.P,$3(t,t.P)}function $3(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wd(sn(t.eb,t),e)}function Pg(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function bd(t){0==t.l.G||t.I||hL(t.l,t)}function na(t){Pg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Gw(t.W),x3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xw(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||tC(n.i,t)))if(n.I=t.N,!t.J&&tC(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Gg(n),jg(n)}uC(n),Fn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wd(sn(n.ab,n),6e3));if(1>=Y3(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else sa(n,11)}else if((t.J||n.g==t)&&Gg(n),!Ig(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Pn(p,"spdy")||Pn(p,"quic")||Pn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(nC(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,qe(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=gL(r,r.H?r.la:null,r.W),o.J){J3(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Pg(a),Id(a)),r.g=o}else lL(r);0<n.l.length&&Hg(n)}else"stop"!=c[0]&&"close"!=c[0]||sa(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sa(n,7):oC(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}vd(4)}catch{}}function Zw(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cw(t)||"string"==typeof t)a3(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Cw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function yne(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Cw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function tc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof tc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function eC(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ra(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ra(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(B=Ed.prototype).setTimeout=function(t){this.P=t},B.gb=function(t){t=t.target;const e=this.L;e&&3==os(t)?e.l():this.Ia(t)},B.Ia=function(t){try{if(t==this.g)e:{const l=os(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||Sw||this.g&&(this.h.h||this.g.ga()||sL(this.g)))){this.I||4!=l||7==e||vd(8==e||0>=d?3:2),Pg(this);var n=this.g.ba();this.N=n;t:if(V3(this)){var r=sL(this.g);t="";var i=r.length,s=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){na(this),bd(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function fne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ig(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Fn(12),na(this),bd(this);break e}ec(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xw(this,n)}this.U?(B3(this,l,o),Sw&&this.i&&3==l&&(A3(this.V,this.W,"tick",this.fb),this.W.start())):(ec(this.j,this.m,o,null),Xw(this,o)),4==l&&na(this),this.i&&!this.I&&(4==l?hL(this.l,this):(this.i=!1,Id(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Fn(12)):(this.o=0,Fn(13)),na(this),bd(this)}}}catch{}},B.fb=function(){if(this.g){var t=os(this.g),e=this.g.ga();this.C<e.length&&(Pg(this),B3(this,t,e),this.i&&4!=t&&Id(this))}},B.cancel=function(){this.I=!0,na(this)},B.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function pne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vd(3),Fn(17)),na(this),this.o=2,bd(this)):$3(this,this.Y-t)},(B=tc.prototype).R=function(){eC(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},B.T=function(){return eC(this),this.g.concat()},B.get=function(t,e){return ra(this.h,t)?this.h[t]:e},B.set=function(t,e){ra(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},B.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var j3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ia(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ia){this.g=void 0!==e?e:t.g,Og(this,t.j),this.s=t.s,Fg(this,t.i),Lg(this,t.m),this.l=t.l,e=t.h;var n=new Sd;n.i=e.i,e.g&&(n.g=new tc(e.g),n.h=e.h),H3(this,n),this.o=t.o}else t&&(n=String(t).match(j3))?(this.g=!!e,Og(this,n[1]||"",!0),this.s=Td(n[2]||""),Fg(this,n[3]||"",!0),Lg(this,n[4]),this.l=Td(n[5]||"",!0),H3(this,n[6]||"",!0),this.o=Td(n[7]||"")):(this.g=!!e,this.h=new Sd(null,this.g))}function ss(t){return new ia(t)}function Og(t,e,n){t.j=n?Td(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fg(t,e,n){t.i=n?Td(e,!0):e}function Lg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function H3(t,e,n){e instanceof Sd?(t.h=e,function Sne(t,e){e&&!t.j&&(Xs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(z3(this,r),q3(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Dd(e,Tne)),t.h=new Sd(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function Ug(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Td(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ene),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ene(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ia.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dd(e,G3,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Dd(e,G3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dd(n,"/"==n.charAt(0)?bne:Ine,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dd(n,Dne)),t.join("")};var G3=/[#\/\?@]/g,Ine=/[#\?:]/g,bne=/[#\?]/g,Tne=/[#\?@]/g,Dne=/#/g;function Sd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xs(t){t.g||(t.g=new tc,t.h=0,t.i&&function vne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function z3(t,e){Xs(t),e=nc(t,e),ra(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ra((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&eC(t)))}function W3(t,e){return Xs(t),e=nc(t,e),ra(t.g.h,e)}function q3(t,e,n){z3(t,e),0<n.length&&(t.i=null,t.g.set(nc(t,e),Iw(n)),t.h+=n.length)}function nc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K3(t){this.l=t||xne,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Sd.prototype).add=function(t,e){Xs(this),this.i=null,t=nc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},B.forEach=function(t,e){Xs(this),this.g.forEach(function(n,r){a3(n,function(i){t.call(e,i,r,this)},this)},this)},B.T=function(){Xs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},B.R=function(t){Xs(this);var e=[];if("string"==typeof t)W3(this,t)&&(e=u3(e,this.g.get(nc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=u3(e,t[n])}return e},B.set=function(t,e){return Xs(this),this.i=null,W3(this,t=nc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},B.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var xne=10;function Q3(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Y3(t){return t.h?1:t.g?t.g.size:0}function tC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function nC(t,e){t.g?t.g.add(e):t.h=e}function J3(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function X3(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Iw(t.i)}function rC(){}function Rne(){this.g=new rC}function kne(t,e,n){const r=n||"";try{Zw(t,function(i,s){let o=i;gd(i)&&(o=Bw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ad(t){this.l=t.$b||null,this.j=t.ib||!1}function Bg(t,e){jt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=iC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}K3.prototype.cancel=function(){if(this.i=X3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},rC.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)},rC.prototype.parse=function(t){return te.JSON.parse(t,void 0)},on(Ad,Ww),Ad.prototype.g=function(){return new Bg(this.l,this.j)},Ad.prototype.i=function(t){return function(){return t}}({}),on(Bg,jt);var iC=0;function Z3(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function xd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rd(t)}function Rd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(B=Bg.prototype).open=function(t,e){if(this.readyState!=iC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rd(this)},B.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xd(this)),this.readyState=iC},B.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rd(this)),this.g&&(this.readyState=3,Rd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Z3(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},B.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xd(this):Rd(this),3==this.readyState&&Z3(this)}},B.Ua=function(t){this.g&&(this.response=this.responseText=t,xd(this))},B.Ta=function(t){this.g&&(this.response=t,xd(this))},B.ha=function(){this.g&&xd(this)},B.setRequestHeader=function(t,e){this.v.append(t,e)},B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nne=te.JSON.parse;function Tt(t){jt.call(this),this.headers=new tc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eL,this.K=this.L=!1}on(Tt,jt);var eL="",Pne=/^https?$/i,One=["POST","PUT"];function Lne(t){return"content-type"==t.toLowerCase()}function tL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nL(t),$g(t)}function nL(t){t.D||(t.D=!0,an(t,"complete"),an(t,"error"))}function rL(t){if(t.h&&typeof ww<"u"&&(!t.C[1]||4!=os(t)||2!=t.ba()))if(t.v&&4==os(t))zw(t.Fa,0,t);else if(an(t,"readystatechange"),4==os(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(j3)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!Pne.test(i?i.toLowerCase():"")}n=r}if(n)an(t,"complete"),an(t,"success");else{t.m=6;try{var o=2<os(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",nL(t)}}finally{$g(t)}}}function $g(t,e){if(t.g){iL(t);const n=t.g,r=t.C[0]?Cg:null;t.g=null,t.C=null,e||an(t,"ready");try{n.onreadystatechange=r}catch{}}}function iL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function os(t){return t.g?t.g.readyState:0}function sL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case eL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function Une(t){let e="";return Tw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function kd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oL(t){this.za=0,this.l=[],this.h=new xg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kd("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kd("baseRetryDelayMs",5e3,t),this.$a=kd("retryDelaySeedMs",1e4,t),this.Ya=kd("forwardChannelMaxRetries",2,t),this.ra=kd("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new K3(t&&t.concurrentRequestLimit),this.Ca=new Rne,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function oC(t){if(aL(t),3==t.G){var e=t.V++,n=ss(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),Md(t,n),(e=new Ed(t,t.h,e,void 0)).K=2,e.v=Ug(ss(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=mL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Id(e)}pL(t)}function jg(t){t.g&&(cC(t),t.g.cancel(),t.g=null)}function aL(t){jg(t),t.u&&(te.clearTimeout(t.u),t.u=null),Gg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function aC(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Hg(t)}function Hg(t){Q3(t.i)||t.m||(t.m=!0,$w(t.Ha,t),t.C=0)}function uL(t,e){var n;n=e?e.m:t.V++;const r=ss(t.F);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.U),Md(t,r),t.o&&t.s&&sC(r,t.o,t.s),n=new Ed(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=cL(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),nC(t.i,n),Jw(n,r,e)}function Md(t,e){t.j&&Zw({},function(n,r){qe(e,r,n)})}function cL(t,e,n){n=Math.min(t.l.length,n);var r=t.j?sn(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{kne(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function lL(t){t.g||t.u||(t.Y=1,$w(t.Ga,t),t.A=0)}function uC(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=wd(sn(t.Ga,t),fL(t,t.A)),t.A++,0))}function cC(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function dL(t){t.g=new Ed(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ss(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),Md(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&sC(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ug(ss(e)),n.s=null,n.U=!0,U3(n,t)}function Gg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function hL(t,e){var n=null;if(t.g==e){Gg(t),cC(t),t.g=null;var r=2}else{if(!tC(t.i,e))return;n=e.D,J3(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;an(r=Rg(),new N3(r,n,e,i)),Hg(t)}else lL(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function Vne(t,e){return!(Y3(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=wd(sn(t.Ha,t,e),fL(t,t.C)),t.C++,0)))}(t,e)||2==r&&uC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sa(t,5);break;case 4:sa(t,10);break;case 3:sa(t,6);break;default:sa(t,2)}}function fL(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function sa(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=sn(t.jb,t);n||(n=new ia("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Og(n,"https"),Ug(n)),function Mne(t,e){const n=new xg;if(te.Image){const r=new Image;r.onload=Eg(Vg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Eg(Vg,n,r,"TestLoadImage: error",!1,e),r.onabort=Eg(Vg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eg(Vg,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fn(2);t.G=0,t.j&&t.j.va(e),pL(t),aL(t)}function pL(t){t.G=0,t.I=-1,t.j&&((0!=X3(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Iw(t.l),t.l.length=0),t.j.ua())}function gL(t,e,n){let r=function wne(t){return t instanceof ia?ss(t):new ia(t,void 0)}(n);if(""!=r.i)e&&Fg(r,e+"."+r.i),Lg(r,r.m);else{const i=te.location;r=function Cne(t,e,n,r){var i=new ia(null,void 0);return t&&Og(i,t),e&&Fg(i,e),n&&Lg(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Tw(t.aa,function(i,s){qe(r,s,i)}),n=t.sa,(e=t.D)&&n&&qe(r,e,n),qe(r,"VER",t.ma),Md(t,r),r}function mL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tt(n&&t.Ba&&!t.qa?new Ad({ib:!0}):t.qa)).L=t.H,e}function _L(){}function zg(){if(Zu&&!(10<=Number(Xte)))throw Error("Environmental error: no available transport.")}function hr(t,e){jt.call(this),this.g=new oL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ig(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ig(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new rc(this)}function yL(t){qw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vL(){Kw.call(this),this.status=1}function rc(t){this.g=t}(B=Tt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qw.g(),this.C=function O3(t){return t.h||(t.h=t.i())}(this.u?this.u:Qw),this.g.onreadystatechange=sn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void tL(this,s)}t=n||"";const i=new tc(this.headers);r&&Zw(r,function(s,o){i.set(o,s)}),r=function Wte(t){e:{var e=Lne;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=te.FormData&&t instanceof te.FormData,!(0<=o3(One,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iL(this),0<this.B&&((this.K=function Fne(t){return Zu&&function Jte(){return function qte(t){var e=Yte;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=c3(String(bg)).split("."),n=c3("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=bw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||bw(0==i[2].length,0==s[2].length)||bw(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.pa,this)):this.A=zw(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){tL(this,s)}},B.pa=function(){typeof ww<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,an(this,"complete"),an(this,"abort"),$g(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$g(this,!0)),Tt.Z.M.call(this)},B.Fa=function(){this.s||(this.F||this.v||this.l?rL(this):this.cb())},B.cb=function(){rL(this)},B.ba=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},B.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nne(e)}},B.Da=function(){return this.m},B.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=oL.prototype).ma=8,B.G=1,B.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}},B.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Ed(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=h3(s),p3(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cL(this,i,e),qe(n=ss(this.F),"RID",t),qe(n,"CVER",22),this.D&&qe(n,"X-HTTP-Session-Id",this.D),Md(this,n),this.o&&s&&sC(n,this.o,s),nC(this.i,i),this.Ra&&qe(n,"TYPE","init"),this.ja?(qe(n,"$req",e),qe(n,"SID","null"),i.$=!0,Jw(i,n,null)):Jw(i,n,e),this.G=2}}else 3==this.G&&(t?uL(this,t):0==this.l.length||Q3(this.i)||uL(this))},B.Ga=function(){if(this.u=null,dL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wd(sn(this.bb,this),t)}},B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fn(10),jg(this),dL(this))},B.ab=function(){null!=this.v&&(this.v=null,jg(this),uC(this),Fn(19))},B.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Fn(2)):(this.h.info("Failed to ping google.com"),Fn(1))},(B=_L.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Oa=function(){},zg.prototype.g=function(t,e){return new hr(t,e)},on(hr,jt),hr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),$w(sn(t.hb,t,e))),Fn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=gL(t,null,t.W),Hg(t)},hr.prototype.close=function(){oC(this.g)},hr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,aC(this.g,e)}else this.v?((e={}).__data__=Bw(t),aC(this.g,e)):aC(this.g,t)},hr.prototype.M=function(){this.g.j=null,delete this.j,oC(this.g),delete this.g,hr.Z.M.call(this)},on(yL,qw),on(vL,Kw),on(rc,_L),rc.prototype.xa=function(){an(this.g,"a")},rc.prototype.wa=function(t){an(this.g,new yL(t))},rc.prototype.va=function(t){an(this.g,new vL(t))},rc.prototype.ua=function(){an(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,kg.NO_ERROR=0,kg.TIMEOUT=8,kg.HTTP_ERROR=6,P3.COMPLETE="complete",F3.EventType=Cd,Cd.OPEN="a",Cd.CLOSE="b",Cd.ERROR="c",Cd.MESSAGE="d",jt.prototype.listen=jt.prototype.N,Tt.prototype.listenOnce=Tt.prototype.O,Tt.prototype.getLastError=Tt.prototype.La,Tt.prototype.getLastErrorCode=Tt.prototype.Da,Tt.prototype.getStatus=Tt.prototype.ba,Tt.prototype.getResponseJson=Tt.prototype.Qa,Tt.prototype.getResponseText=Tt.prototype.ga,Tt.prototype.send=Tt.prototype.ea;var Bne=is.createWebChannelTransport=function(){return new zg},$ne=is.getStatEventTarget=function(){return Rg()},lC=is.ErrorCode=kg,jne=is.EventType=P3,Hne=is.Event=ta,wL=is.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gne=is.FetchXmlHttpFactory=Ad,Wg=is.WebChannel=F3,zne=is.XhrIo=Tt;const CL="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let ic="9.9.2";const Zs=new Ks("@firebase/firestore");function dC(){return Zs.logLevel}function A(t,...e){if(Zs.logLevel<=ye.DEBUG){const n=e.map(hC);Zs.debug(`Firestore (${ic}): ${t}`,...n)}}function gt(t,...e){if(Zs.logLevel<=ye.ERROR){const n=e.map(hC);Zs.error(`Firestore (${ic}): ${t}`,...n)}}function sc(t,...e){if(Zs.logLevel<=ye.WARN){const n=e.map(hC);Zs.warn(`Firestore (${ic}): ${t}`,...n)}}function hC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function j(t="Unexpected state"){const e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function Z(t,e){t||j()}function P(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class EL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Kne{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken),new EL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new Ht(e)}}class Qne{constructor(e,n,r){this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Yne{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Qne(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jne{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z("string"==typeof n.token),this.p=n.token,new IL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function ne(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new et(0,0))}static max(){return new J(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nd{constructor(e,n,r){void 0===n?n=0:n>e.length&&j(),void 0===r?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Nd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Nd{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const Zne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Nd{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return Zne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(Ee.fromString(e))}static fromName(e){return new M(Ee.fromString(e).popFirst(5))}static empty(){return new M(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new Ee(e.slice()))}}function SL(t){return new fr(t.readTime,t.key,-1)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(J.min(),M.empty(),-1)}static max(){return new fr(J.max(),M.empty(),-1)}}function pC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function eo(t){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==AL)throw t;A("LocalStore","Unexpectedly lost primary lease")}),gC.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function to(t){return"IndexedDbTransactionError"===t.name}class qn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function RL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}qn.ot=-1;class at{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yg(this.root,e,this.comparator,!0)}}class Yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1,un.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ML(this.data.getIterator())}getIteratorFrom(e){return new ML(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class ML{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pr{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Pe(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const are=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Z(!!t),"string"==typeof t){let e=0;const n=are.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ca(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function _C(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function NL(t){const e=t.mapValue.fields.__previous_value__;return _C(e)?NL(e):e}function Fd(t){const e=no(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}class ure{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}function Ld(t){return null==t}function Ud(t){return 0===t&&1/t==-1/0}const io_mapValue={fields:{__type__:{stringValue:"__max__"}}};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_C(t)?4:UL(t)?9007199254740991:10:j()}function vi(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=no(r.timestampValue),o=no(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ca(t.bytesValue).isEqual(ca(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ut(r.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(r.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ut(r.integerValue)===ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ut(r.doubleValue),o=ut(i.doubleValue);return s===o?Ud(s)===Ud(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(RL(s)!==RL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!vi(s[a],o[a])))return!1;return!0}(t,e);default:return j()}var i}function Vd(t,e){return void 0!==(t.values||[]).find(n=>vi(n,e))}function so(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ut(i.integerValue||i.doubleValue),a=ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OL(t.timestampValue,e.timestampValue);case 4:return OL(Fd(t),Fd(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ca(i),a=ca(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(ut(i.latitude),ut(s.latitude));return 0!==o?o:ne(ut(i.longitude),ut(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=so(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===io_mapValue&&s===io_mapValue)return 0;if(i===io_mapValue)return 1;if(s===io_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=so(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw j()}}function OL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=no(t),r=no(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function uc(t){return yC(t)}function yC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=no(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ca(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=yC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${yC(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e}function da(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vC(t){return!!t&&"integerValue"in t}function Bd(t){return!!t&&"arrayValue"in t}function FL(t){return!!t&&"nullValue"in t}function LL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xg(t){return!!t&&"mapValue"in t}function $d(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$d(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$d(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$d(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn($d(this.value))}}class $e{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $e(e,0,J.min(),J.min(),cn.empty(),0)}static newFoundDocument(e,n,r){return new $e(e,1,n,J.min(),r,0)}static newNoDocument(e,n){return new $e(e,2,n,J.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,J.min(),cn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function jL(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dre(t,e,n,r,i,s,o)}function ha(t){const e=P(t);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+uc(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uc(r)).join(",")),e.ut=n}return e.ut}function jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!wre(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!vi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qL(t.startAt,e.startAt)&&qL(t.endAt,e.endAt)}function Zg(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ln extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new fre(e,n,r):"array-contains"===n?new mre(e,r):"in"===n?new _re(e,r):"not-in"===n?new yre(e,r):"array-contains-any"===n?new vre(e,r):new ln(e,n,r)}static ct(e,n,r){return"in"===n?new pre(e,r):new gre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(so(n,this.value)):null!==n&&la(this.value)===la(n)&&this.at(so(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fre extends ln{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.at(n)}}class pre extends ln{constructor(e,n){super(e,"in",n),this.keys=zL(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gre extends ln{constructor(e,n){super(e,"not-in",n),this.keys=zL(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zL(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class mre extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bd(n)&&Vd(n.arrayValue,this.value)}}class _re extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Vd(this.value.arrayValue,n)}}class yre extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Vd(this.value.arrayValue,n)}}class vre extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}class oo{constructor(e,n){this.position=e,this.inclusive=n}}class cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function wre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function WL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):so(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}class as{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function lc(t){return new as(t)}function QL(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function wC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function CC(t){for(const e of t.filters)if(e.ht())return e.field;return null}function EC(t){return null!==t.collectionGroup}function dc(t){const e=P(t);if(null===e.lt){e.lt=[];const n=CC(e),r=wC(e);if(null!==n&&null===r)n.isKeyField()||e.lt.push(new cc(n)),e.lt.push(new cc(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new cc(mt.keyField(),s))}}}return e.lt}function Kn(t){const e=P(t);if(!e.ft)if("F"===e.limitType)e.ft=jL(e.path,e.collectionGroup,dc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of dc(e))n.push(new cc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e.ft=jL(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function tm(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return jd(Kn(t),Kn(e))&&t.limitType===e.limitType}function YL(t){return`${ha(Kn(t))}|lt:${t.limitType}`}function IC(t){return`Query(target=${function hre(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${uc(r.value)}`;var r}).join(", ")}]`),Ld(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>uc(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>uc(n)).join(",")),`Target(${e})`}(Kn(t))}; limitType=${t.limitType})`}function bC(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=WL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,dc(n),r)||n.endAt&&!function(i,s,o){const a=WL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,dc(n),r)));var n,r}function XL(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const s=Cre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Cre(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?so(a,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}function ZL(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function e4(t){return{integerValue:""+t}}function t4(t,e){return function PL(t){return"number"==typeof t&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?e4(e):ZL(t,e)}class nm{constructor(){this._=void 0}}function Ere(t,e,n){return t instanceof hc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof fa?r4(t,e):t instanceof pa?i4(t,e):function(r,i){const s=function n4(t,e){return t instanceof fc?vC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=s4(s)+s4(r._t);return vC(s)&&vC(r._t)?e4(o):ZL(r.wt,o)}(t,e)}function Ire(t,e,n){return t instanceof fa?r4(t,e):t instanceof pa?i4(t,e):n}class hc extends nm{}class fa extends nm{constructor(e){super(),this.elements=e}}function r4(t,e){const n=o4(e);for(const r of t.elements)n.some(i=>vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class pa extends nm{constructor(e){super(),this.elements=e}}function i4(t,e){let n=o4(e);for(const r of t.elements)n=n.filter(i=>!vi(i,r));return{arrayValue:{values:n}}}class fc extends nm{constructor(e,n){super(),this.wt=e,this._t=n}}function s4(t){return ut(t.integerValue||t.doubleValue)}function o4(t){return Bd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class TC{}function a4(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new gc(t.key,tt.none()):new pc(t.key,t.data,tt.none());{const n=t.data,r=cn.empty();let i=new Pe(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new pr(i.toArray()),tt.none())}}function Dre(t,e,n){t instanceof pc?function(r,i,s){const o=r.value.clone(),a=l4(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof us?function(r,i,s){if(!rm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=l4(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(c4(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function zd(t,e,n,r){return t instanceof pc?function(i,s,o,a){if(!rm(i.precondition,s))return o;const u=i.value.clone(),c=d4(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,s,o,a){if(!rm(i.precondition,s))return o;const u=d4(i.fieldTransforms,a,s),c=s.data;return c.setAll(c4(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,rm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function u4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&oc(n,r,(i,s)=>function bre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof fa&&r instanceof fa||n instanceof pa&&r instanceof pa?oc(n.elements,r.elements,vi):n instanceof fc&&r instanceof fc?vi(n._t,r._t):n instanceof hc&&r instanceof hc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class pc extends TC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends TC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l4(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ire(o,a,n[i]))}return r}function d4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ere(s,o,e))}return r}class gc extends TC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Are{constructor(e){this.count=e}}var Dt,Ie;function f4(t){if(void 0===t)return gt("GRPC error has no .code"),C.UNKNOWN;switch(t){case Dt.OK:return C.OK;case Dt.CANCELLED:return C.CANCELLED;case Dt.UNKNOWN:return C.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return C.INTERNAL;case Dt.UNAVAILABLE:return C.UNAVAILABLE;case Dt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Dt.NOT_FOUND:return C.NOT_FOUND;case Dt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Dt.ABORTED:return C.ABORTED;case Dt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Dt.DATA_LOSS:return C.DATA_LOSS;default:return j()}}(Ie=Dt||(Dt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kL(this.inner)}size(){return this.innerSize}}const xre=new at(M.comparator);function Qn(){return xre}const p4=new at(M.comparator);function Wd(...t){let e=p4;for(const n of t)e=e.insert(n.key,n);return e}function g4(t){let e=p4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return qd()}function m4(){return qd()}function qd(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}new at(M.comparator);const kre=new Pe(M.comparator);function ae(...t){let e=kre;for(const n of t)e=e.add(n);return e}const Mre=new Pe(ne);function im(){return Mre}class Kd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n)),new Kd(J.min(),r,im(),Qn(),ae())}}class Qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Qd(Pt.EMPTY_BYTE_STRING,n,ae(),ae(),ae())}}class sm{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class _4{constructor(e,n){this.targetId=e,this.It=n}}class y4{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v4{constructor(){this.Tt=0,this.Et=C4(),this.At=Pt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ae(),n=ae(),r=ae();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Qd(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=C4()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Nre{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Qn(),this.Bt=w4(),this.Lt=new Pe(ne)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(Zg(s))if(0===r){const o=new M(s.path);this.Kt(n,o,$e.newNoDocument(o,J.min()))}else Z(1===r);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&Zg(a.target)){const u=new M(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,$e.newNoDocument(u,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=ae();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ht(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Kd(e,n,this.Lt,this.$t,r);return this.$t=Qn(),this.Bt=w4(),this.Lt=new Pe(ne),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new v4,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Pe(ne),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new v4),this.Ot.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Ot.getRemoteKeysForTarget(e).has(n)}}function w4(){return new at(M.comparator)}function C4(){return new at(M.comparator)}const Pre={asc:"ASCENDING",desc:"DESCENDING"},Ore={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fre{constructor(e,n){this.databaseId=e,this.dt=n}}function Yd(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E4(t,e){return t.dt?e.toBase64():e.toUint8Array()}function zt(t){return Z(!!t),J.fromTimestamp(function(e){const n=no(e);return new et(n.seconds,n.nanos)}(t))}function SC(t,e){return(n=t,new Ee(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function I4(t){const e=Ee.fromString(t);return Z(M4(e)),e}function Ci(t,e){const n=I4(e);if(n.get(1)!==t.databaseId.projectId)throw new S(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(T4(n))}function AC(t,e){return SC(t.databaseId,e)}function Xd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T4(t){return Z(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function A4(t,e){return{documents:[AC(t,e.path)]}}function x4(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=AC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=AC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(LL(d.value))return{unaryFilter:{field:mc(d.field),op:"IS_NAN"}};if(FL(d.value))return{unaryFilter:{field:mc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(LL(d.value))return{unaryFilter:{field:mc(d.field),op:"IS_NOT_NAN"}};if(FL(d.value))return{unaryFilter:{field:mc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(d.field),op:Hre(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:mc((l=c).field),direction:jre(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.dt||Ld(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function R4(t){let e=function b4(t){const e=I4(t);return 4===e.length?Ee.emptyPath():T4(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=k4(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new cc(_c((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ld(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new oo((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new oo(l.values||[],!l.before)}(n.endAt)),function KL(t,e,n,r,i,s,o,a){return new as(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function k4(t){return t?void 0!==t.unaryFilter?[zre(t)]:void 0!==t.fieldFilter?[Gre(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>k4(e)).reduce((e,n)=>e.concat(n)):j():[]}function jre(t){return Pre[t]}function Hre(t){return Ore[t]}function mc(t){return{fieldPath:t.canonicalString()}}function _c(t){return mt.fromServerFormat(t.fieldPath)}function Gre(t){return ln.create(_c(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function zre(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_c(t.unaryFilter.field);return ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_c(t.unaryFilter.field);return ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_c(t.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_c(t.unaryFilter.field);return ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function M4(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class kC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=m4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=a4(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,r)=>u4(n,r))&&oc(this.baseMutations,e.baseMutations,(n,r)=>u4(n,r))}}class NC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uo{constructor(e,n,r,i,s=J.min(),o=J.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class V4{constructor(e){this.ne=e}}function PC(t){const e=R4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?tm(e,e.limit,"L"):e}class ya{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),Ud(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),"string"==typeof r?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(ca(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?UL(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):j()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),M.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}ya.ye=new ya;class yie{constructor(){this.ze=new FC}addToCollectionParentIndex(e,n){return this.ze.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(fr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class FC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(Ee.comparator)).toArray()}}new Uint8Array(0);class Yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class Ca{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ca(0)}static Rn(){return new Ca(-1)}}class Aie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class o6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&zd(r.mutation,i,pr.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qn();const o=qd(),a=qd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof us)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),zd(l.mutation,c,l.mutation.getFieldMask(),et.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Aie(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qd();let i=new at((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||pr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=m4();l.forEach(h=>{if(!s.has(h)){const f=a4(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(wi());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(l=>({batchId:a,changes:g4(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Wd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new as(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,$e.newInvalidDocument(c)))});let o=Wd();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&zd(c.mutation,u,pr.empty(),et.now()),bC(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):w.resolve($e.newInvalidDocument(n))}}class xie{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return w.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:zt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(r=n).name,query:PC(r.bundledQuery),readTime:zt(r.readTime)}),w.resolve();var r}}class Rie{constructor(){this.overlays=new at(M.comparator),this.Xn=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=wi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NC(n,r));let s=this.Xn.get(n);void 0===s&&(s=ae(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}class LC{constructor(){this.Zn=new Pe(qt.ts),this.es=new Pe(qt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new qt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new M(new Ee([])),r=new qt(n,e),i=new qt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new M(new Ee([])),r=new qt(n,e),i=new qt(n,e+1);let s=ae();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qt(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return M.comparator(e.key,n.key)||ne(e.ls,n.ls)}static ns(e,n){return ne(e.ls,n.ls)||M.comparator(e.key,n.key)}}class kie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Pe(qt.ts)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new kC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ws(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(ne);return n.forEach(i=>{const s=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new qt(new M(s),0);let a=new Pe(ne);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Z(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return w.forEach(n.mutations,i=>{const s=new qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new qt(n,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mie{constructor(e){this.ps=e,this.docs=new at(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Qn();const s=new M(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||pC(SL(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){j()}Is(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nie(this)}getSize(e){return w.resolve(this.size)}}class Nie extends class Tie{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class Pie{constructor(e){this.persistence=e,this.Ts=new ao(n=>ha(n),jd),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Es=0,this.As=new LC,this.targetCount=0,this.Rs=Ca.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),w.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.vn(n),w.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.As.containsKey(n))}}class a6{constructor(e,n){this.bs={},this.overlays={},this.Ps=new qn(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Pie(this),this.indexManager=new yie,this.remoteDocumentCache=new Mie(r=>this.referenceDelegate.Ss(r)),this.wt=new V4(n),this.Ds=new xie(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new kie(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Oie(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Oie extends class nre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.ks=new LC,this.Ms=null}static Os(e){return new pm(e)}get Fs(){if(this.Ms)return this.Ms;throw j()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),w.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Ms=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Fs,r=>{const i=M.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return w.or([()=>w.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class $C{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $C(e,n.fromCache,r,i)}}class c6{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){if(QL(n))return w.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=tm(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Di.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ki(n,a);return this.Mi(n,c,o,u.readTime)?this.Ci(e,tm(n,null,"F")):this.Oi(e,c,n,u)}))})))}xi(e,n,r,i){return QL(n)||i.isEqual(J.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Mi(n,o,r,i)?this.Ni(e,n):(dC()<=ye.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IC(n)),this.Oi(e,o,n,function DL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(1e9===r?new et(n+1,0):new et(n,r));return new fr(i,M.empty(),e)}(i,-1)))})}ki(e,n){let r=new Pe(XL(e));return n.forEach((i,s)=>{bC(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return dC()<=ye.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",IC(n)),this.Di.getDocumentsMatchingQuery(e,n,fr.min())}Oi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Lie{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new at(ne),this.Bi=new ao(s=>ha(s),jd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o6(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function d6(t,e){return jC.apply(this,arguments)}function jC(){return jC=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}),jC.apply(this,arguments)}function h6(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Vie(t,e){const n=P(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Vs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Vs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,_=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Vs.updateTargetData(s,f))});let u=Qn(),c=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function f6(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Gi,c=l.Qi})),!r.isEqual(J.min())){const l=n.Vs.getLastRemoteSnapshotVersion(s).next(d=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.$i=i,s))}function wc(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new uo(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}function Cc(t,e,n){return HC.apply(this,arguments)}function HC(){return HC=m(function*(t,e,n){const r=P(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!to(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),HC.apply(this,arguments)}function mm(t,e,n){const r=P(t);let i=J.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=P(a),d=l.Bi.get(c);return void 0!==d?w.resolve(l.$i.get(d)):l.Vs.getTargetData(u,c)}(r,o,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ae())).next(a=>(function m6(t,e,n){let r=J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}(r,function JL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ji:s})))}class KC{constructor(){this.activeTargetIds=im()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v6{constructor(){this.Fr=new KC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new KC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hie{Br(e){}shutdown(){}}class w6{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Gie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zie{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Wie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);A("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw sc("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ic,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){return`${this.so}/v1/${n}:${Gie[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new zne;a.listenOnce(jne.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case lC.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case lC.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new S(C.DEADLINE_EXCEEDED,"Request time out"));break;case lC.HTTP_ERROR:const l=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(p)>=0?p:C.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(C.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bne(),o=$ne(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Gne({})),this.uo(a.initMessageHeaders,n,r),dg()||nw()||function yee(){return $t().indexOf("Electron/")>=0}()||zF()||function vee(){return $t().indexOf("MSAppHost/")>=0}()||hg()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new zie({jr:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(l||(A("Connection","Opening WebChannel transport."),c.open(),l=!0),A("Connection","WebChannel sending:",p),c.send(p))},Wr:()=>c.close()}),f=(p,g,_)=>{p.listen(g,v=>{try{_(v)}catch(b){setTimeout(()=>{throw b},0)}})};return f(c,Wg.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(c,Wg.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.eo())}),f(c,Wg.EventType.ERROR,p=>{d||(d=!0,sc("Connection","WebChannel transport errored:",p),h.eo(new S(C.UNAVAILABLE,"The operation could not be completed")))}),f(c,Wg.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];Z(!!_);const v=_,b=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(b){A("Connection","WebChannel received error:",b);const y=b.status;let T=function(U){const De=Dt[U];if(void 0!==De)return f4(De)}(y),R=b.message;void 0===T&&(T=C.INTERNAL,R="Unknown error status: "+y+" with message "+b.message),d=!0,h.eo(new S(T,R)),c.close()}else A("Connection","WebChannel received:",_),h.no(_)}}),f(o,Hne.STAT_EVENT,p=>{p.stat===wL.PROXY?A("Connection","Detected buffering proxy"):p.stat===wL.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function vm(){return typeof document<"u"?document:null}function uh(t){return new Fre(t,!0)}class YC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Kie extends class qie{constructor(e,n,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new YC(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return m(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return m(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var r=this;return m(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new S(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(m(function*(){e.state=0,e.start()}))}qo(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Vre(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:j(),i=e.targetChange.targetIds||[],s=function(u,c){return u.dt?(Z(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(Z(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?C.UNKNOWN:f4(u.code);return new S(c,u.message||"")}(o);n=new y4(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ci(t,r.document.name),s=zt(r.document.updateTime),o=new cn({mapValue:{fields:r.document.fields}}),a=$e.newFoundDocument(i,s,o);n=new sm(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ci(t,r.document),s=r.readTime?zt(r.readTime):J.min(),o=$e.newNoDocument(i,s);n=new sm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ci(t,r.document);n=new sm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,s=new Are(r.count||0);n=new _4(r.targetId,s)}}var u;return n}(this.wt,e),r=function(i){if(!("targetChange"in i))return J.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?zt(s.readTime):J.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=Xd(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=Zg(a)?{documents:A4(i,a)}:{query:x4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=E4(i,s.resumeToken):s.snapshotVersion.compareTo(J.min())>0&&(o.readTime=Yd(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function $re(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Oo(n)}jo(e){const n={};n.database=Xd(this.wt),n.removeTarget=e,this.Oo(n)}}class Yie extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new S(C.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(C.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(C.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Jie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gt(n),this.su=!1):A("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Xie{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(m(function*(){var u;ho(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=P(c);l.lu.add(4),yield Ec(l),l._u.set("Unknown"),l.lu.delete(4),yield ch(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this._u=new Jie(r,i)}}function ch(t){return JC.apply(this,arguments)}function JC(){return JC=m(function*(t){if(ho(t))for(const e of t.fu)yield e(!0)}),JC.apply(this,arguments)}function Ec(t){return XC.apply(this,arguments)}function XC(){return XC=m(function*(t){for(const e of t.fu)yield e(!1)}),XC.apply(this,arguments)}function wm(t,e){const n=P(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),tE(n)?eE(n):bc(n).Co()&&ZC(n,e))}function lh(t,e){const n=P(t),r=bc(n);n.hu.delete(e),r.Co()&&E6(n,e),0===n.hu.size&&(r.Co()?r.ko():ho(n)&&n._u.set("Unknown"))}function ZC(t,e){t.wu.Nt(e.targetId),bc(t).Qo(e)}function E6(t,e){t.wu.Nt(e),bc(t).jo(e)}function eE(t){t.wu=new Nre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),bc(t).start(),t._u.iu()}function tE(t){return ho(t)&&!bc(t).Do()&&t.hu.size>0}function ho(t){return 0===P(t).lu.size}function I6(t){t.wu=void 0}function Zie(t){return nE.apply(this,arguments)}function nE(){return nE=m(function*(t){t.hu.forEach((e,n)=>{ZC(t,e)})}),nE.apply(this,arguments)}function ese(t,e){return rE.apply(this,arguments)}function rE(){return rE=m(function*(t,e){I6(t),tE(t)?(t._u.uu(e),eE(t)):t._u.set("Unknown")}),rE.apply(this,arguments)}function tse(t,e,n){return iE.apply(this,arguments)}function iE(){return iE=m(function*(t,e,n){if(t._u.set("Online"),e instanceof y4&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cm(t,r)}else if(e instanceof sm?t.wu.Ut(e):e instanceof _4?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(J.min()))try{const r=yield h6(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.hu.get(u);c&&i.hu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),E6(i,a);const c=new uo(u.target,a,1,u.sequenceNumber);ZC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Cm(t,r)}var r}),iE.apply(this,arguments)}function Cm(t,e,n){return sE.apply(this,arguments)}function sE(){return sE=m(function*(t,e,n){if(!to(e))throw e;t.lu.add(1),yield Ec(t),t._u.set("Offline"),n||(n=()=>h6(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.lu.delete(1),yield ch(t)}))}),sE.apply(this,arguments)}function S6(t,e){return dE.apply(this,arguments)}function dE(){return dE=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=ho(n);n.lu.add(3),yield Ec(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield ch(n)}),dE.apply(this,arguments)}function fE(){return fE=m(function*(t,e){const n=P(t);e?(n.lu.delete(2),yield ch(n)):e||(n.lu.add(2),yield Ec(n),n._u.set("Unknown"))}),fE.apply(this,arguments)}function bc(t){return t.mu||(t.mu=function(e,n,r){const i=P(e);return i.tu(),new Kie(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Zie.bind(null,t),Jr:ese.bind(null,t),Go:tse.bind(null,t)}),t.fu.push(function(){var e=m(function*(n){n?(t.mu.No(),tE(t)?eE(t):t._u.set("Unknown")):(yield t.mu.stop(),I6(t))});return function(n){return e.apply(this,arguments)}}())),t.mu}class pE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new pE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tc(t,e){if(gt("AsyncQueue",`${e}: ${t}`),to(t))return new S(C.UNAVAILABLE,`${e}: ${t}`);throw t}class Dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Wd(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Dc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class A6{constructor(){this.yu=new at(M.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(n):1===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):j():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sc{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Sc(e,n,Dc.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class use{constructor(){this.Iu=void 0,this.listeners=[]}}class cse{constructor(){this.queries=new ao(e=>YL(e),Hd),this.onlineState="Unknown",this.Tu=new Set}}function mE(){return mE=m(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new use),i)try{s.Iu=yield n.onListen(r)}catch(o){const a=Tc(o,`Initialization of query '${IC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&vE(n)}),mE.apply(this,arguments)}function yE(){return yE=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),yE.apply(this,arguments)}function lse(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&vE(n)}function dse(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function vE(t){t.Tu.forEach(e=>{e.next()})}class wE{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class k6{constructor(e){this.key=e}}class M6{constructor(e){this.key=e}}class N6{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ae(),this.mutatedKeys=ae(),this.Lu=XL(e),this.Uu=new Dc(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new A6,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=bC(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Lu(f,u)>0||c&&this.Lu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(c.type,l.type)||this.Lu(c.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new Sc(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new A6,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ae(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new M6(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new k6(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=ae();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return Sc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class pse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gse{constructor(e){this.key=e,this.Xu=!1}}class mse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ao(a=>YL(a),Hd),this.ec=new Map,this.nc=new Set,this.sc=new at(M.comparator),this.ic=new Map,this.rc=new LC,this.oc={},this.uc=new Map,this.cc=Ca.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function _se(t,e){return CE.apply(this,arguments)}function CE(){return CE=m(function*(t,e){const n=GE(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield wc(n.localStore,Kn(e));n.isPrimaryClient&&wm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield EE(n,e,r,"current"===a)}return i}),CE.apply(this,arguments)}function EE(t,e,n,r){return IE.apply(this,arguments)}function IE(){return IE=m(function*(t,e,n,r){t.hc=(l,d,h)=>{return(f=m(function*(p,g,_,v){let b=g.view.Ku(_);b.Mi&&(b=yield mm(p.localStore,g.query,!1).then(({documents:R})=>g.view.Ku(R,b)));const y=v&&v.targetChanges.get(g.targetId),T=g.view.applyChanges(b,p.isPrimaryClient,y);return NE(p,g.targetId,T.zu),T.snapshot}),function(p,g,_,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield mm(t.localStore,e,!0),s=new N6(e,i.ji),o=s.Ku(i.documents),a=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);NE(t,n,u.zu);const c=new pse(e,n,s);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}),IE.apply(this,arguments)}function yse(t,e){return bE.apply(this,arguments)}function bE(){return bE=m(function*(t,e){const n=P(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!Hd(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),lh(n.remoteStore,r.targetId),Ac(n,r.targetId)}).catch(eo))):(Ac(n,r.targetId),yield Cc(n.localStore,r.targetId,!0))}),bE.apply(this,arguments)}function P6(t,e){return DE.apply(this,arguments)}function DE(){return DE=m(function*(t,e){const n=P(t);try{const r=yield Vie(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Z(o.Xu):i.removedDocuments.size>0&&(Z(o.Xu),o.Xu=!1))}),yield cs(n,r,e)}catch(r){yield eo(r)}}),DE.apply(this,arguments)}function O6(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Eu(o)&&(u=!0)}),u&&vE(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wse(t,e,n){return SE.apply(this,arguments)}function SE(){return SE=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new at(M.comparator);o=o.insert(s,$e.newNoDocument(s,J.min()));const a=ae().add(s),u=new Kd(J.min(),new Map,new Pe(ne),o,a);yield P6(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),PE(r)}else yield Cc(r.localStore,e,!1).then(()=>Ac(r,e,n)).catch(eo)}),SE.apply(this,arguments)}function Ac(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||F6(t,r)})}function F6(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);null!==n&&(lh(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),PE(t))}function NE(t,e,n){for(const r of n)r instanceof k6?(t.rc.addReference(r.key,e),bse(t,r)):r instanceof M6?(A("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||F6(t,r.key)):j()}function bse(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.nc.add(r),PE(t))}function PE(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new M(Ee.fromString(e)),r=t.cc.next();t.ic.set(r,new gse(n)),t.sc=t.sc.insert(n,r),wm(t.remoteStore,new uo(Kn(lc(n.path)),r,2,qn.ot))}}function cs(t,e,n){return OE.apply(this,arguments)}function OE(){return OE=m(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=$C.Vi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=m(function*(u,c){const l=P(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Pi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.vi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!to(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.$i=l.$i.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),OE.apply(this,arguments)}function Tse(t,e){return FE.apply(this,arguments)}function FE(){return FE=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield d6(n.localStore,e);n.currentUser=e,(i=n).uc.forEach(o=>{o.forEach(a=>{a.reject(new S(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cs(n,r.Ki)}var i}),FE.apply(this,arguments)}function Dse(t,e){const n=P(t),r=n.ic.get(e);if(r&&r.Xu)return ae().add(r.key);{let i=ae();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function GE(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wse.bind(null,e),e.Zu.Go=lse.bind(null,e.eventManager),e.Zu.lc=dse.bind(null,e.eventManager),e}class Ose{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.wt=uh(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return function l6(t,e,n,r){return new Lie(t,e,n,r)}(this.persistence,new c6,e.initialUser,this.wt)}_c(e){return new a6(pm.Os,this.wt)}dc(e){return new v6}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WE{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>O6(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tse.bind(null,r.syncEngine),yield function hE(t,e){return fE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cse}createDatastore(e){const n=uh(e.databaseInfo.databaseId),r=new Wie(e.databaseInfo);return new Yie(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>O6(this.syncEngine,a,0),o=w6.V()?new w6:new Hie,new Xie(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new mse(r,i,s,o,a,u);return c&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=P(n);A("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ec(r),r.du.shutdown(),r._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $se{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=class bL{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Tc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function B6(t,e){return qE.apply(this,arguments)}function qE(){return qE=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield d6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),qE.apply(this,arguments)}function $6(t,e){return KE.apply(this,arguments)}function KE(){return KE=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield QE(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>S6(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>S6(e.remoteStore,s)),t.onlineComponents=e}),KE.apply(this,arguments)}function QE(t){return YE.apply(this,arguments)}function YE(){return YE=m(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield B6(t,new Ose)),t.offlineComponents}),YE.apply(this,arguments)}function Im(t){return JE.apply(this,arguments)}function JE(){return JE=m(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield $6(t,new WE)),t.onlineComponents}),JE.apply(this,arguments)}function xc(t){return ZE.apply(this,arguments)}function ZE(){return ZE=m(function*(t){const e=yield Im(t),n=e.eventManager;return n.onListen=_se.bind(null,e.syncEngine),n.onUnlisten=yse.bind(null,e.syncEngine),n}),ZE.apply(this,arguments)}const W6=new Map;function K6(t){if(M.isDocumentKey(t))throw new S(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":j()}function be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(t);throw new S(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Y6{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new S(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Yse(t,e,n,r){if(!0===e&&!0===r)throw new S(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y6({}),this._settingsFrozen=!1,e instanceof ro?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new S(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(i.options.projectId)}(e))}get app(){if(!this._app)throw new S(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y6(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Wne;switch(n.type){case"gapi":const r=n.client;return Z(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Yne(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new S(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=W6.get(e);n&&(A("ComponentProvider","Removing Datastore"),W6.delete(e),n.terminate())}(this),Promise.resolve()}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class bn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bn(this.firestore,e,this._query)}}class Ii extends bn{constructor(e,n,r){super(e,n,lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new M(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}class eoe{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new YC(this,"async_queue_retry"),this.Kc=()=>{const n=vm();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=vm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Gt;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return m(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(n){if(!to(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=pE.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&j()}verifyOperationInProgress(){}zc(){var e=this;return m(function*(){let n;do{n=e.Mc,yield n}while(n!==e.Mc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function tI(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ke extends dh{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new eoe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||J6(this),this._firestoreClient.terminate()}}function noe(t=rs()){return Ar(t,"firestore").getImmediate()}function J6(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ure(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new $se(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Rc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Pt.fromBase64String(e))}catch(n){throw new S(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ia(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class e5{constructor(e){this._methodName=e}}class nI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const roe=/^__.*__$/;function n5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Dm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Am(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(n5(this.Zc)&&roe.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class soe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||uh(e)}aa(e,n,r,i=!1){return new Dm({Zc:e,methodName:n,ca:r,path:mt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ba(t,e){if(u5(t=It(t)))return function sI(t,e,n){if(!u5(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Tm(n);throw e.oa("an object"===r?t+" a custom object":t+" "+r)}var r}("Unsupported field value:",e,t),function a5(t,e){const n={};return kL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const s=ba(i,e.ea(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof e5)return function(n,r){if(!n5(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ba(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=It(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return t4(r.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=et.fromDate(n);return{timestampValue:Yd(r.wt,i)}}if(n instanceof et){const i=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yd(r.wt,i)}}if(n instanceof nI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ia)return{bytesValue:E4(r.wt,n._byteString)};if(n instanceof _t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:SC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${Tm(n)}`)}(t,e)}function u5(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof nI||t instanceof Ia||t instanceof _t||t instanceof e5)}const coe=new RegExp("[~\\*/\\[\\]]");function Am(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(C.INVALID_ARGUMENT,a+t+u)}class aI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new loe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class loe extends aI{data(){return super.data()}}function xm(t,e){return"string"==typeof e?function Sm(t,e,n){if(e.search(coe)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rc(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends aI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rm extends Mc{data(e={}){return super.data(e)}}class Nc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rm(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Rm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Rm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:doe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function doe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function foe(t,...e){for(const n of e)t=n._apply(t);return t}class poe extends class hoe{}{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=function kc(t){const e=t._freezeSettings(),n=uh(t._databaseId);return new soe(t._databaseId,!!e.ignoreUndefinedProperties,n)}(e.firestore),r=function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){m5(l,c);const f=[];for(const p of l)f.push(g5(a,i,p));d={arrayValue:{values:f}}}else d=g5(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||m5(l,c),d=function o5(t,e,n,r=!1){return ba(n,t.aa(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);const h=ln.create(u,c,d);return function(f,p){if(p.ht()){const _=CC(f);if(null!==_&&!_.isEqual(p.field))throw new S(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${p.field.toString()}'`);const v=wC(f);null!==v&&function _5(t,e,n){if(!n.isEqual(e))throw new S(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,p.field,v)}const g=function(_,v){for(const b of _.filters)if(v.indexOf(b.op)>=0)return b.op;return null}(f,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==g)throw new S(C.INVALID_ARGUMENT,g===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${g.toString()}' filters.`)}(i,h),h}(e._query,0,n,e.firestore._databaseId,this.fa,this.da,this._a);return new bn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new as(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function goe(t,e,n){const r=e,i=xm("where",t);return new poe(i,r,n)}function g5(t,e,n){if("string"==typeof(n=It(n))){if(""===n)throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&-1!==n.indexOf("/"))throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!M.isDocumentKey(r))throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return da(t,new M(r))}if(n instanceof _t)return da(t,n._key);throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(n)}.`)}function m5(t,e){if(!Array.isArray(t)||0===t.length)throw new S(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new S(C.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class Da extends class yoe{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const r={};return ua(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nI(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=NL(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=no(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);Z(M4(r));const i=new ro(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}!function(t,e=!0){ic="9.9.3",Nt(new bt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ke(i,new Kne(n.getProvider("auth-internal")),new Jne(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),ve(CL,"3.4.14",t),ve(CL,"3.4.14","esm2017")}(),ve("firebase","9.9.3","app");const v5="@firebase/installations",lI="0.5.12",C5=`w:${lI}`,E5="FIS_v2",ls=new Kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function I5(t){return t instanceof dr&&t.code.includes("request-failed")}function dI({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function b5(t){return{token:t.token,requestStatus:2,expiresIn:xoe(t.expiresIn),creationTime:Date.now()}}function hI(t,e){return fI.apply(this,arguments)}function fI(){return fI=m(function*(t,e){const r=(yield e.json()).error;return ls.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),fI.apply(this,arguments)}function T5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function D5(t,{refreshToken:e}){const n=T5(t);return n.append("Authorization",function Roe(t){return`${E5} ${t}`}(e)),n}function pI(t){return gI.apply(this,arguments)}function gI(){return gI=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),gI.apply(this,arguments)}function xoe(t){return Number(t.replace("s","000"))}function koe(t,e){return mI.apply(this,arguments)}function mI(){return mI=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dI(t),i=T5(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:E5,appId:t.appId,sdkVersion:C5})},u=yield pI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:b5(c.authToken)}}throw yield hI("Create Installation",u)}),mI.apply(this,arguments)}function S5(t){return new Promise(e=>{setTimeout(e,t)})}const Noe=/^[cdef][\w-]{21}$/;function Poe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ooe(t){return function Moe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Noe.test(n)?n:""}catch{return""}}function Pc(t){return`${t.appName}!${t.appId}`}const Oc=new Map;function A5(t,e){const n=Pc(t);x5(n,e),function Uoe(t,e){const n=function R5(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=t=>{x5(t.data.key,t.data.fid)}),Sa}();n&&n.postMessage({key:t,fid:e}),function k5(){0===Oc.size&&Sa&&(Sa.close(),Sa=null)}()}(n,e)}function x5(t,e){const n=Oc.get(t);if(n)for(const r of n)r(e)}let Sa=null;const Aa="firebase-installations-store";let yI=null;function vI(){return yI||(yI=vg("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Aa)}})),yI}function Mm(t,e){return wI.apply(this,arguments)}function wI(){return wI=m(function*(t,e){const n=Pc(t),i=(yield vI()).transaction(Aa,"readwrite"),s=i.objectStore(Aa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&A5(t,e.fid),e}),wI.apply(this,arguments)}function CI(t){return EI.apply(this,arguments)}function EI(){return EI=m(function*(t){const e=Pc(t),r=(yield vI()).transaction(Aa,"readwrite");yield r.objectStore(Aa).delete(e),yield r.done}),EI.apply(this,arguments)}function ph(t,e){return II.apply(this,arguments)}function II(){return II=m(function*(t,e){const n=Pc(t),i=(yield vI()).transaction(Aa,"readwrite"),s=i.objectStore(Aa),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&A5(t,a.fid),a}),II.apply(this,arguments)}function bI(t){return TI.apply(this,arguments)}function TI(){return TI=m(function*(t){let e;const n=yield ph(t.appConfig,r=>{const i=$oe(r),s=joe(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),TI.apply(this,arguments)}function $oe(t){return N5(t||{fid:Poe(),registrationStatus:0})}function joe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ls.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Hoe(t,e){return DI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Goe(t)}:{installationEntry:e}}function DI(){return DI=m(function*(t,e){try{const n=yield koe(t,e);return Mm(t.appConfig,n)}catch(n){throw I5(n)&&409===n.customData.serverCode?yield CI(t.appConfig):yield Mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),DI.apply(this,arguments)}function Goe(t){return SI.apply(this,arguments)}function SI(){return SI=m(function*(t){let e=yield M5(t.appConfig);for(;1===e.registrationStatus;)yield S5(100),e=yield M5(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield bI(t);return r||n}return e}),SI.apply(this,arguments)}function M5(t){return ph(t,e=>{if(!e)throw ls.create("installation-not-found");return N5(e)})}function N5(t){return function zoe(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Woe(t,e){return AI.apply(this,arguments)}function AI(){return AI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=qoe(t,n),i=D5(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:C5,appId:t.appId}})},u=yield pI(()=>fetch(r,a));if(u.ok)return b5(yield u.json());throw yield hI("Generate Auth Token",u)}),AI.apply(this,arguments)}function qoe(t,{fid:e}){return`${dI(t)}/${e}/authTokens:generate`}function xI(t){return RI.apply(this,arguments)}function RI(){return RI=m(function*(t,e=!1){let n;const r=yield ph(t.appConfig,s=>{if(!O5(s))throw ls.create("not-registered");const o=s.authToken;if(!e&&Yoe(o))return s;if(1===o.requestStatus)return n=Koe(t,e),s;{if(!navigator.onLine)throw ls.create("app-offline");const a=Xoe(s);return n=Qoe(t,a),a}});return n?yield n:r.authToken}),RI.apply(this,arguments)}function Koe(t,e){return kI.apply(this,arguments)}function kI(){return kI=m(function*(t,e){let n=yield P5(t.appConfig);for(;1===n.authToken.requestStatus;)yield S5(100),n=yield P5(t.appConfig);const r=n.authToken;return 0===r.requestStatus?xI(t,e):r}),kI.apply(this,arguments)}function P5(t){return ph(t,e=>{if(!O5(e))throw ls.create("not-registered");return function Zoe(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Qoe(t,e){return MI.apply(this,arguments)}function MI(){return MI=m(function*(t,e){try{const n=yield Woe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Mm(t.appConfig,r),n}catch(n){if(!I5(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Mm(t.appConfig,r)}else yield CI(t.appConfig);throw n}}),MI.apply(this,arguments)}function O5(t){return void 0!==t&&2===t.registrationStatus}function Yoe(t){return 2===t.requestStatus&&!function Joe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Xoe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NI(){return NI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield bI(e);return r?r.catch(console.error):xI(e).catch(console.error),n.fid}),NI.apply(this,arguments)}function PI(){return PI=m(function*(t,e=!1){const n=t;return yield nae(n),(yield xI(n,e)).token}),PI.apply(this,arguments)}function nae(t){return OI.apply(this,arguments)}function OI(){return OI=m(function*(t){const{registrationPromise:e}=yield bI(t);e&&(yield e)}),OI.apply(this,arguments)}function UI(t){return ls.create("missing-app-config-values",{valueName:t})}const F5="installations",aae=t=>{const e=t.getProvider("app").getImmediate(),n=function sae(t){if(!t||!t.options)throw UI("App Configuration");if(!t.name)throw UI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw UI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ar(e,"heartbeat"),_delete:()=>Promise.resolve()}},uae=t=>{const n=Ar(t.getProvider("app").getImmediate(),F5).getImmediate();return{getId:()=>function eae(t){return NI.apply(this,arguments)}(n),getToken:i=>function tae(t){return PI.apply(this,arguments)}(n,i)}};(function cae(){Nt(new bt(F5,aae,"PUBLIC")),Nt(new bt("installations-internal",uae,"PRIVATE"))})(),ve(v5,lI),ve(v5,lI,"esm2017");const VI="@firebase/remote-config",U5="remote-config",Jn=new Kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function mae(t=rs()){return Ar(t=It(t),U5).getImmediate()}class Cae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Eae(t=navigator){return t.languages&&t.languages[0]||t.language}class Iae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:Eae()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((T,R)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",R(U)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(T){let R="fetch-client-network";throw"AbortError"===(null===(r=T)||void 0===r?void 0:r.name)&&(R="fetch-timeout"),Jn.create(R,{originalErrorMessage:null===(i=T)||void 0===i?void 0:i.message})}let _=g.status;const v=g.headers.get("ETag")||void 0;let b,y;if(200===g.status){let T;try{T=yield g.json()}catch(R){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(s=R)||void 0===s?void 0:s.message})}b=T.entries,y=T.state}if("INSTANCE_STATE_UNSPECIFIED"===y?_=500:"NO_CHANGE"===y?_=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(b={}),304!==_&&200!==_)throw Jn.create("fetch-status",{httpStatus:_});return{status:_,eTag:v,config:b}})()}}class Dae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function bae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Tae(t){if(!(t instanceof dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+sw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class xae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pm(t,e){var n;const r=t.target.error||void 0;return Jn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const xa="app_namespace_store";class Nae{constructor(e,n,r,i=function Mae(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Pm(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xa,{keyPath:"compositeKey"})}}catch(r){e(Jn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xa],"readonly").objectStore(xa),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(Pm(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(Jn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([xa],"readwrite").objectStore(xa),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o(Pm(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Jn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xa],"readwrite").objectStore(xa),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(Pm(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Jn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Pae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Fae(){return GI.apply(this,arguments)}function GI(){return(GI=m(function*(){if(!qs())return!1;try{return yield Ju()}catch{return!1}})).apply(this,arguments)}!function Oae(){Nt(new bt(U5,function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!qs())throw Jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Jn.create("registration-project-id");if(!o)throw Jn.create("registration-api-key");if(!a)throw Jn.create("registration-app-id");const u=new Nae(a,r.name,n=n||"firebase"),c=new Pae(u),l=new Ks(VI);l.logLevel=ye.ERROR;const d=new Iae(i,Ys,n,s,o,a),h=new Dae(d,u),f=new Cae(h,u,c,l),p=new xae(r,f,c,u,l);return function yae(t){const e=It(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ve(VI,"0.3.11"),ve(VI,"0.3.11","esm2017")}();const Lae="/firebase-messaging-sw.js",Uae="/firebase-cloud-messaging-push-scope",B5="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$5="google.c.a.c_id",Bae="google.c.a.c_l",$ae="google.c.a.ts",jae="google.c.a.e";var Fc=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Fc||(Fc={})),Fc))();function ds(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hae(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const zI="fcm_token_details_db",j5="fcm_token_object_Store";function zae(t){return WI.apply(this,arguments)}function WI(){return WI=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zI))return null;let e=null;return(yield vg(zI,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(j5))return;const c=a.objectStore(j5),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ds(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ds(d.auth),p256dh:ds(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ds(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ds(d.auth),p256dh:ds(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ds(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield hw(zI),yield hw("fcm_vapid_details_db"),yield hw("undefined"),Wae(e)?e:null;var r}),WI.apply(this,arguments)}function Wae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ra="firebase-messaging-store";let qI=null;function KI(){return qI||(qI=vg("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ra)}})),qI}function H5(t){return QI.apply(this,arguments)}function QI(){return QI=m(function*(t){const e=ZI(t),r=yield(yield KI()).transaction(Ra).objectStore(Ra).get(e);if(r)return r;{const i=yield zae(t.appConfig.senderId);if(i)return yield YI(t,i),i}}),QI.apply(this,arguments)}function YI(t,e){return JI.apply(this,arguments)}function JI(){return JI=m(function*(t,e){const n=ZI(t),i=(yield KI()).transaction(Ra,"readwrite");return yield i.objectStore(Ra).put(e,n),yield i.done,e}),JI.apply(this,arguments)}function Qae(t){return XI.apply(this,arguments)}function XI(){return XI=m(function*(t){const e=ZI(t),r=(yield KI()).transaction(Ra,"readwrite");yield r.objectStore(Ra).delete(e),yield r.done}),XI.apply(this,arguments)}function ZI({appConfig:t}){return t.appId}const dn=new Kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jae(t,e){return eb.apply(this,arguments)}function eb(){return eb=m(function*(t,e){var n;const r=yield ib(t),i=z5(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(rb(t.appConfig),s)).json()}catch(a){throw dn.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw dn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw dn.create("token-subscribe-no-token");return o.token}),eb.apply(this,arguments)}function Xae(t,e){return tb.apply(this,arguments)}function tb(){return tb=m(function*(t,e){var n;const r=yield ib(t),i=z5(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${rb(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw dn.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw dn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw dn.create("token-update-no-token");return o.token}),tb.apply(this,arguments)}function G5(t,e){return nb.apply(this,arguments)}function nb(){return nb=m(function*(t,e){var n;const i={method:"DELETE",headers:yield ib(t)};try{const o=yield(yield fetch(`${rb(t.appConfig)}/${e}`,i)).json();if(o.error)throw dn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw dn.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}}),nb.apply(this,arguments)}function rb({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function ib(t){return sb.apply(this,arguments)}function sb(){return sb=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),sb.apply(this,arguments)}function z5({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==B5&&(i.web.applicationPubKey=r),i}function eue(t){return ob.apply(this,arguments)}function ob(){return ob=m(function*(t){const e=yield nue(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ds(e.getKey("auth")),p256dh:ds(e.getKey("p256dh"))},r=yield H5(t.firebaseDependencies);if(r){if(rue(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?tue(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield G5(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return q5(t.firebaseDependencies,n)}return q5(t.firebaseDependencies,n)}),ob.apply(this,arguments)}function W5(t){return ab.apply(this,arguments)}function ab(){return ab=m(function*(t){const e=yield H5(t.firebaseDependencies);e&&(yield G5(t.firebaseDependencies,e.token),yield Qae(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ab.apply(this,arguments)}function tue(t,e){return ub.apply(this,arguments)}function ub(){return ub=m(function*(t,e){try{const n=yield Xae(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield YI(t.firebaseDependencies,r),n}catch(n){throw yield W5(t),n}}),ub.apply(this,arguments)}function q5(t,e){return cb.apply(this,arguments)}function cb(){return cb=m(function*(t,e){const r={token:yield Jae(t,e),createTime:Date.now(),subscriptionOptions:e};return yield YI(t,r),r.token}),cb.apply(this,arguments)}function nue(t,e){return lb.apply(this,arguments)}function lb(){return lb=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hae(e)})}),lb.apply(this,arguments)}function rue(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function K5(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function iue(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function sue(t,e){!e.data||(t.data=e.data)}(e,t),function oue(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function aue(t){return"object"==typeof t&&!!t&&$5 in t}function Q5(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function db(t){return dn.create("missing-app-config-values",{valueName:t})}Q5("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Q5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cue{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uue(t){if(!t||!t.options)throw db("App Configuration Object");if(!t.name)throw db("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw db(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Y5(t){return hb.apply(this,arguments)}function hb(){return hb=m(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(Lae,{scope:Uae}),t.swRegistration.update().catch(()=>{})}catch(n){throw dn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}}),hb.apply(this,arguments)}function lue(t,e){return fb.apply(this,arguments)}function fb(){return fb=m(function*(t,e){if(!e&&!t.swRegistration&&(yield Y5(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");t.swRegistration=e}}),fb.apply(this,arguments)}function due(t,e){return pb.apply(this,arguments)}function pb(){return pb=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=B5)}),pb.apply(this,arguments)}function gb(){return gb=m(function*(t,e){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield due(t,e?.vapidKey),yield lue(t,e?.serviceWorkerRegistration),eue(t)}),gb.apply(this,arguments)}function hue(t,e,n){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e,n){const r=fue(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[$5],message_name:n[Bae],message_time:n[$ae],message_device_time:Math.floor(Date.now()/1e3)})}),mb.apply(this,arguments)}function fue(t){switch(t){case Fc.NOTIFICATION_CLICKED:return"notification_open";case Fc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _b(){return _b=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Fc.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(K5(n)):t.onMessageHandler.next(K5(n)));const r=n.data;aue(r)&&"1"===r[jae]&&(yield hue(t,n.messageType,r))}),_b.apply(this,arguments)}const X5="@firebase/messaging",gue=t=>{const e=new cue(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function pue(t,e){return _b.apply(this,arguments)}(e,n)),e},mue=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function J5(t,e){return gb.apply(this,arguments)}(e,r)}};function e8(){return yb.apply(this,arguments)}function yb(){return(yb=m(function*(){try{yield Ju()}catch{return!1}return typeof window<"u"&&qs()&&fg()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function wue(t=rs()){return e8().then(e=>{if(!e)throw dn.create("unsupported-browser")},e=>{throw dn.create("indexed-db-unsupported")}),Ar(It(t),"messaging").getImmediate()}!function _ue(){Nt(new bt("messaging",gue,"PUBLIC")),Nt(new bt("messaging-internal",mue,"PRIVATE")),ve(X5,"0.9.16"),ve(X5,"0.9.16","esm2017")}();const Om="analytics",Cue="firebase_id",bue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",t8="https://www.googletagmanager.com/gtag/js",hn=new Ks("@firebase/analytics");function n8(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Tue(t,e){const n=document.createElement("script");n.src=`${t8}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Sue(t,e,n,r,i,s){return Cb.apply(this,arguments)}function Cb(){return Cb=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield n8(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){hn.error(a)}t("config",i,s)}),Cb.apply(this,arguments)}function Aue(t,e,n,r,i){return Eb.apply(this,arguments)}function Eb(){return Eb=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield n8(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){hn.error(s)}}),Eb.apply(this,arguments)}function kue(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(t8))return e;return null}const gr=new Kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),r8=new class Oue{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fue(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Lue(t){return Ib.apply(this,arguments)}function Ib(){return Ib=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Fue(r)},s=bue.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),Ib.apply(this,arguments)}function Uue(t){return bb.apply(this,arguments)}function bb(){return bb=m(function*(t,e=r8,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw gr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $ue;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),i8({appId:r,apiKey:i,measurementId:s},o,a,e)}),bb.apply(this,arguments)}function i8(t,e,n){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=r8){var s,o;const{appId:a,measurementId:u}=t;try{yield Vue(r,e)}catch(c){if(u)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield Lue(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!Bue(l)){if(i.deleteThrottleMetadata(a),u)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?sw(n,i.intervalMillis,30):sw(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),hn.debug(`Calling attemptFetch again in ${d} millis`),i8(t,h,r,i)}}),Tb.apply(this,arguments)}function Vue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Bue(t){if(!(t instanceof dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class $ue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Db,Mb;function Sb(){return Sb=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),Sb.apply(this,arguments)}function s8(t){Mb=t}function o8(t){Db=t}function que(){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(){var t;if(!qs())return hn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ju()}catch(e){return hn.warn(gr.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0}),Nb.apply(this,arguments)}function Pb(){return Pb=m(function*(t,e,n,r,i,s,o){var a;const u=Uue(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>hn.error(f)),e.push(u);const c=que().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);kue()||Tue(s,l.measurementId),Mb&&(i("consent","default",Mb),s8(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Cue]=d),i("config",l.measurementId,h),Db&&(i("set",Db),o8(void 0)),l.measurementId}),Pb.apply(this,arguments)}class Que{constructor(e){this.app=e}_delete(){return delete hs[this.app.options.appId],Promise.resolve()}}let hs={},a8=[];const u8={};let l8,fs,Fm="dataLayer",Ob=!1;function Jue(t,e,n){!function Yue(){const t=[];if(hg()&&t.push("This is a browser extension environment."),fg()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gr.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}();const r=t.options.appId;if(!r)throw gr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gr.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hs[r])throw gr.create("already-exists",{id:r});if(!Ob){!function Due(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Fm);const{wrappedGtag:s,gtagCore:o}=function Rue(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function xue(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield Aue(t,e,n,a,u):"config"===o?yield Sue(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){hn.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(hs,a8,u8,Fm,"gtag");fs=s,l8=o,Ob=!0}return hs[r]=function Kue(t,e,n,r,i,s,o){return Pb.apply(this,arguments)}(t,a8,u8,e,l8,Fm,n),new Que(t)}function Zue(){return Fb.apply(this,arguments)}function Fb(){return(Fb=m(function*(){if(hg()||!fg()||!qs())return!1;try{return yield Ju()}catch{return!1}})).apply(this,arguments)}const d8="@firebase/analytics";!function tce(){Nt(new bt(Om,(e,{options:n})=>Jue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Nt(new bt("analytics-internal",function t(e){try{const n=e.getProvider(Om).getImmediate();return{logEvent:(r,i,s)=>function ece(t,e,n,r){t=It(t),function jue(t,e,n,r,i){return Sb.apply(this,arguments)}(fs,hs[t.app.options.appId],e,n,r).catch(i=>hn.error(i))}(n,r,i,s)}}catch(n){throw gr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ve(d8,"0.8.0"),ve(d8,"0.8.0","esm2017")}();class nce extends nr{constructor(e,n){super()}schedule(e,n=0){return this}}const Lm={setInterval(t,e,...n){const{delegate:r}=Lm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Lm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class f8 extends nce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Lm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Lm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ka(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const p8={now:()=>(p8.delegate||Date).now(),delegate:void 0};class gh{constructor(e,n=gh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}gh.now=p8.now;class g8 extends gh{constructor(e,n=gh.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sce=new class ice extends g8{}(class rce extends f8{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),oce=new g8(f8),bi=new Rl("7.4.1"),Lb="__angularfire_symbol__analyticsIsSupportedValue",Ub="__angularfire_symbol__analyticsIsSupported",Vb="__angularfire_symbol__remoteConfigIsSupportedValue",Bb="__angularfire_symbol__remoteConfigIsSupported",$b="__angularfire_symbol__messagingIsSupportedValue",jb="__angularfire_symbol__messagingIsSupported";globalThis[Ub]||(globalThis[Ub]=Zue().then(t=>globalThis[Lb]=t).catch(()=>globalThis[Lb]=!1)),globalThis[jb]||(globalThis[jb]=e8().then(t=>globalThis[$b]=t).catch(()=>globalThis[$b]=!1)),globalThis[Bb]||(globalThis[Bb]=Fae().then(t=>globalThis[Vb]=t).catch(()=>globalThis[Vb]=!1));const Hb=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,Um={async:()=>globalThis[jb],sync:()=>{const t=globalThis[$b];if(void 0===t)throw new Error(Hb("Messaging"));return t}},Vm={async:()=>globalThis[Bb],sync:()=>{const t=globalThis[Vb];if(void 0===t)throw new Error(Hb("RemoteConfig"));return t}};function ps(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const gs=(t,e)=>{const n=e?[e]:e3(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Lc(){}class m8{constructor(e,n=sce){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class ace{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lc,{},Lc,Lc)),n.pipe(tn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new m8(Zone.current)),this.insideAngular=n.run(()=>new m8(Zone.current,oce)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(V(Re))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ka(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function uce(t){return ka().ngZone.runOutsideAngular(()=>t())}function Ma(t){return ka().ngZone.run(()=>t())}function cce(t){return ka(),function lce(t){return function(n){return(n=n.lift(new ace(t.ngZone))).pipe(mf(t.outsideAngular),gf(t.insideAngular))}}(ka())(t)}const dce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ma(()=>t.apply(void 0,r))},Un=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ma(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lc,{},Lc,Lc)))),r[s]=dce(r[s],n));const i=uce(()=>t.apply(this,r));if(!e){if(i instanceof Ye){const s=ka();return i.pipe(mf(s.outsideAngular),gf(s.insideAngular))}return Ma(()=>i)}return i instanceof Ye?i.pipe(cce):i instanceof Promise?Ma(()=>new Promise((s,o)=>i.then(a=>Ma(()=>s(a)),a=>Ma(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ma(()=>i)};class xr{constructor(e){return e}}class _s{constructor(){return e3()}}const Gb=new z("angularfire2._apps"),fce={provide:xr,useFactory:function hce(t){return t&&1===t.length?t[0]:new xr(rs())},deps:[[new Ce,Gb]]},pce={provide:_s,deps:[[new Ce,Gb]]};function gce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xr(r)}}let mce=(()=>{class t{constructor(n){ve("angularfire",bi.full,"core"),ve("angularfire",bi.full,"app"),ve("angular",pk.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(V(Wo))},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[fce,pce]}),t})();function _ce(t,...e){return{ngModule:mce,providers:[{provide:Gb,useFactory:gce(t),multi:!0,deps:[Re,ht,ms,...e]}]}}const yce=Un(xte,!0),_8=new Map,vce={activated:!1,tokenObservers:[]},wce={initialized:!1,enabled:!1};function Kt(t){return _8.get(t)||vce}function Yr(t,e){_8.set(t,e)}function Bm(){return wce}class Tce{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Yu,yield function Dce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Yu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vn=new Kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function v8(t){if(!Kt(t).activated)throw Vn.create("use-before-activation",{appName:t.name})}function qb(t,e){return Kb.apply(this,arguments)}function Kb(){return Kb=m(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw Vn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw Vn.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw Vn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}),Kb.apply(this,arguments)}function Rce(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const mh="firebase-app-check-store";let Hm=null;function C8(){return Hm||(Hm=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(Vn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(mh,{keyPath:"compositeKey"})}}catch(r){e(Vn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),Hm)}function Qb(){return Qb=m(function*(t,e){const r=(yield C8()).transaction(mh,"readwrite"),s=r.objectStore(mh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Vn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),Qb.apply(this,arguments)}const _h=new Ks("@firebase/app-check");function T8(t,e){return qs()?function Pce(t,e){return function E8(t,e){return Qb.apply(this,arguments)}(function b8(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{_h.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function D8(){return Bm().enabled}function S8(){return Zb.apply(this,arguments)}function Zb(){return Zb=m(function*(){const t=Bm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Zb.apply(this,arguments)}const Bce={error:"UNKNOWN_ERROR"};function $ce(t){return cg.encodeString(JSON.stringify(t),!1)}function Gm(t){return eT.apply(this,arguments)}function eT(){return eT=m(function*(t,e=!1){const n=t.app;v8(n);const r=Kt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&zm(u)&&(i=u)}if(!e&&i&&zm(i))return{token:i.token};let a,o=!1;if(D8()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qb(Rce(n,yield S8()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield T8(n,u),Yr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?_h.warn(u.message):_h.error(u),s=u}return i?(a={token:i.token},Yr(n,Object.assign(Object.assign({},r),{token:i})),yield T8(n,i)):a=Hce(s),o&&x8(n,a),a}),eT.apply(this,arguments)}function nT(t,e){const n=Kt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Yr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function A8(t){const{app:e}=t,n=Kt(e);let r=n.tokenRefresher;r||(r=function jce(t){const{app:e}=t;return new Tce(m(function*(){let r;if(r=Kt(e).token?yield Gm(t,!0):yield Gm(t),r.error)throw r.error}),()=>!0,()=>{const n=Kt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Yr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function x8(t,e){const n=Kt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function zm(t){return t.expireTimeMillis-Date.now()>0}function Hce(t){return{token:$ce(Bce),error:t}}class Gce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Kt(this.app);for(const n of e)nT(this.app,n.next);return Promise.resolve()}}const L8="app-check-internal";!function ile(){Nt(new bt("app-check",t=>function zce(t,e){return new Gce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(L8).initialize()})),Nt(new bt(L8,t=>function Wce(t){return{getToken:e=>Gm(t,e),addTokenListener:e=>function tT(t,e,n,r){const{app:i}=t,s=Kt(i),o={next:n,error:r,type:e};if(Yr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&zm(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),A8(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>A8(t))}(t,"INTERNAL",e),removeTokenListener:e=>nT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ve("@firebase/app-check","0.5.12")}();class Uc{constructor(){return gs("app-check")}}typeof window<"u"&&window;const cle=function V8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B8=new Kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$8=new Ks("@firebase/auth");function qm(t,...e){$8.logLevel<=ye.ERROR&&$8.error(`Auth (9.9.3): ${t}`,...e)}function Xn(t,...e){throw aT(t,...e)}function Ti(t,...e){return aT(t,...e)}function j8(t,e,n){const r=Object.assign(Object.assign({},cle()),{[e]:n});return new Kr("auth","Firebase",r).create(e,{appName:t.name})}function aT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B8.create(t,...e)}function k(t,e,...n){if(!t)throw aT(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qm(e),new Error(e)}function po(t,e){t||Di(e)}const H8=new Map;function ys(t){po(t instanceof Function,"Expected a class definition");let e=H8.get(t);return e?(po(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H8.set(t,e),e)}function yh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function G8(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,po(n>e,"Short delay should be less than long delay!"),this.isMobile=dg()||nw()}get(){return function hle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uT(){return"http:"===G8()||"https:"===G8()}()||hg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cT(t,e){po(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class z8{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ple={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gle=new vh(3e4,6e4);function Ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qt(t,e,n,r){return lT.apply(this,arguments)}function lT(){return lT=m(function*(t,e,n,r,i={}){return W8(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=fd(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),z8.fetch()(q8(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),lT.apply(this,arguments)}function W8(t,e,n){return dT.apply(this,arguments)}function dT(){return dT=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ple),e);try{const i=new mle(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wh(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wh(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw j8(t,l,c);Xn(t,l)}}catch(i){if(i instanceof dr)throw i;Xn(t,"network-request-failed")}}),dT.apply(this,arguments)}function vs(t,e,n,r){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t,e,n,r,i={}){const s=yield Qt(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),hT.apply(this,arguments)}function q8(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cT(t.config,i):`${t.config.apiScheme}://${i}`}class mle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),gle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=n,i}function fT(){return fT=m(function*(t,e){return Qt(t,"POST","/v1/accounts:delete",e)}),fT.apply(this,arguments)}function vle(t,e){return gT.apply(this,arguments)}function gT(){return gT=m(function*(t,e){return Qt(t,"POST","/v1/accounts:lookup",e)}),gT.apply(this,arguments)}function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mT(){return mT=m(function*(t,e=!1){const n=It(t),r=yield n.getIdToken(e),i=Km(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ch(_T(i.auth_time)),issuedAtTime:Ch(_T(i.iat)),expirationTime:Ch(_T(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),mT.apply(this,arguments)}function _T(t){return 1e3*Number(t)}function Km(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return qm("JWT malformed, contained fewer than 3 sections"),null;try{const s=tw(r);return s?JSON.parse(s):(qm("Failed to decode base64 JWT payload"),null)}catch(s){return qm("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ws(t,e){return yT.apply(this,arguments)}function yT(){return yT=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof dr&&Ele(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),yT.apply(this,arguments)}function Ele({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Ile{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class K8{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eh(t){return vT.apply(this,arguments)}function vT(){return vT=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ws(t,vle(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Dle(s.providerUserInfo):[],a=Tle(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new K8(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),vT.apply(this,arguments)}function wT(){return wT=m(function*(t){const e=It(t);yield Eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),wT.apply(this,arguments)}function Tle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dle(t){return t.map(e=>{var{providerId:n}=e,r=xx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CT(){return CT=m(function*(t,e){const n=yield W8(t,{},m(function*(){const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=q8(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",z8.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),CT.apply(this,arguments)}class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cle(t){const e=Km(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Sle(t,e){return CT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ih;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return Di("not implemented")}}function go(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ile(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K8(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ws(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function wle(t){return mT.apply(this,arguments)}(this,e)}reload(){return function ble(t){return wT.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Eh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ws(e,function _le(t,e){return fT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:T,isAnonymous:R,providerData:U,stsTokenManager:De}=n;k(y&&De,e,"internal-error");const pn=Ih.fromJSON(this.name,De);k("string"==typeof y,e,"internal-error"),go(d,e.name),go(h,e.name),k("boolean"==typeof T,e,"internal-error"),k("boolean"==typeof R,e,"internal-error"),go(f,e.name),go(p,e.name),go(g,e.name),go(_,e.name),go(v,e.name),go(b,e.name);const ri=new Na({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:pn,createdAt:v,lastLoginAt:b});return U&&Array.isArray(U)&&(ri.providerData=U.map(lf=>Object.assign({},lf))),_&&(ri._redirectEventId=_),ri}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ih;i.updateFromServerResponse(n);const s=new Na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eh(s),s})()}}const Q8=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Qm(t,e,n){return`firebase:${t}:${e}:${n}`}class Bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Na._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Bc(ys(Q8),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ys(Q8);const o=Qm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Na._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Bc(s,e,r)):new Bc(s,e,r)})()}}function Y8(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t7(e))return"Blackberry";if(n7(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||X8(e))&&!e.includes("edge/"))return"Chrome";if(e7(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function J8(t=$t()){return/firefox\//i.test(t)}function ET(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X8(t=$t()){return/crios\//i.test(t)}function Z8(t=$t()){return/iemobile/i.test(t)}function e7(t=$t()){return/android/i.test(t)}function t7(t=$t()){return/blackberry/i.test(t)}function n7(t=$t()){return/webos/i.test(t)}function Ym(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r7(t=$t()){return Ym(t)||e7(t)||n7(t)||t7(t)||/windows phone/i.test(t)||Z8(t)}function i7(t,e=[]){let n;switch(t){case"Browser":n=Y8($t());break;case"Worker":n=`${Y8($t())}-${t}`;break;default:n=t}return`${n}/JsCore/9.9.3/${e.length?e.join(","):"FirebaseCore-web"}`}class kle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Mle{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s7(this),this.idTokenSubscription=new s7(this),this.beforeStateQueue=new kle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B8,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){var r;try{yield Eh(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?It(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ys(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ys(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Bc.create(n,[ys(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Zn(t){return It(t)}class s7{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Dee(t,e){const n=new See(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cs(t,e){return OT.apply(this,arguments)}function OT(){return OT=m(function*(t,e){return vs(t,"POST","/v1/accounts:signInWithIdp",Ft(t,e))}),OT.apply(this,arguments)}class mo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xle extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Na._fromIdTokenResponse(e,r,i),o=h7(r);return new Rr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=h7(r);return new Rr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function h7(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class e_ extends dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new e_(e,n,r,i)}}function f7(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?e_._fromErrorAndOperation(t,s,e,r):s})}function GT(t,e){return zT.apply(this,arguments)}function zT(){return zT=m(function*(t,e,n=!1){const r=yield ws(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Rr._forOperation(t,"link",r)}),zT.apply(this,arguments)}function qT(){return qT=m(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield ws(t,f7(i,s,e,t),n);k(o.idToken,i,"internal-error");const a=Km(o.idToken);k(a,i,"internal-error");const{sub:u}=a;return k(t.uid===u,i,"user-mismatch"),Rr._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Xn(i,"user-mismatch"),o}}),qT.apply(this,arguments)}function KT(){return KT=m(function*(t,e,n=!1){const r="signIn",i=yield f7(t,r,e),s=yield Rr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),KT.apply(this,arguments)}const r_="__sak";class y7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(r_,"1"),this.storage.removeItem(r_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yde=(()=>{class t extends y7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gde(){const t=$t();return ET(t)||Ym(t)}()&&function Rle(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=r7(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function xle(){return zF()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),v7=(()=>{class t extends y7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let wde=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function vde(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function ID(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Cde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=ID("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Lt(){return window}function bD(){return typeof Lt().WorkerGlobalScope<"u"&&"function"==typeof Lt().importScripts}function TD(){return(TD=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const w7="firebaseLocalStorageDb",i_="firebaseLocalStorage",C7="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function s_(t,e){return t.transaction([i_],e?"readwrite":"readonly").objectStore(i_)}function DD(){const t=indexedDB.open(w7,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(i_,{keyPath:C7})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(i_)?e(r):(r.close(),yield function Sde(){const t=indexedDB.deleteDatabase(w7);return new Sh(t).toPromise()}(),e(yield DD()))}))})}function E7(t,e,n){return SD.apply(this,arguments)}function SD(){return SD=m(function*(t,e,n){const r=s_(t,!0).put({[C7]:e,value:n});return new Sh(r).toPromise()}),SD.apply(this,arguments)}function AD(){return AD=m(function*(t,e){const n=s_(t,!1).get(e),r=yield new Sh(n).toPromise();return void 0===r?null:r.value}),AD.apply(this,arguments)}function I7(t,e){const n=s_(t,!0).delete(e);return new Sh(n).toPromise()}const kde=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield DD()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return bD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=wde._getInstance(function Tde(){return bD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Ide(){return TD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Cde(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function bde(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield DD();return yield E7(n,r_,"1"),yield I7(n,r_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>E7(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Ade(t,e){return AD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>I7(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=s_(o,!1).getAll();return new Sh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function T7(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Oa(t,e){return e?ys(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}T7("rcb"),new vh(3e4,6e4);class UD extends class Ole{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Kde(t){return function m7(t,e){return KT.apply(this,arguments)}(t.auth,new UD(t),t.bypassAuthState)}function Qde(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function g7(t,e){return qT.apply(this,arguments)}(n,new UD(t),t.bypassAuthState)}function Yde(t){return VD.apply(this,arguments)}function VD(){return VD=m(function*(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),GT(n,new UD(t),t.bypassAuthState)}),VD.apply(this,arguments)}new vh(2e3,1e4);const Ah=new Map;class Zde extends class Jde{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kde;case"linkViaPopup":case"linkViaRedirect":return Yde;case"reauthViaPopup":case"reauthViaRedirect":return Qde;default:Xn(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Ah.get(n.auth._key());if(!r){try{const s=(yield function ehe(t,e){return GD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ah.set(n.auth._key(),r)}return n.bypassAuthState||Ah.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function GD(){return GD=m(function*(t,e){const n=A7(e),r=S7(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),GD.apply(this,arguments)}function the(t,e){Ah.set(t._key(),e)}function S7(t){return ys(t._redirectPersistence)}function A7(t){return Qm("pendingRedirect",t.config.apiKey,t.name)}function x7(t,e){return JD.apply(this,arguments)}function JD(){return JD=m(function*(t,e,n=!1){const r=Zn(t),i=Oa(r,e),o=yield new Zde(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),JD.apply(this,arguments)}class ohe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ahe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M7(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M7(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(k7(e))}saveEventToCache(e){this.cachedEventUids.add(k7(e)),this.lastProcessedEventTime=Date.now()}}function k7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M7({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function uhe(t){return ZD.apply(this,arguments)}function ZD(){return ZD=m(function*(t,e={}){return Qt(t,"GET","/v1/projects",e)}),ZD.apply(this,arguments)}const che=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lhe=/^https?/;function eS(){return eS=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield uhe(t);for(const n of e)try{if(hhe(n))return}catch{}Xn(t,"unauthorized-domain")}),eS.apply(this,arguments)}function hhe(t){const e=yh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!lhe.test(n))return!1;if(che.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fhe=new vh(3e4,6e4);function N7(){const t=Lt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let a_=null;function ghe(t){return a_=a_||function phe(t){return new Promise((e,n)=>{var r,i,s;function o(){N7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N7(),n(Ti(t,"network-request-failed"))},timeout:fhe.get()})}if(null!==(i=null===(r=Lt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Lt().gapi)||void 0===s||!s.load){const a=T7("iframefcb");return Lt()[a]=()=>{gapi.load?o():n(Ti(t,"network-request-failed"))},function b7(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ode(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw a_=null,e})}(t),a_}const mhe=new vh(5e3,15e3),vhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},whe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Che(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cT(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ys},i=whe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fd(r).slice(1)}`}function tS(){return tS=m(function*(t){const e=yield ghe(t),n=Lt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:Che(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vhe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ti(t,"network-request-failed"),u=Lt().setTimeout(()=>{o(a)},mhe.get());function c(){Lt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),tS.apply(this,arguments)}const Ihe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class P7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O7(t,e,n,r,i,s){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ys,eventId:i};if(e instanceof mo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Xle){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Mhe({config:t}){return t.emulator?cT(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${fd(a).slice(1)}`}const nS="webStorageSupport",Phe=class Nhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v7,this._completeRedirectFn=x7,this._overrideRedirectResult=the}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;po(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=O7(e,n,r,yh(),i);return function Ahe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ihe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$t().toLowerCase();n&&(a=X8(c)?"_blank":n),J8(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Ale(t=$t()){var e;return Ym(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function xhe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new P7(null);const d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new P7(d)}(e,a,ID())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Ede(t){Lt().location.href=t}(O7(e,n,r,yh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(po(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Ehe(t){return tS.apply(this,arguments)}(e),i=new ohe(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nS,{type:nS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[nS];void 0!==o&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function dhe(t){return eS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r7()||ET()||Ym()}};var L7="@firebase/auth";class Ohe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Uhe(t=rs()){const e=Ar(t,"auth");return e.isInitialized()?e.getImmediate():function lle(t,e){const n=Ar(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(mg(n.getOptions(),e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Phe,persistence:[kde,yde,v7]})}!function Lhe(t){Nt(new bt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{k(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),k(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i7(t)},l=new Mle(a,u,c);return function dle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nt(new bt("auth-internal",e=>{const n=Zn(e.getProvider("auth").getImmediate());return new Ohe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ve(L7,"0.20.5",function Fhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ve(L7,"0.20.5","esm2017")}("Browser");class rS{constructor(e){return e}}class xh{constructor(){return gs("auth")}}const iS=new z("angularfire2.auth-instances");function Bhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new rS(r)}}const $he={provide:xh,deps:[[new Ce,iS]]},jhe={provide:rS,useFactory:function Vhe(t,e){const n=ps("auth",t,e);return n&&new rS(n)},deps:[[new Ce,iS],xr]};let Hhe=(()=>{class t{constructor(){ve("angularfire",bi.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[jhe,$he]}),t})();function Ghe(t,...e){return{ngModule:Hhe,providers:[{provide:iS,useFactory:Bhe(t),multi:!0,deps:[Re,ht,ms,_s,[new Ce,Uc],...e]}]}}const zhe=Un(Uhe,!0);var Whe={includeMetadataChanges:!1};function sS(t,e){return void 0===e&&(e=Whe),new Ye(function(n){var r=function woe(t,...e){var n,r,i;t=It(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||tI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(tI(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof _t)c=be(t.firestore,Ke),l=lc(t._key.path),u={next:d=>{e[o]&&e[o](function cI(t,e,n){const r=n.docs.get(e._key),i=new Da(t);return new Mc(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=be(t,bn);c=be(d.firestore,Ke),l=d._query;const h=new Da(c);u={next:f=>{e[o]&&e[o](new Nc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function l5(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Em(p),_=new wE(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function gE(t,e){return mE.apply(this,arguments)}(yield xc(d),_)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(m(function*(){return function _E(t,e){return yE.apply(this,arguments)}(yield xc(d),_)}))}}(function Ot(t){return t._firestoreClient||J6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Zhe(t,e){return void 0===e&&(e={}),function Xhe(t){return sS(t,{includeMetadataChanges:!0}).pipe(fe(function(e){return e.docs}))}(t).pipe(fe(function(n){return n.map(function(r){return function B7(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class u_{constructor(e){return e}}const G7="firestore",uS=new z("angularfire2.firestore-instances");function nfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new u_(r)}}const rfe={provide:class efe{constructor(){return gs(G7)}},deps:[[new Ce,uS]]},ife={provide:u_,useFactory:function tfe(t,e){const n=ps(G7,t,e);return n&&new u_(n)},deps:[[new Ce,uS],xr]};let sfe=(()=>{class t{constructor(){ve("angularfire",bi.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[ife,rfe]}),t})();function ofe(t,...e){return{ngModule:sfe,providers:[{provide:uS,useFactory:nfe(t),multi:!0,deps:[Re,ht,ms,_s,[new Ce,xh],[new Ce,Uc],...e]}]}}const z7=Un(Zhe,!0),afe=Un(noe,!0),ufe=Un(foe,!0),cfe=Un(goe,!0),dfe=(t,e)=>(t.push(e),t);function cS(){return yt((t,e)=>{(function lfe(t,e){return yt(RO(t,e,arguments.length>=2,!1,!0))})(dfe,[])(t).subscribe(e)})}const W7="firebasestorage.googleapis.com",q7="storageBucket";class ct extends dr{constructor(e,n){super(lS(e),`Firebase Storage: ${n} (${lS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}_codeEquals(e){return lS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function lS(t){return"storage/"+t}function dS(){return new ct("unknown","An unknown error occurred, please check the error payload for server response.")}function hS(t){return new ct("invalid-argument",t)}function Y7(){return new ct("app-deleted","The Firebase app was deleted.")}function kh(t){throw new ct("internal-error","Internal error: "+t)}class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(""===r.path)return r;throw function Cfe(t){return new ct("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(T){T.path_=decodeURIComponent(T.path)}const d=n.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===W7?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<y.length;T++){const R=y[T],U=R.regex.exec(e);if(U){let pn=U[R.indices.path];pn||(pn=""),r=new Bn(U[R.indices.bucket],pn),R.postModify(r);break}}if(null==r)throw function wfe(t){return new ct("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class Dfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c_(t){return"string"==typeof t||t instanceof String}function pS(t,e,n,r){if(r<e)throw hS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hS(`Invalid value for '${t}'. Expected ${n} or less.`)}function Es(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function X7(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var _o=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(_o||(_o={})),_o))();class Mfe{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function xfe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=dS();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?Y7():function K7(){return new ct("canceled","User canceled the upload/download.")}():function vfe(){return new ct("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new l_(!1,null,!0)):this.backoffId_=function Sfe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,u())},_)}function h(){s&&clearTimeout(s)}function f(_,...v){if(c)return void h();if(_)return h(),void l.call(null,_,...v);if(u()||o)return h(),void l.call(null,_,...v);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function g(_){p||(p=!0,h(),!c&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new l_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===_o.NO_ERROR,u=s.getStatus();if(!a||this.isRetryStatusCode_(u)){const l=s.getErrorCode()===_o.ABORT;return void r(!1,new l_(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new l_(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Afe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return n||i||s}}class l_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mS(t){let e;try{e=JSON.parse(t)}catch{return null}return function kfe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function r9(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Kfe(t,e){return e}class $n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Kfe}}let d_=null;function i9(t,e,n){const r=mS(e);return null===r?null:function Jfe(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function Yfe(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Bn(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}const s9="prefixes";class Si{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ai(t){if(!t)throw dS()}function $c(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function _fe(){return new ct("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function mfe(){return new ct("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function gfe(t){return new ct("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function yfe(t){return new ct("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r,i.serverResponse=r.serverResponse,i}}function rpe(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=Es(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,l=new Si(a,"GET",function tpe(t,e){return function n(r,i){const s=function epe(t,e,n){const r=mS(n);return null===r?null:function Zfe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[s9])for(const i of n[s9]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Bn(e,s));r.prefixes.push(o)}if(n.items)for(const i of n.items){const s=t._makeStorageReference(new Bn(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return Ai(null!==s),s}}(t,e.bucket),c);return l.urlParams=s,l.errorHandler=$c(e),l}class fpe extends class hpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw kh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xr(){return new fpe}class Fa{constructor(e,n){this._service=e,this._location=n instanceof Bn?n:Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fa(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r9(this._location.path)}get storage(){return this._service}get parent(){const e=function Wfe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Bn(this._location.bucket,e);return new Fa(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Tfe(t){return new ct("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function p9(t,e,n){return wS.apply(this,arguments)}function wS(){return wS=m(function*(t,e,n){const i=yield g9(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield p9(t,e,i.nextPageToken))}),wS.apply(this,arguments)}function g9(t,e){null!=e&&"number"==typeof e.maxResults&&pS("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=rpe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Xr)}function Dpe(t){t._throwIfRoot("getDownloadURL");const e=function ipe(t,e,n){const i=Es(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new Si(i,"GET",function npe(t,e){return function n(r,i){const s=i9(t,i,e);return Ai(null!==s),function Xfe(t,e,n,r){const i=mS(e);if(null===i||!c_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.fullPath;return Es("/b/"+o(t.bucket)+"/o/"+o(d),n,r)+X7({alt:"media",token:c})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=function Nh(t){const e=$c(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function pfe(t){return new ct("object-not-found","Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}(e),a}(t.storage,t._location,function Mh(){if(d_)return d_;const t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));const n=new $n("name");n.xform=function e(s,o){return function Qfe(t){return!c_(t)||t.length<2?t:r9(t)}(o)},t.push(n);const i=new $n("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),d_=t,d_}());return t.storage.makeRequestWithTokens(e,Xr).then(n=>{if(null===n)throw function bfe(){return new ct("no-download-url","The given file does not have any download URLs.")}();return n})}function _9(t,e){if(t instanceof CS){const n=t;if(null==n._bucket)throw function Efe(){return new ct("no-default-bucket","No default bucket found. Did you set the '"+q7+"' property when initializing the app?")}();const r=new Fa(n,n._bucket);return null!=e?_9(r,e):r}return void 0!==e?function m9(t,e){const n=function qfe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Bn(t._location.bucket,n);return new Fa(t.storage,r)}(t,e):t}function y9(t,e){const n=e?.[q7];return null==n?null:Bn.makeFromBucketSpec(n,t)}class CS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=W7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bn.makeFromBucketSpec(i,this._host):y9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bn.makeFromBucketSpec(this._url,e):y9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return m(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return m(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fa(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new Dfe(Y7());{const s=function Lfe(t,e,n,r,i,s){const o=X7(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function Ofe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Nfe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function Pfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function Ffe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Mfe(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return m(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const v9="@firebase/storage",C9="storage";function Mpe(t){return function Ipe(t){const e={prefixes:[],items:[]};return p9(t,e).then(()=>e)}(t=It(t))}function Npe(t){return Dpe(t=It(t))}function Ppe(t,e){return function Rpe(t,e){if(e&&function Ape(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof CS)return function xpe(t,e){return new Fa(t,e)}(t,e);throw hS("To use ref(service, url), the first argument must be a Storage instance.")}return _9(t,e)}(t=It(t),e)}function Ope(t=rs(),e){return Ar(t=It(t),C9).getImmediate({identifier:e})}function Fpe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new CS(n,r,i,e,Ys)}!function Lpe(){Nt(new bt(C9,Fpe,"PUBLIC").setMultipleInstances(!0)),ve(v9,"0.9.9",""),ve(v9,"0.9.9","esm2017")}();class p_{constructor(e){return e}}const E9="storage",ES=new z("angularfire2.storage-instances");function Bpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new p_(r)}}const $pe={provide:class Upe{constructor(){return gs(E9)}},deps:[[new Ce,ES]]},jpe={provide:p_,useFactory:function Vpe(t,e){const n=ps(E9,t,e);return n&&new p_(n)},deps:[[new Ce,ES],xr]};let Hpe=(()=>{class t{constructor(){ve("angularfire",bi.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[jpe,$pe]}),t})();function Gpe(t,...e){return{ngModule:Hpe,providers:[{provide:ES,useFactory:Bpe(t),multi:!0,deps:[Re,ht,ms,_s,[new Ce,xh],[new Ce,Uc],...e]}]}}const I9=Un(Npe,!0),zpe=Un(Ope,!0),Wpe=Un(Mpe,!0),IS=Un(Ppe,!0);let b9=(()=>{class t{constructor(n,r){this._firestore=n,this._storage=r,this._collection=function Jse(t,e,...n){if(t=It(t),function eI(t,e,n){if(!n)throw new S(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof dh){const r=Ee.fromString(e,...n);return K6(r),new Ii(t,null,r)}{if(!(t instanceof _t||t instanceof Ii))throw new S(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return K6(r),new Ii(t.firestore,null,r)}}(this._firestore,"catalog"),this._snapshot=this._collection.withConverter({fromFirestore:i=>i.data(),toFirestore:i=>i})}getAll(){return z7(this._collection).pipe(_i(),qr(n=>n.map(r=>{const i=r.img.url,s=Object.keys(i);return s.some(o=>!o)?W(r):Xe(s).pipe(Je(o=>Xe(I9(IS(this._storage,i[o]))).pipe(Je(a=>i[o]=a))),cS(),Je(()=>W(r)))})),Je(n=>n),cS(),Yi(n=>(console.log(n),oi)))}getAllImages(){const n=IS(this._storage,"images/catalog");return Xe(Wpe(n)).pipe(Je(r=>r.items.map(i=>i.fullPath)),Je(r=>Xe(I9(IS(this._storage,r)))),cS())}getFeatured(){const n=ufe(this._snapshot,cfe("isFeatured","==",!0));return z7(n).pipe(_i())}}return t.\u0275fac=function(n){return new(n||t)(V(u_),V(p_))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class T9{}class D9{}class bs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof bs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new bs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof bs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class qpe{encodeKey(e){return S9(e)}encodeValue(e){return S9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Qpe=/%(\d[a-f0-9])/gi,Ype={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S9(t){return encodeURIComponent(t).replace(Qpe,(e,n)=>Ype[n]??e)}function g_(t){return`${t}`}class yo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qpe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Kpe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(g_):[g_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new yo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(g_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(g_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Jpe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function A9(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function x9(t){return typeof Blob<"u"&&t instanceof Blob}function R9(t){return typeof FormData<"u"&&t instanceof FormData}class Ph{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Xpe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bs),this.context||(this.context=new Jpe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new yo,this.urlWithParams=n}serializeBody(){return null===this.body?null:A9(this.body)||x9(this.body)||R9(this.body)||function Zpe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R9(this.body)?null:x9(this.body)?this.body.type||null:A9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ph(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class bS{constructor(e,n=200,r="OK"){this.headers=e.headers||new bs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class TS extends bS{constructor(e={}){super(e),this.type=St.ResponseHeader}clone(e={}){return new TS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class m_ extends bS{constructor(e={}){super(e),this.type=St.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new m_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class k9 extends bS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function DS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let SS=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ph)s=n;else{let u,c;u=i.headers instanceof bs?i.headers:new bs(i.headers),i.params&&(c=i.params instanceof yo?i.params:new yo({fromObject:i.params})),s=new Ph(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(Hs(u=>this.handler.handle(u)));if(n instanceof Ph||"events"===i.observe)return o;const a=o.pipe(Qi(u=>u instanceof m_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(fe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(fe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(fe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(fe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new yo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,DS(i,r))}post(n,r,i={}){return this.request("POST",n,DS(i,r))}put(n,r,i={}){return this.request("PUT",n,DS(i,r))}}return t.\u0275fac=function(n){return new(n||t)(V(T9))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class M9{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const N9=new z("HTTP_INTERCEPTORS");let ege=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const tge=/^\)\]\}',?\n/;let P9=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ye(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new bs(i.getAllResponseHeaders()),g=function nge(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new TS({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:_}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let b=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof v){const y=v;v=v.replace(tge,"");try{v=""!==v?JSON.parse(v):null}catch(T){v=y,b&&(b=!1,v={error:T,text:v})}}b?(r.next(new m_({body:v,headers:f,status:p,statusText:g,url:_||void 0})),r.complete()):r.error(new k9({error:v,headers:f,status:p,statusText:g,url:_||void 0}))},c=f=>{const{url:p}=a(),g=new k9({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:St.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:St.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:St.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(V(oO))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const AS=new z("XSRF_COOKIE_NAME"),xS=new z("XSRF_HEADER_NAME");class O9{}let rge=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=qP(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(V(Nn),V(Wo),V(AS))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),RS=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(V(O9),V(xS))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),ige=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(N9,[]);this.chain=r.reduceRight((i,s)=>new M9(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(V(D9),V(ht))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),sge=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:RS,useClass:ege}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:AS,useValue:n.cookieName}:[],n.headerName?{provide:xS,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[RS,{provide:N9,useExisting:RS,multi:!0},{provide:O9,useClass:rge},{provide:AS,useValue:"XSRF-TOKEN"},{provide:xS,useValue:"X-XSRF-TOKEN"}]}),t})(),oge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[SS,{provide:T9,useClass:ige},P9,{provide:D9,useExisting:P9}],imports:[sge.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})(),__=(()=>{class t{constructor(n){this.http=n,this.data={}}use(n){return this.http.get(`assets/i18n/${n||"en"}.json`).subscribe({next:i=>this.data=i||{},error:()=>this.data={}})}}return t.\u0275fac=function(n){return new(n||t)(V(SS))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ts=(()=>{class t{constructor(n){this.translate=n}transform(n){return this.translate.data[n]||n}}return t.\u0275fac=function(n){return new(n||t)(H(__,16))},t.\u0275pipe=mn({name:"translate",type:t,pure:!1}),t})();function age(t,e){if(1&t&&(ci(),ks(),E(0,"span"),x(1),Ge(2,"translate"),I()),2&t){const n=en();L(1),ft(ze(2,1,n.textContent))}}const uge=function(){return["cart"]};let F9=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-cart-button"]],inputs:{textContent:"textContent"},decls:4,vars:3,consts:[[3,"routerLink"],["width","21","height","18","fill","currentColor"],["d","M20.19 6.86h-3.55L13.19.38c-.2-.38-.61-.48-1.02-.28-.4.19-.5.57-.3.95l3.14 5.8H5.78l3.15-5.8c.2-.38 0-.76-.3-.95A.82.82 0 007.6.38L4.16 6.86H.8c-.4 0-.81.28-.81.76 0 .38.3.76.81.76h.2l.92 2.86c-.2.1-.3.28-.3.57 0 .38.3.67.7.67L4.06 18h12.88l1.73-5.52c.4 0 .7-.29.7-.67 0-.2-.1-.48-.3-.57L20 8.38h.2c.4 0 .81-.28.81-.76s-.4-.76-.81-.76zm-4.57 9.62H5.07l-1.21-4.1h13.08l-1.32 4.1zm1.63-5.53H3.35L2.54 8.3h15.52l-.81 2.66z"],[4,"ngIf"]],template:function(n,r){1&n&&(E(0,"a",0),ci(),E(1,"svg",1),G(2,"path",2),I(),Zt(3,age,3,3,"span",3),I()),2&n&&(pe("routerLink",mi(2,uge)),L(3),pe("ngIf",!!r.textContent))},dependencies:[ju,zs,Ts],styles:["svg[_ngcontent-%COMP%]{color:#0003;margin-right:-4px}svg[_ngcontent-%COMP%]:hover{color:#63d1bb}svg[_ngcontent-%COMP%]:active{color:#63d1bb4d}@media (min-width: 768px){svg[_ngcontent-%COMP%]{padding-bottom:3px;margin-right:-2px}}@media (min-width: 1150px){svg[_ngcontent-%COMP%]{margin-right:5px}}"]}),t})();function cge(t,e){if(1&t&&G(0,"source",7),2&t){const n=en(2);zn("srcset","assets/img/",n.fileName,"-desktop@1x.webp 1x, assets/img/",n.fileName,"-desktop@2x.webp 2x",dt)}}function lge(t,e){if(1&t&&G(0,"source",8),2&t){const n=en(2);zn("srcset","assets/img/",n.fileName,"-tablet@1x.webp 1x, assets/img/",n.fileName,"-tablet@2x.webp 2x",dt)}}function dge(t,e){if(1&t&&G(0,"source",9),2&t){const n=en(2);zn("srcset","assets/img/",n.fileName,"-mobile@1x.webp 1x, assets/img/",n.fileName,"-mobile@2x.webp 2x",dt)}}function hge(t,e){if(1&t&&(E(0,"picture"),Zt(1,cge,1,2,"source",1),Zt(2,lge,1,2,"source",2),Zt(3,dge,1,2,"source",3),G(4,"source",4)(5,"source",5)(6,"img",6),I()),2&t){const n=en();L(1),pe("ngIf",n.includeWebp),L(1),pe("ngIf",n.includeWebp),L(1),pe("ngIf",n.includeWebp),L(1),zn("srcset","assets/img/",n.fileName,"-desktop@1x.jpg 1x, assets/img/",n.fileName,"-desktop@2x.jpg 2x",dt),L(1),zn("srcset","assets/img/",n.fileName,"-tablet@1x.jpg 1x, assets/img/",n.fileName,"-tablet@2x.jpg 2x",dt),L(1),ku("src","assets/img/",n.fileName,"-mobile@1x.jpg",dt)("srcset","assets/img/",n.fileName,"-mobile@2x.jpg 2x",dt),br("width",n.width),br("height",n.height),br("alt",n.altText)}}function fge(t,e){if(1&t&&G(0,"source",7),2&t){const n=en(2);zn("srcset","assets/img/catalog/",n.fileName,"-desktop.webp 1x, assets/img/catalog/",n.fileName,"-desktop@2x.webp 2x",dt)}}function pge(t,e){if(1&t&&G(0,"source",8),2&t){const n=en(2);zn("srcset","assets/img/catalog/",n.fileName,"-tablet.webp 1x, assets/img/catalog/",n.fileName,"-tablet@2x.webp 2x",dt)}}function gge(t,e){if(1&t&&G(0,"source",9),2&t){const n=en(2);zn("srcset","assets/img/catalog/",n.fileName,"-mobile.webp 1x, assets/img/catalog/",n.fileName,"-mobile@2x.webp 2x",dt)}}function mge(t,e){if(1&t&&(E(0,"picture"),Zt(1,fge,1,2,"source",1),Zt(2,pge,1,2,"source",2),Zt(3,gge,1,2,"source",3),G(4,"source",4)(5,"source",5)(6,"img",10),I()),2&t){const n=en();L(1),pe("ngIf",n.includeWebp),L(1),pe("ngIf",n.includeWebp),L(1),pe("ngIf",n.includeWebp),L(1),zn("srcset","assets/img/catalog/",n.fileName,"-desktop.jpg 1x, assets/img/catalog/",n.fileName,"-desktop@2x.jpg 2x",dt),L(1),zn("srcset","assets/img/catalog/",n.fileName,"-tablet.jpg 1x, assets/img/catalog/",n.fileName,"-tablet@2x.jpg 2x",dt),L(1),ku("src","assets/img/catalog/",n.fileName,"-mobile.jpg",dt)("srcset","assets/img/catalog/",n.fileName,"-mobile@2x.jpg 2x",dt),br("width",n.width),br("height",n.height),br("alt",n.altText)}}function _ge(t,e){if(1&t&&(E(0,"picture"),G(1,"source",4)(2,"source",5)(3,"img",10),I()),2&t){const n=en();L(1),zn("srcset","",n.imageUrls.desktop," 1x, ",n.imageUrls.desktopx2," 2x",dt),L(1),zn("srcset","",n.imageUrls.tablet," 1x, ",n.imageUrls.tabletx2," 2x",dt),L(1),br("src",n.imageUrls.mobile,dt),ku("srcset","",n.imageUrls.mobilex2," 2x",dt),br("width",n.width),br("height",n.height),br("alt",n.altText)}}let L9=(()=>{class t{constructor(){this._height="195",this._width="260"}set isFeatured(n){this._isFeatured=n||!0}get isFeatured(){return this._isFeatured}set height(n){this._height=n.toString()}get height(){return this._height}set width(n){this._width=n.toString()}get width(){return this._width}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-picture"]],inputs:{imageUrls:"imageUrls",fileName:"fileName",altText:"altText",includeWebp:"includeWebp",isFeatured:"isFeatured",height:"height",width:"width"},decls:3,vars:3,consts:[[4,"ngIf"],["type","image/webp","media","(min-width: 1150px)",3,"srcset",4,"ngIf"],["type","image/webp","media","(min-width: 768px)",3,"srcset",4,"ngIf"],["type","image/webp",3,"srcset",4,"ngIf"],["media","(min-width: 1150px)",3,"srcset"],["media","(min-width: 768px)",3,"srcset"],[1,"featured-item__image",3,"src","srcset","width","height","alt"],["type","image/webp","media","(min-width: 1150px)",3,"srcset"],["type","image/webp","media","(min-width: 768px)",3,"srcset"],["type","image/webp",3,"srcset"],[1,"catalog-item__image",3,"src","srcset","width","height","alt"]],template:function(n,r){1&n&&(Zt(0,hge,7,12,"picture",0),Zt(1,mge,7,12,"picture",0),Zt(2,_ge,4,9,"picture",0)),2&n&&(pe("ngIf",r.isFeatured&&!r.imageUrls),L(1),pe("ngIf",!r.isFeatured&&!r.imageUrls),L(1),pe("ngIf",r.imageUrls))},dependencies:[ju],styles:[".catalog-item__image[_ngcontent-%COMP%]{background-image:url(img_filler.4154060c238a7052.svg);background-position:center}img[alt][_ngcontent-%COMP%]:after{display:block;color:transparent;content:attr(alt)}"]}),t})();const yge=function(t){return[t]},vge=function(t){return["catalog",t]};let wge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-product-card"]],inputs:{product:"product"},decls:17,vars:22,consts:[[1,"catalog-item"],[1,"catalog-item__link",3,"routerLink"],[3,"imageUrls","altText"],[1,"catalog-item__details"],[1,"catalog-item__name"],[3,"routerLink"],[1,"catalog-item__description"],[1,"catalog-item__bottom"],[1,"catalog-item__price"],["aria-label","Add to cart"]],template:function(n,r){1&n&&(E(0,"li",0)(1,"a",1),G(2,"app-picture",2),I(),E(3,"div",3)(4,"h3",4)(5,"a",5),x(6),I()(),E(7,"p",6),x(8),Ge(9,"translate"),Ge(10,"lowercase"),Ge(11,"translate"),I(),E(12,"div",7)(13,"p",8),x(14),Ge(15,"currency"),I(),G(16,"app-cart-button",9),I()()()),2&n&&(L(1),pe("routerLink",_p(18,yge,r.product.id)),L(1),pe("imageUrls",r.product.img.url)("altText",r.product.img.alt),L(3),pe("routerLink",_p(20,vge,r.product.id)),L(1),ft(r.product.name),L(2),m0("",ze(9,10,"T_PRODUCT.HEIGHT")," ",r.product.height," cm, ",ze(10,12,ze(11,14,"T_PRODUCT.WEIGHT"))," ",r.product.weight," g"),L(6),ft(ze(15,16,r.product.price)))},dependencies:[zs,F9,L9,eO,nO,Ts]}),t})();const Cge=function(t){return[t]};function Ege(t,e){if(1&t&&(E(0,"a",2),x(1),Ge(2,"translate"),I()),2&t){const n=en();_0("button ",n.uniqueClass,""),pe("routerLink",_p(7,Cge,n.path)),L(1),$r(" ",ze(2,5,n.textContent),"\n")}}function Ige(t,e){if(1&t&&(E(0,"button"),x(1),Ge(2,"translate"),I()),2&t){const n=en();_0("button ",n.uniqueClass,""),L(1),$r(" ",ze(2,4,n.textContent)," ")}}let Oh=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-button"]],inputs:{textContent:"textContent",path:"path",uniqueClass:"uniqueClass"},decls:3,vars:2,consts:[[3,"class","routerLink",4,"ngIf","ngIfElse"],["button",""],[3,"routerLink"]],template:function(n,r){if(1&n&&(Zt(0,Ege,3,9,"a",0),Zt(1,Ige,3,6,"ng-template",null,1,U2)),2&n){const i=function QM(t){return tu(function V$(){return ee.lFrame.contextLView}(),22+t)}(2);pe("ngIf",r.path)("ngIfElse",i)}},dependencies:[ju,zs,Ts],styles:[".button[_ngcontent-%COMP%]{min-height:52px;width:100%;border:2px solid #444444;padding:5px;box-sizing:border-box;text-decoration:none;font-family:Open Sans Bold,Arial,sans-serif;font-weight:700;font-size:18px;text-transform:uppercase;color:#444;display:flex;align-items:center;justify-content:center;text-align:center;background-color:#fff;cursor:pointer}@media (min-width: 768px){.button[_ngcontent-%COMP%]{font-size:17px}}@media (min-width: 1150px){.button[_ngcontent-%COMP%]{max-width:292px}}.button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:focus{background-color:#444;color:#fff}.button[_ngcontent-%COMP%]:active{color:#ffffff4d}"]}),t})(),bge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-production"]],decls:10,vars:5,consts:[[1,"production"],[1,"production__title"],[1,"production__video-wrapper"],["preload","none",1,"production__video"],["aria-label","Start video playback",1,"production__video-control"],[1,"production__description"],[1,"production__order",3,"textContent","path"]],template:function(n,r){1&n&&(E(0,"section",0)(1,"h2",1),x(2),Ge(3,"translate"),I(),E(4,"div",2),G(5,"video",3)(6,"button",4),I(),E(7,"p",5),x(8,"At the request of our beloved followers, we made a detailed video for you about how our products appear."),I(),G(9,"app-button",6),I()),2&n&&(L(2),ft(ze(3,3,"T_APP.CATALOG_PAGE.PRODUCTION_PROCCESS")),L(7),pe("textContent","T_ACTION.MAKE_AN_ORDER")("path","/order"))},dependencies:[Oh,Ts]}),t})();function Tge(t,e){1&t&&G(0,"app-product-card",8),2&t&&pe("product",e.$implicit)}function Dge(t,e){if(1&t&&(E(0,"section",4)(1,"h2",5),x(2),Ge(3,"translate"),I(),E(4,"ul",6),Zt(5,Tge,1,1,"app-product-card",7),I()()),2&t){const n=en();L(2),ft(ze(3,2,"T_APP.CATALOG_PAGE.LIST")),L(3),pe("ngForOf",n.products)}}let Sge=(()=>{class t{constructor(n){this._service=n,this._isLoaded=!1}get isLoaded(){return this._isLoaded}get products(){return this._products}ngOnInit(){this._service.getAll().subscribe(n=>{this._products=n,this._isLoaded=!0})}}return t.\u0275fac=function(n){return new(n||t)(H(b9))},t.\u0275cmp=rt({type:t,selectors:[["app-catalog"]],decls:7,vars:4,consts:[[1,"page-catalog"],[1,"page-catalog__header"],[1,"page-catalog__title"],["class","catalog",4,"ngIf"],[1,"catalog"],[1,"visually-hidden"],[1,"catalog__list"],["class","item",3,"product",4,"ngFor","ngForOf"],[1,"item",3,"product"]],template:function(n,r){1&n&&(E(0,"main",0)(1,"div",1)(2,"h1",2),x(3),Ge(4,"translate"),I()(),Zt(5,Dge,6,4,"section",3),G(6,"app-production"),I()),2&n&&(L(3),ft(ze(4,2,"T_APP.CATALOG_PAGE.TITLE")),L(2),pe("ngIf",r.isLoaded))},dependencies:[YP,ju,wge,bge,Ts],styles:[".production__order[_ngcontent-%COMP%]{margin:0 34px 33px}@media (min-width: 768px){.production__order[_ngcontent-%COMP%]{margin:0 42px 46px;font-size:17px}}@media (min-width: 1150px){.production__order[_ngcontent-%COMP%]{margin:0}}@media (min-width: 1150px){.item[_ngcontent-%COMP%]{margin-right:51px}}@media (min-width: 1150px){.item[_ngcontent-%COMP%]:nth-child(3n){margin-right:0}}"]}),t})();const Age=function(){return["catalog","decore"]},xge=function(){return["catalog","toys"]};let Rge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-categories"]],decls:16,vars:13,consts:[[1,"categories"],[1,"categories__wrapper"],[1,"visually-hidden"],[1,"categories__list"],[1,"categories__item","categories__item--interior"],[1,"categories__link",3,"routerLink"],[1,"categories__text"],[1,"categories__item","categories__item--toys"]],template:function(n,r){1&n&&(E(0,"section",0)(1,"div",1)(2,"h2",2),x(3),Ge(4,"translate"),I(),E(5,"ul",3)(6,"li",4)(7,"a",5)(8,"p",6),x(9),Ge(10,"translate"),I()()(),E(11,"li",7)(12,"a",5)(13,"p",6),x(14),Ge(15,"translate"),I()()()()()()),2&n&&(L(3),ft(ze(4,5,"T_APP.CARTEGORY.TITLE")),L(4),pe("routerLink",mi(11,Age)),L(2),ft(ze(10,7,"T_APP.CARTEGORY.HOME_DECORE")),L(3),pe("routerLink",mi(12,xge)),L(2),ft(ze(15,9,"T_APP.CARTEGORY.TOYS")))},dependencies:[zs,Ts]}),t})();const kge=["modal"];let Mge=(()=>{class t{constructor(){this.closeModal=new Cn}ngOnInit(){}check(n){n.target===this._modal.nativeElement&&this.closeModal.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-modal"]],viewQuery:function(n,r){if(1&n&&vp(kge,5),2&n){let i;Fu(i=Lu())&&(r._modal=i.first)}},outputs:{closeModal:"closeModal"},decls:24,vars:0,consts:[[1,"modal",3,"click"],["modal",""],[1,"modal__content"],[1,"modal__title"],["method","get","action","https://echo.htmlacademy.ru/",1,"modal__form"],[1,"modal__size"],[1,"modal__legend"],[1,"modal__list"],[1,"modal__item"],["type","radio","name","featured-item__size","id","s-size","value","s-size","aria-label","S-size","checked","",1,"visually-hidden","modal__input"],["for","s-size"],["type","radio","name","featured-item__size","id","m-size","value","m-size","aria-label","M-size",1,"visually-hidden","modal__input"],["for","m-size"],["type","radio","name","featured-item__size","id","l-size","value","l-size","aria-label","L-size",1,"visually-hidden","modal__input"],["for","l-size"],["type","submit","aria-label","Add to cart",1,"modal__button-submit"]],template:function(n,r){1&n&&(E(0,"section",0,1),Us("click",function(s){return r.check(s)}),E(2,"div",2)(3,"h2",3),x(4,"Add to cart"),I(),E(5,"form",4)(6,"fieldset",5)(7,"legend",6),x(8,"Choose the size:"),I(),E(9,"ul",7)(10,"li",8),G(11,"input",9),E(12,"label",10),x(13,"S"),I()(),E(14,"li",8),G(15,"input",11),E(16,"label",12),x(17,"M"),I()(),E(18,"li",8),G(19,"input",13),E(20,"label",14),x(21,"L"),I()()()(),E(22,"button",15),x(23,"Add to cart"),I()()()())}}),t})(),Nge=(()=>{class t{transform(n){return!(n=n.toString())||isNaN(parseFloat(n))?null:`${n} \xa5`}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=mn({name:"price",type:t,pure:!0}),t})();function Pge(t,e){if(1&t){const n=p0();E(0,"section",2)(1,"h2",3),x(2,"Bestseller"),I(),E(3,"div",4)(4,"h3",5),x(5),I(),E(6,"p",6),x(7,"Bestseller of the week"),I(),E(8,"p",7),x(9),I(),E(10,"div",8)(11,"div",9)(12,"div",10),x(13),Ge(14,"translate"),I(),E(15,"div"),x(16),I()(),E(17,"div",9)(18,"div",10),x(19),Ge(20,"translate"),I(),E(21,"div"),x(22),I()(),E(23,"div",9)(24,"div",10),x(25),Ge(26,"translate"),I(),E(27,"div"),x(28),I()()(),G(29,"app-picture",11),E(30,"p",12),x(31),Ge(32,"price"),I(),E(33,"app-button",13),Us("click",function(){return xy(n),Ry(en().showModal())}),I()()()}if(2&t){const n=en();L(5),ft(n.featured.name),L(4),ft(n.featured.description),L(4),$r("",ze(14,14,"T_PRODUCT.COLOR"),":"),L(3),ft(n.featured.color),L(3),$r("",ze(20,16,"T_PRODUCT.DIAMETER"),":"),L(3),$r("",n.featured.diameter," cm"),L(3),$r("",ze(26,18,"T_PRODUCT.HEIGHT"),":"),L(3),$r("",n.featured.height," cm"),L(1),pe("fileName",n.featured.img.name)("altText",n.featured.img.alt)("height",315)("width",260),L(2),$r("Price: ",ze(32,20,n.featured.price),""),L(2),pe("textContent","T_ACTION.ORDER")}}function Oge(t,e){if(1&t){const n=p0();E(0,"app-modal",14),Us("closeModal",function(){return xy(n),Ry(en().closeModal())}),I()}}let Fge=(()=>{class t{constructor(n,r){this._service=r,this._activeModal=!1}get activeModal(){return this._activeModal}get featured(){return this._featured}ngOnInit(){this._service.getFeatured().subscribe(n=>this._featured=n[0])}showModal(){this._activeModal=!0}closeModal(){this._activeModal=!1}}return t.\u0275fac=function(n){return new(n||t)(H(__),H(b9))},t.\u0275cmp=rt({type:t,selectors:[["app-featured"]],decls:2,vars:2,consts:[["class","featured-item",4,"ngIf"],[3,"closeModal",4,"ngIf"],[1,"featured-item"],[1,"visually-hidden"],[1,"featured-item__wrapper"],[1,"featured-item__name"],[1,"featured-item__tag"],[1,"featured-item__description"],[1,"featured-item__details-table","details-table"],[1,"details-table__row"],[1,"details-table__definition"],["isFeatured","",3,"fileName","altText","height","width"],[1,"featured-item__price"],[1,"button-order",3,"textContent","click"],[3,"closeModal"]],template:function(n,r){1&n&&(Zt(0,Pge,34,22,"section",0),Zt(1,Oge,1,0,"app-modal",1)),2&n&&(pe("ngIf",r.featured),L(1),pe("ngIf",r.activeModal))},dependencies:[ju,Mge,Oh,L9,Ts,Nge],styles:["@media (min-width: 768px){.button-order[_ngcontent-%COMP%]{margin-right:376px;font-size:17px}}@media (min-width: 1150px){.button-order[_ngcontent-%COMP%]{max-width:292px}}"]}),t})(),Lge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-about"]],decls:29,vars:0,consts:[[1,"about"],[1,"about__wrapper"],[1,"visually-hidden"],[1,"about__title"],[1,"about__list"],[1,"about__item","about__item--eco"],[1,"about__item","about__item--hand-made"],[1,"about__item","about__item--price"],[1,"about__item","about__item--local"],[1,"about__item","about__item--likes"],[1,"about__item","about__item--wrapping"]],template:function(n,r){1&n&&(E(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Information about the shop"),I(),E(4,"p",3),x(5,"About us:"),I(),E(6,"ul",4)(7,"li",5),x(8,"Environmentally"),G(9,"br"),x(10,"friendly materials"),I(),E(11,"li",6),x(12,"Hand-knitted"),G(13,"br"),x(14,"with love and tenderness"),I(),E(15,"li",7),x(16,"Scandinavian style"),G(17,"br"),x(18,"at an affordable price"),I(),E(19,"li",8),x(20,"Domestic manufacturer support"),I(),E(21,"li",9),x(22,"Increases likes"),G(23,"br"),x(24,"on photos"),I(),E(25,"li",10),x(26,"Delivered"),G(27,"br"),x(28,"in a gift box"),I()()()())}}),t})(),Uge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-reviews"]],decls:32,vars:1,consts:[[1,"reviews"],[1,"reviews__wrapper"],[1,"reviews__title"],[1,"reviews__item","reviews__item--current"],[1,"reviews__text"],[1,"reviews__author-name"],[1,"reviews__author-email"],["href","mailto:@nyamato"],[1,"reviews__item"],["href","mailto:@punipin"],["href","mailto:@nanahachi"],[1,"reviews__navigation"],["aria-label","Previous review",1,"button-review","button-review--previous"],["aria-label","Next review",1,"button-review","button-review--next"],[1,"button-send-review",3,"textContent"]],template:function(n,r){1&n&&(E(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Customer reviews"),I(),E(4,"blockquote",3)(5,"p",4),x(6,"I am a young mother, but all the same, the photos did not get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, and also get more likes!"),I(),E(7,"cite",5),x(8,"Nancy Yamato"),I(),E(9,"p",6)(10,"a",7),x(11,"@nyamato"),I()()(),E(12,"blockquote",8)(13,"p",4),x(14,"I am a sister of the young mother, but still, the photos didn\u2019t get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, as well as getting more likes!"),I(),E(15,"cite",5),x(16,"Punira Lapin"),I(),E(17,"p",6)(18,"a",9),x(19,"@punipin"),I()()(),E(20,"blockquote",8)(21,"p",4),x(22,"I am a cousin of the young mother, but still, the photos didn\u2019t get close to as many likes as popular instamoms. In desperation, I bought accessories and toys in Mishka, and my photos immediately became more stylish, as well as getting more likes!"),I(),E(23,"cite",5),x(24,"Nana Kawasaki"),I(),E(25,"p",6)(26,"a",10),x(27,"@nanahachi"),I()()(),E(28,"p",11),G(29,"button",12)(30,"button",13),I(),G(31,"app-button",14),I()()),2&n&&(L(31),pe("textContent","T_ACTION.LEAVE_FEEDBACK"))},dependencies:[Oh],styles:[".button-send-review[_ngcontent-%COMP%]{max-width:260px}@media (min-width: 768px){.button-send-review[_ngcontent-%COMP%]{position:absolute;right:50px;top:79px;min-width:175px;font-size:17px}}@media (min-width: 1150px){.button-send-review[_ngcontent-%COMP%]{right:0;top:80px}}"]}),t})();const Vge=["map"];let Bge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-contacts"]],viewQuery:function(n,r){if(1&n&&vp(Vge,5),2&n){let i;Fu(i=Lu())&&(r.mapElement=i.first)}},decls:17,vars:1,consts:[[1,"contacts"],[1,"contacts__wrapper"],[1,"contacts__title"],[1,"contacts__list"],[1,"contacts__email"],[1,"contacts__text"],["href","mailto:info@mimimishkashop.com"],[1,"contacts__adress"],[1,"contacts__map-wrapper"],["aria-label","Access to the shop","src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.747798533312!2d139.74324421559677!3d35.65858483882047!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188bbd9009ec09%3A0x481a93f0d2a409dd!2sTokyo%20Tower!5e0!3m2!1sen!2sjp!4v1662268596163!5m2!1sen!2sjp","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"contacts__map",2,"border","0"],[1,"button-send-email",3,"textContent"]],template:function(n,r){1&n&&(E(0,"section",0)(1,"div",1)(2,"h2",2),x(3,"Access"),I(),E(4,"dl",3)(5,"dt",4),x(6,"e-mail:"),I(),E(7,"dd",5)(8,"a",6),x(9,"info@mimimishkashop.com"),I()(),E(10,"dt",7),x(11,"address:"),I(),E(12,"dd",5),x(13,"Tokyo, 312 Nishiotecho, 16-01"),I()(),E(14,"div",8),G(15,"iframe",9),I(),G(16,"app-button",10),I()()),2&n&&(L(16),pe("textContent","T_ACTION.MESSAGE_US"))},dependencies:[Oh],styles:[".button-send-email[_ngcontent-%COMP%]{display:block;max-width:260px;margin:0 auto 39px}@media (min-width: 768px){.button-send-email[_ngcontent-%COMP%]{max-width:230px;margin-bottom:0;font-size:17px}}@media (min-width: 1150px){.button-send-email[_ngcontent-%COMP%]{margin:0 0 0 224px}}"]}),t})();const $ge=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-main-page"]],decls:13,vars:6,consts:[[1,"page-main"],[1,"visually-hidden"],[1,"page-main__slogan"],[1,"page-main__slogan-text"]],template:function(n,r){1&n&&(E(0,"main",0)(1,"h1",1),x(2),Ge(3,"translate"),I(),E(4,"p",2)(5,"b",3),x(6),Ge(7,"translate"),I()(),G(8,"app-categories")(9,"app-featured")(10,"app-about")(11,"app-reviews")(12,"app-contacts"),I()),2&n&&(L(2),ft(ze(3,2,"T_APP.TITLE")),L(4),ft(ze(7,4,"T_APP.SLOGAN")))},dependencies:[Rge,Fge,Lge,Uge,Bge,Ts]}),t})(),pathMatch:"full"},{path:"catalog",component:Sge},{path:"order",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-order-form"]],decls:86,vars:1,consts:[[1,"page-form"],[1,"page-form__header"],[1,"page-form__title"],[1,"page-form__description"],["method","get","action","https://echo.htmlacademy.ru/",1,"page-form__form","form"],[1,"form__fieldset","form__type"],[1,"form__legend"],[1,"form__list"],[1,"form__item"],["type","radio","name","type","id","accessory","value","accessory","checked","",1,"visually-hidden","form__input","form__input--radio"],["for","accessory"],["type","radio","name","type","id","toy","value","toy",1,"visually-hidden","form__input","form__input--radio"],["for","toy"],[1,"form__wrapper"],[1,"form__fieldset","form__color"],["type","checkbox","name","color","id","white","value","white","checked","",1,"visually-hidden","form__input","form__input--checkbox"],["for","white"],["type","checkbox","name","color","id","grey","value","grey","checked","",1,"visually-hidden","form__input","form__input--checkbox"],["for","grey"],["type","checkbox","name","color","id","tiffany","value","tiffany",1,"visually-hidden","form__input","form__input--checkbox"],["for","tiffany"],["type","checkbox","name","color","id","black","value","black",1,"visually-hidden","form__input","form__input--checkbox"],["for","black"],["type","checkbox","name","color","id","pink","value","pink",1,"visually-hidden","form__input","form__input--checkbox"],["for","pink"],["type","checkbox","name","color","id","orange","value","orange",1,"visually-hidden","form__input","form__input--checkbox"],["for","orange"],[1,"form__fieldset","form__name"],[1,"form__name-wrapper"],["for","first-name"],["type","text","name","name","id","first-name","placeholder","Enter your first name*","required","",1,"form__input-text"],["for","last-name"],["type","text","name","name","id","last-name","placeholder","Enter your last name*","required","",1,"form__input-text"],[1,"form__fieldset","form__telephone"],["for","telephone",1,"visually-hidden"],["type","tel","name","telephone","id","telephone","placeholder","+7 \u0425\u0425\u0425 \u0425\u0425\u0425 \u0425\u0425 \u0425\u0425*","pattern","^[0-9-+\\s()]*$","required","","minlength","11","maxlength","16",1,"form__input-text","form__input-text--tel"],["width","25","height","24"],[0,"xlink","href","img/sprite.svg#phone"],[1,"form__fieldset","form__email"],["for","email",1,"visually-hidden"],["type","email","name","email","id","email","placeholder","Your Email*","pattern","[^@\\s]+@[^@\\s]+\\.[^@\\s]+","required","",1,"form__input-text","form__input-text--email"],["width","32","height","21"],[0,"xlink","href","img/sprite.svg#mail"],[1,"form__fieldset","form__additional"],["for","additional-text",1,"visually-hidden"],["name","additional-text","id","additional-text","placeholder","Describe all your wishes for the order",1,"form__additional-text"],[1,"form__footer"],[1,"form__footnote"],[1,"form__button-submit",3,"textContent"]],template:function(n,r){1&n&&(E(0,"main",0)(1,"div",1)(2,"h1",2),x(3,"Knitting to order"),I()(),E(4,"p",3),x(5,"We will be happy to make your wishes come true! Fill out a simple order form and we will contact you to clarify the details."),I(),E(6,"form",4)(7,"fieldset",5)(8,"legend",6),x(9,"Type"),I(),E(10,"ul",7)(11,"li",8),G(12,"input",9),E(13,"label",10),x(14,"Decore accessory"),I()(),E(15,"li",8),G(16,"input",11),E(17,"label",12),x(18,"Toy"),I()()()(),E(19,"div",13)(20,"fieldset",14)(21,"legend",6),x(22,"Color"),I(),E(23,"ul",7)(24,"li",8),G(25,"input",15),E(26,"label",16),x(27,"White"),I()(),E(28,"li",8),G(29,"input",17),E(30,"label",18),x(31,"Grey"),I()(),E(32,"li",8),G(33,"input",19),E(34,"label",20),x(35,'"Tiffany"'),I()(),E(36,"li",8),G(37,"input",21),E(38,"label",22),x(39,"Black"),I()(),E(40,"li",8),G(41,"input",23),E(42,"label",24),x(43,"Pink"),I()(),E(44,"li",8),G(45,"input",25),E(46,"label",26),x(47,"Orange"),I()()()()(),E(48,"fieldset",27)(49,"legend",6),x(50,"Name"),I(),E(51,"div",28)(52,"label",29),x(53,"First:"),I(),G(54,"input",30),I(),E(55,"div",28)(56,"label",31),x(57,"Last:"),I(),G(58,"input",32),I()(),E(59,"div",13)(60,"fieldset",33)(61,"legend",6),x(62,"Phone"),I(),E(63,"label",34),x(64,"Phone number"),I(),G(65,"input",35),ci(),E(66,"svg",36),G(67,"use",37),I()(),ks(),E(68,"fieldset",38)(69,"legend",6),x(70,"E-mail"),I(),E(71,"label",39),x(72,"Your Email"),I(),G(73,"input",40),ci(),E(74,"svg",41),G(75,"use",42),I()()(),ks(),E(76,"fieldset",43)(77,"legend",6),x(78,"Additional"),I(),E(79,"label",44),x(80,"Additional requests for the order"),I(),G(81,"textarea",45),I(),E(82,"div",46)(83,"p",47),x(84,"*Required fields"),I(),G(85,"app-button",48),I()()()),2&n&&(L(85),pe("textContent","T_ACTION.PLACE_ORDER"))},dependencies:[Oh],styles:[".form__button-submit[_ngcontent-%COMP%]{display:block;width:100%;min-height:52px;margin:0;font-size:17px;line-height:16px}@media (min-width: 768px){.form__button-submit[_ngcontent-%COMP%]{width:230px;margin-left:50px}}@media (min-width: 1150px){.form__button-submit[_ngcontent-%COMP%]{margin-left:225px}}.form__button-submit[_ngcontent-%COMP%]:hover, .form__button-submit[_ngcontent-%COMP%]:focus{background-color:#444;color:#fff}.form__button-submit[_ngcontent-%COMP%]:active{color:#ffffff4d}"]}),t})()},{path:"cart",component:fee},{path:"**",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(n,r){1&n&&(E(0,"p"),x(1,"not-found works!"),I())}}),t})()}];let jge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({imports:[LF.forRoot($ge),LF]}),t})();const Hge=["navigationMenu"],U9=function(){return[""]},kS=function(){return["catalog"]},Gge=function(){return["order"]};let zge=(()=>{class t{constructor(n){this._router=n,this._router.events.subscribe(r=>{r instanceof Gs&&this._navigationMenu.nativeElement.classList.contains("page-navigation--active")&&this.toggleMenu()})}toggleMenu(){this._navigationMenu.nativeElement.classList.toggle("page-navigation--active")}}return t.\u0275fac=function(n){return new(n||t)(H(En))},t.\u0275cmp=rt({type:t,selectors:[["app-header"]],viewQuery:function(n,r){if(1&n&&vp(Hge,5),2&n){let i;Fu(i=Lu())&&(r._navigationMenu=i.first)}},decls:43,vars:28,consts:[[1,"page-header__wrapper"],[1,"page-header__logo","page-header__logo--main-page",3,"routerLink"],["media","(min-width: 1150px)","srcset","assets/img/mishka-logo-desktop.svg"],["media","(min-width: 768px)","srcset","assets/img/mishka-logo-tablet.svg"],["src","assets/img/logo-mobile.svg","width","86","height","35","alt","Online shop Mishka"],[1,"page-navigation"],["navigationMenu",""],[1,"page-navigation__toggle",3,"click"],[1,"visually-hidden"],[1,"page-navigation__wrapper"],[1,"page-navigation__list","site-navigation"],[1,"site-navigation__item"],[3,"routerLink"],[1,"page-navigation__list","user-navigation"],[1,"user-navigation__search"],["aria-label","Search",3,"routerLink"],["width","18","height","18"],["d","M17.7 16.06l-3.48-3.48a7.63 7.63 0 001.53-4.7c0-4.4-3.48-7.88-7.88-7.88A7.81 7.81 0 000 7.88c0 4.4 3.48 7.87 7.88 7.87 1.73 0 3.37-.61 4.7-1.53l3.48 3.47c.2.2.4.31.82.31.6 0 1.12-.51 1.12-1.13 0-.2-.1-.5-.3-.81zM2.24 7.88a5.67 5.67 0 015.63-5.63 5.67 5.67 0 015.62 5.63 5.67 5.67 0 01-5.63 5.62 5.67 5.67 0 01-5.62-5.63z"],[1,"user-navigation__cart"],[3,"textContent"],[1,"page-navigation__list","aside-navigation"],[1,"aside-navigation__item"],[1,"page-navigation__delivery-info"]],template:function(n,r){1&n&&(E(0,"header")(1,"div",0)(2,"a",1)(3,"picture"),G(4,"source",2)(5,"source",3)(6,"img",4),I()(),E(7,"nav",5,6)(9,"button",7),Us("click",function(){return r.toggleMenu()}),E(10,"span",8),x(11,"Open menu"),I()(),E(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),x(16),Ge(17,"translate"),I()(),E(18,"li",11)(19,"a",12),x(20),Ge(21,"translate"),I()()(),E(22,"ul",13)(23,"li",14)(24,"a",15),ci(),E(25,"svg",16),G(26,"path",17),I(),ks(),E(27,"span"),x(28,"Search"),I()()(),E(29,"li",18),G(30,"app-cart-button",19),I()(),E(31,"ul",20)(32,"li",21)(33,"a",12),x(34),Ge(35,"translate"),I()(),E(36,"li",21)(37,"a",12),x(38),Ge(39,"translate"),I()()(),E(40,"p",22),x(41),Ge(42,"translate"),I()()()()()),2&n&&(L(2),pe("routerLink",mi(22,U9)),L(13),pe("routerLink",mi(23,kS)),L(1),ft(ze(17,12,"T_APP.MENU.CATALOG")),L(3),pe("routerLink",mi(24,Gge)),L(1),ft(ze(21,14,"T_APP.MENU.ORDER")),L(4),pe("routerLink",mi(25,U9)),L(6),pe("textContent","T_APP.CART.EMPTY"),L(3),pe("routerLink",mi(26,kS)),L(1),ft(ze(35,16,"T_APP.MENU.NEW_ARRIVALS")),L(3),pe("routerLink",mi(27,kS)),L(1),ft(ze(39,18,"T_APP.MENU.SALE")),L(3),ft(ze(42,20,"T_APP.MENU.FREE_DELIVERY")))},dependencies:[zs,F9,Ts]}),t})(),Wge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"page-footer"],[1,"page-footer__wrapper"],["src","assets/img/logo-footer.svg","width","102","height","34","alt","\u041c\u0430\u0433\u0430\u0437\u0438\u043d \xab\u041c\u0438\u0448\u043a\u0430\xbb",1,"page-footer__logo"],[1,"page-footer__social","social"],[1,"visually-hidden"],[1,"social__list"],[1,"social__item"],["href","#","aria-label","\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c",1,"social__link","social__link--instagram"],["width","22","height","22","viewBox","0 0 22 22"],["d","M22 12.5849C22 10.2076 21.698 7.83019 21.698 5.55189C21.698 4.75944 21.5974 4.06604 21.4967 3.27359C21.3961 2.97642 21.3961 2.58019 21.2954 2.18396C20.9935 1.98585 21.0941 1.58962 20.7922 1.39151C20.3896 1.1934 19.5844 1.29245 19.0811 1.1934C18.3766 1.1934 17.7727 1.09434 17.1688 0.995283C15.2564 0.896226 13.1427 0.896228 11.1297 0.896228C9.11669 0.896228 7.10367 0.79717 5.39261 0.5H3.17829C3.07764 0.5 3.07764 0.599059 2.97699 0.599059C2.37308 0.599059 1.86983 0.797171 1.36657 0.896228C1.16527 0.995284 0.963971 1.09434 0.662018 1.1934C0.561367 1.39151 0.158762 1.29245 0.0581108 1.58962C-0.143191 1.78774 0.259412 2.08491 0.0581108 2.18396V3.07547C0.259412 3.17453 0.0581131 3.66981 0.158764 3.86793V4.85849C0.158764 6.14623 0.259413 7.23585 0.259413 8.52359C0.762667 11.2972 0.662019 14.9623 0.360066 17.8349C0.561368 18.4292 0.76267 18.9245 0.863321 19.5189C1.16527 20.0142 1.16527 20.6085 1.56787 21.0047C2.07113 21.2028 2.77569 21.2028 3.48024 21.2028C3.88284 21.3019 4.1848 21.5 4.5874 21.5C7.40562 21.3019 10.1232 21.3019 13.0421 21.3019C15.7596 21.5 18.8798 21.5 21.3961 21.1038C21.5974 21.0047 21.4967 20.6085 21.5974 20.3113C21.4967 19.9151 21.7987 19.9151 21.7987 19.5189C22 17.4387 22 15.0613 22 12.5849ZM8.91539 6.4434C9.7206 6.24528 10.4252 6.14623 11.331 6.14623C12.0356 6.24528 12.6395 6.4434 13.2434 6.64151C13.344 6.83962 13.0421 7.13679 13.4447 7.33491C13.5453 7.33491 13.5453 7.3349 13.646 7.43396C14.0486 7.43396 14.4512 7.63208 14.7531 7.83019C15.2564 7.92925 15.2564 8.32547 15.8603 8.22642C15.7596 8.42453 15.7596 8.7217 15.7596 9.01887C16.0616 10.2075 16.2629 11.7925 16.0616 13.2783C15.8603 13.4764 15.8603 13.6745 15.7596 13.9717C15.4577 14.2689 15.2564 14.7642 14.9544 15.0613C14.8538 15.2594 14.6525 15.4575 14.4512 15.5566C14.3505 15.7547 14.2499 16.0519 13.9479 16.0519C13.646 16.25 13.344 16.0519 13.1427 15.9528C12.7401 16.1509 12.2369 16.25 11.9349 16.5472C11.1297 16.4481 10.3245 16.3491 9.51929 16.25C9.31799 16.1509 9.01604 15.9528 8.71409 15.9528C8.51278 15.7547 8.21083 15.5566 7.90888 15.4575C7.80823 15.3585 7.60693 15.3585 7.40563 15.2594C7.20432 15.2594 7.20432 15.0613 6.90237 15.0613C6.80172 14.6651 6.49977 14.467 6.39912 13.9717C6.19782 13.6745 6.09716 13.1792 5.89586 12.783C5.89586 11.3962 5.99651 10.1085 6.29846 9.01887C6.60042 8.42453 7.10367 7.92925 7.40563 7.33491C7.60693 7.33491 7.80823 7.23585 7.80823 7.03774C8.11018 7.13679 8.21083 6.93868 8.51278 6.93868C8.71409 6.93868 8.71409 6.64151 8.91539 6.4434ZM7.20432 3.76887C7.10367 3.4717 7.10367 3.07547 7.10367 2.67925C7.10367 2.38208 7.40563 2.38208 7.40563 2.18396C7.40563 2.08491 7.30497 2.08491 7.20432 2.08491C7.30497 1.98585 7.90888 1.98585 8.00953 2.08491C8.11018 2.58019 7.60693 2.58019 7.50628 2.7783C7.50628 2.97642 7.80823 2.7783 8.00953 2.87736C8.00953 3.76887 7.90888 4.36321 8.00953 5.05661H7.50628C7.50628 5.25472 7.70758 5.25472 8.00953 5.25472C7.90888 5.55189 8.11018 5.65094 8.11018 5.84906C7.90888 6.04717 7.40562 5.84906 7.00302 5.94811C7.00302 5.35377 7.30497 4.56132 7.20432 3.76887ZM6.49977 2.18396C6.60042 2.18396 6.60042 2.18396 6.70107 2.28302C6.90237 2.58019 6.70107 2.97642 6.60042 3.17453C6.39911 2.97642 6.60042 2.48113 6.49977 2.18396ZM6.70107 3.96698C6.60042 3.86792 6.49977 3.76887 6.49977 3.4717C6.70107 3.57075 6.70107 3.76887 6.70107 3.96698ZM6.70107 5.35377C6.60042 5.45283 6.60042 5.35377 6.60042 5.15566C6.70107 5.0566 6.70107 5.25472 6.70107 5.35377ZM6.49977 5.55189C6.70107 5.55189 6.60042 5.75 6.70107 5.75C6.70107 5.94812 6.39912 5.94811 6.29846 5.84906C6.39912 5.75 6.49977 5.65094 6.49977 5.55189ZM4.1848 4.36321C4.1848 4.26415 4.1848 4.16509 4.08414 4.16509C3.98349 3.4717 4.1848 2.7783 4.08414 2.18396C4.3861 1.98585 4.88935 2.18396 5.19131 2.08491V3.17453C5.09066 3.27359 4.99 3.27359 4.7887 3.27359C4.68805 3.57076 5.09066 3.37264 5.19131 3.57076C5.19131 4.46227 5.09066 5.35377 5.39261 5.94811C4.7887 5.84906 4.48675 6.04717 3.9835 6.04717C4.08415 5.45283 3.9835 4.66038 4.48675 4.46226C4.48675 4.36321 4.1848 4.46226 4.1848 4.36321ZM3.68154 4.36321C3.48024 4.36321 3.48024 3.86793 3.58089 3.76887C3.88284 3.76887 3.78219 4.26415 3.68154 4.36321ZM3.48024 5.35377C3.58089 5.0566 3.48024 5.0566 3.58089 4.66038C3.78219 4.66038 3.78219 5.45283 3.48024 5.35377ZM3.68154 3.27359C3.37959 3.37264 3.37959 2.97642 3.48024 2.87736C3.78219 2.87736 3.88285 3.17453 3.68154 3.27359ZM3.68154 2.18396C3.68154 2.38208 3.58089 2.38208 3.58089 2.48113C3.37959 2.48113 3.48024 2.28302 3.37959 2.28302C3.48024 2.18396 3.58089 2.18396 3.68154 2.18396ZM3.48024 5.84906C3.58089 5.84906 3.58089 6.14623 3.37959 6.04717C3.48024 6.04717 3.48024 5.94811 3.48024 5.84906ZM2.77568 2.18396C2.77568 2.48113 2.37308 2.48113 2.37308 2.18396H2.77568ZM1.76918 2.28302C1.76918 2.48113 1.46723 2.48113 1.36657 2.67925C1.16527 2.48113 1.46722 2.18396 1.76918 2.28302ZM1.36657 2.97641C1.56788 2.7783 1.86983 2.58019 2.07113 2.38208C2.07113 2.28302 2.17178 2.28302 2.17178 2.18396H2.37308C2.47373 2.58019 2.07113 2.48113 2.07113 2.67925C2.07113 2.7783 1.97048 2.7783 1.97048 2.87736C1.97048 3.17453 2.07113 3.4717 2.07113 3.86793C1.76918 3.86793 1.76918 4.1651 1.46722 4.06604C1.46722 3.66981 1.26592 3.4717 1.36657 2.97641ZM1.46722 6.24529V4.66038C1.66853 4.46226 1.86983 4.26415 2.07113 4.16509C2.37308 4.66038 2.27243 5.55189 2.57438 6.04717C2.17178 6.14623 1.76918 6.14623 1.46722 6.24529ZM19.7857 17.2406C19.685 18.2311 19.5844 19.2217 19.3831 20.0142C16.4642 20.1132 13.344 20.0141 10.4252 20.2123C10.2239 20.2123 10.1232 20.2123 10.2238 20.0142C9.9219 20.0142 9.9219 20.2123 9.72059 20.2123C9.9219 19.9151 10.1232 19.3207 9.9219 18.9245C9.11669 18.9245 9.11669 19.717 8.81474 20.2123C8.11018 20.1132 7.70758 20.3113 7.00302 20.3113C7.20432 19.6179 7.70758 19.3208 7.90888 18.6274C7.50628 18.1321 6.90237 18.7264 6.70107 19.1226C6.49977 19.6179 6.09716 19.9151 5.89586 20.4104H4.88935C5.09066 19.9151 5.39261 19.5189 5.69456 19.0236C5.89586 18.5283 6.29847 18.3302 6.39912 17.6368C6.19782 17.3396 5.99651 17.6368 5.69456 17.6368C5.59391 17.8349 5.39261 17.934 5.29196 18.1321C5.09065 18.5283 4.7887 18.8255 4.5874 19.2217C4.3861 19.4198 4.28545 19.2217 4.08414 19.4198C3.68154 19.717 3.48024 20.1132 3.07764 20.4104C2.87633 20.3113 3.07764 20.0142 3.27894 20.0142C3.27894 19.816 3.17829 19.5189 3.37959 19.4198C3.48024 19.0236 3.58089 18.8255 3.78219 18.5283C3.88284 17.8349 4.28545 17.3396 4.48675 16.6462C3.88284 16.7453 3.78219 17.2406 3.48024 17.6368C3.27894 18.033 2.97699 18.4292 2.77568 18.9245C2.57438 18.8255 2.77569 18.3302 2.67503 18.1321C2.77569 17.5377 2.97699 17.0424 3.07764 16.4481C3.17829 16.25 3.27894 15.9528 3.27894 15.6557C3.48024 15.4575 3.27894 15.0613 3.17829 14.8632C2.97699 14.8632 2.77569 14.9623 2.67503 15.1604C2.47373 15.1604 2.47373 15.6557 2.37308 15.4575C2.37308 12.8821 1.86983 10.7028 1.86983 8.12736C1.86983 7.83019 1.66853 7.73113 1.66853 7.43396C3.27894 7.43396 4.7887 7.53302 6.49977 7.63207C6.39912 7.73113 6.29847 7.92925 6.19781 8.0283C6.09716 8.12736 5.99651 8.22642 5.79521 8.32547C5.1913 10.0094 4.7887 12.2877 5.19131 14.467C5.39261 15.0613 5.79521 15.4575 6.19781 15.8538C7.10367 16.3491 7.80823 16.9434 8.71409 17.5377C10.4252 17.934 12.5388 17.934 14.2499 17.5377C14.4512 17.4387 14.7531 17.3396 14.9544 17.1415C16.3636 15.9528 17.7727 14.6651 17.974 12.2877V10.9009C17.7727 9.31604 17.2694 8.0283 16.2629 7.33491C16.5648 7.13679 17.3701 7.3349 17.974 7.43396C18.1753 7.43396 18.3766 7.43396 18.6785 7.43396C19.0811 7.43396 19.5844 7.3349 20.0876 7.43396C20.1883 7.63207 20.1883 7.92925 20.2889 8.22642C20.1883 9.91038 20.0876 11.4953 20.0876 13.2783C20.1883 13.7736 20.1883 14.2689 20.2889 14.6651C20.0876 15.4575 19.987 16.3491 19.7857 17.2406ZM20.1883 6.14623C19.5844 6.04717 18.9805 5.84906 18.2759 5.75C18.3766 5.45283 19.0811 5.75 19.2824 5.55189C19.685 5.35378 19.5844 4.66038 19.5844 4.06604C19.5844 3.76887 19.685 3.4717 19.685 2.97641C19.2824 1.98585 17.8733 2.58019 16.7661 2.48113C16.5648 3.17453 16.2629 4.26415 16.4642 5.15566C16.6655 5.65094 17.4707 5.45283 17.974 5.65094C17.8733 5.94811 17.2694 5.75 16.9675 5.75C16.6655 5.65095 16.2629 5.65094 15.9609 5.55189C13.646 5.65094 11.633 5.55189 9.41864 5.75C9.51929 4.56132 9.51929 3.27359 9.31799 2.18396H12.4382C12.1362 2.58019 11.5323 2.67924 11.1297 2.97641C10.7271 3.17453 10.2238 3.4717 10.0225 3.86793C10.2238 3.96698 10.5258 3.66981 10.8278 3.4717C11.2304 3.37264 11.331 3.07547 11.633 2.97641C12.0356 2.58019 12.7401 2.38208 13.344 2.08491C13.7466 2.08491 14.0486 2.08491 14.3505 2.18396C15.659 2.18396 16.8668 2.28302 18.1753 2.28302C18.7792 2.38208 19.685 2.38208 20.1883 2.58019C20.2889 2.87736 20.3896 3.17453 20.4902 3.4717C20.3896 4.46226 20.1883 5.25472 20.1883 6.14623ZM14.2499 2.48113C14.3505 2.38208 14.2499 2.38208 14.2499 2.48113V2.48113ZM14.2499 2.48113C13.7466 2.67924 13.2434 2.7783 12.8408 3.17453C13.344 2.97642 13.9479 2.87736 14.2499 2.48113ZM15.357 3.07547C15.4577 2.97642 15.357 2.97642 15.357 3.07547V3.07547ZM13.5453 3.96698C14.2499 3.76887 14.7531 3.37264 15.2564 3.07547C14.8538 3.07547 14.6525 3.37264 14.2499 3.4717C14.1492 3.66981 13.7466 3.66981 13.5453 3.96698ZM12.8408 3.17453C12.7401 3.17453 12.9414 3.27359 12.8408 3.17453V3.17453ZM12.2369 3.76887C12.3375 3.66981 12.2369 3.66981 12.2369 3.76887V3.76887ZM12.1362 3.86793C12.2369 3.86793 12.2369 3.76887 12.1362 3.86793C12.1362 3.76887 12.1362 3.76887 12.1362 3.86793ZM12.0356 3.86793C12.1362 3.86793 12.1362 3.86793 12.0356 3.86793C12.0356 3.76887 12.0356 3.86793 12.0356 3.86793ZM11.2304 4.46226C11.5323 4.36321 11.8343 4.1651 12.0356 3.86793C11.7336 4.06604 11.4317 4.26415 11.2304 4.46226ZM13.5453 5.45283C14.0486 5.45283 14.2499 5.0566 14.7531 4.95755C15.0551 4.66038 15.5583 4.56132 15.7596 4.16509C15.1557 4.16509 14.9544 4.56132 14.5518 4.66038C14.2499 5.0566 13.7466 5.15566 13.5453 5.45283ZM11.2304 4.46226C10.9284 4.46226 11.2304 4.75943 11.2304 4.46226V4.46226ZM10.6265 4.85849C10.7271 4.85849 10.8278 4.85849 10.6265 4.85849C10.7271 4.75943 10.6265 4.85849 10.6265 4.85849ZM13.5453 5.45283C13.344 5.55189 13.5453 5.55189 13.5453 5.45283V5.45283ZM12.3375 7.23585C12.1362 7.03774 11.633 7.03774 11.331 6.83962C10.6265 6.83962 10.1232 6.93868 9.61994 7.03774C9.31799 7.23585 9.01604 7.33491 8.71409 7.53302C8.41213 7.73113 8.31148 7.92925 7.90888 8.0283C7.70758 8.22642 7.50628 8.52358 7.20432 8.62264C7.20432 8.82075 7.00302 8.91981 6.90237 9.01887C6.80172 9.11792 6.80172 9.31604 6.70107 9.41509C6.70107 9.51415 6.70107 9.71227 6.60042 9.71227C6.70107 11.1981 6.90237 12.5849 7.30497 13.8726C7.60693 14.467 8.31148 14.6651 8.71409 15.1604C9.31799 15.4575 10.0225 15.5566 10.8278 15.6557C11.1297 15.5566 11.4317 15.5566 11.7336 15.5566C12.9414 15.3585 13.8473 14.8632 14.5518 14.1698C14.6525 13.8726 14.8538 13.6745 15.0551 13.4764C14.7531 12.783 15.357 12.3868 15.5583 11.8915C15.5583 10.6038 15.357 9.41509 14.9544 8.52359C14.6525 7.92925 14.0486 7.73113 13.5453 7.43396C13.4447 7.43396 13.344 7.43396 13.344 7.33491C13.1427 7.23585 12.6395 7.13679 12.3375 7.23585ZM8.91539 11.5943C8.81474 11.4953 8.81474 11.3962 8.71409 11.1981C9.01604 11.0991 8.91539 11.3962 8.91539 11.5943ZM9.01604 11.8915C9.01604 11.7925 9.11669 11.8915 9.01604 11.8915C9.01604 12.0896 9.01604 11.9906 9.01604 11.8915ZM9.41864 9.81132C9.41864 9.71226 9.51929 9.81132 9.41864 9.81132C9.51929 9.91038 9.41864 9.91038 9.41864 9.81132ZM11.1297 7.73113C10.9284 8.0283 11.1297 8.32547 11.2304 8.52359C10.9284 8.52359 10.6265 7.73113 11.1297 7.73113ZM11.5323 11.5943C11.4317 11.5943 11.5323 11.5943 11.5323 11.5943C11.633 11.5943 11.5323 11.6934 11.5323 11.5943ZM12.2369 14.467C12.2369 14.3679 12.3375 14.467 12.4382 14.467C12.4382 14.566 12.2369 14.566 12.2369 14.467ZM14.4512 11.9906C14.2499 11.8915 14.3505 12.1887 14.0486 12.1887C14.1492 11.9906 14.1492 11.8915 14.2499 11.6934C14.4512 11.6934 14.5518 11.7924 14.4512 11.9906ZM13.344 8.22642C13.5453 8.32547 13.7466 8.42453 13.9479 8.62264C14.0486 8.82075 14.1492 9.01887 14.3505 9.11792C14.4512 9.91038 14.5518 10.6038 14.5518 11.4953C14.2499 11.5943 14.1492 11.7925 13.8473 11.8915C13.0421 11.8915 12.4382 11.6934 11.9349 11.3962C11.7336 11.0991 11.5323 10.9009 11.4317 10.6038V9.51415C11.633 9.31604 11.7336 9.11792 11.9349 8.91981C12.1362 8.82075 12.4382 8.7217 12.4382 8.32547C12.4382 8.22642 12.3375 8.22641 12.3375 8.12736C12.5388 8.12736 12.5388 8.32547 12.7401 8.32547C12.9414 8.32547 13.0421 8.12736 13.344 8.22642Z"],["href","#","aria-label","\u0424\u0435\u0439\u0441\u0431\u0443\u043a",1,"social__link","social__link--facebook"],["width","15","height","28","viewBox","0 0 15 28"],["d","M11.7035 5.25484C12.7024 5.25484 13.7014 5.25484 14.4006 4.95313C14.8002 4.14856 15 3.04228 15 1.936C14.8002 1.936 14.9001 1.63428 14.8002 1.53371C14.8002 1.33257 14.5005 1.33257 14.5005 1.13142C14.2009 0.930282 14.0011 0.729141 13.8013 0.527999C13.102 0.326857 12.4028 0.226286 11.6036 0.0251435C10.8045 0.0251435 9.70565 -0.0754291 9.00639 0.125713C6.40916 0.125713 5.01066 1.232 3.71204 2.53942C3.71204 2.63999 3.71204 2.74056 3.61215 2.74056C3.01278 4.3497 3.51225 6.36112 3.41236 8.37254C3.51225 8.77483 3.51225 9.37826 3.61215 9.78054C2.61321 10.0823 1.41449 10.1828 0.21577 10.2834C-0.08391 10.5851 0.0159827 11.3897 0.0159827 11.9931C0.115876 12.5965 0.315665 13.0994 0.415558 13.6022C0.615345 13.8034 1.01492 14.0045 1.2147 14.1051C1.3146 14.1051 1.3146 14.2057 1.3146 14.2057C1.81406 14.5074 2.813 14.2057 3.61215 14.3062C3.51225 16.3177 3.91183 18.2285 3.61215 20.0388C3.61215 20.3405 3.91183 20.4411 3.81193 20.8434C3.81193 21.8491 3.71204 22.8548 4.01172 23.5588C3.71204 24.0616 3.51225 24.5645 3.61215 25.3691C3.71204 25.3691 3.71204 25.5702 3.71204 25.6708C3.61215 26.1736 4.3114 25.8719 4.21151 26.3748C4.4113 26.8776 3.81193 26.5759 3.81193 26.8776V27.7828C4.3114 28.0845 5.31033 27.9839 6.10948 27.9839C7.00852 27.5816 8.30714 27.4811 8.9065 26.7771C9.40597 26.9782 9.80554 26.7771 10.1052 26.5759C10.1052 26.2742 10.4049 26.2742 10.305 25.8719C10.305 25.5702 10.1052 25.3691 10.2051 24.9668V22.0502C10.0053 19.7371 10.2051 17.1222 9.90544 14.8091C10.8045 14.7085 11.8034 14.7085 12.5027 14.4068C12.9022 13.904 12.9022 13.2 13.0021 12.496C13.2019 12.2948 13.2019 11.8925 13.2019 11.4902C13.4017 11.2891 13.3018 10.7863 13.3018 10.384C13.2019 9.78054 13.102 9.07654 12.5027 8.97597C11.6036 8.77483 10.5048 9.5794 9.50586 9.27769C9.50586 8.1714 9.20618 6.96455 9.50586 5.85827C10.305 5.65712 11.0043 5.45598 11.7035 5.25484ZM7.90757 10.0823C8.00746 10.384 8.20725 10.5851 8.30714 10.7863C8.40704 10.7863 8.50693 10.7863 8.50693 10.8868C9.70565 10.9874 10.7046 10.7863 11.6036 10.5851C11.6036 11.5908 11.3039 12.2948 11.1042 13.0994C10.4049 13.0994 9.60575 13.4011 9.10629 13.3005C8.80661 13.5017 8.70671 13.8034 8.50693 14.0045C8.50693 14.4068 8.60682 14.5074 8.50693 14.8091C8.30714 14.9097 8.40704 15.4125 8.30714 15.6137V17.1222C8.40704 17.4239 8.20724 17.4239 8.20724 17.6251V21.1451C8.10735 21.4468 8.30714 21.4468 8.30714 21.6479V24.6651C8.40704 24.9668 8.20725 25.4696 8.40703 25.5702C8.30714 25.9725 8.00746 25.5702 7.60788 25.6708C7.10842 25.7713 6.70884 26.0731 6.10948 26.0731C6.20938 25.6708 6.40916 25.4696 6.40916 24.9668C6.40916 24.5645 6.00959 24.6651 5.9097 24.4639C6.10948 23.8605 6.50906 23.3576 6.60895 22.6536C6.80874 22.1508 7.30821 21.3462 6.90863 20.8434C6.40916 20.7428 6.40916 21.1451 6.10948 21.2456C6.10948 21.3462 6.10948 21.4468 6.00959 21.4468C6.00959 21.5474 6.00959 21.6479 5.9097 21.6479C5.9097 21.7485 5.70991 21.7485 5.9097 21.6479C5.9097 21.5474 5.9097 21.4468 6.00959 21.4468C6.00959 21.3462 6.00959 21.2456 6.10948 21.2456V20.9439C6.50906 20.3405 6.80874 19.7371 6.90863 18.9325C7.10842 18.6308 7.20831 18.2285 7.3082 17.9268C7.50799 17.6251 7.60789 17.0217 7.4081 16.7199C6.90863 16.7199 6.60895 17.0217 6.50906 17.4239C6.20938 17.2228 6.70884 17.0217 6.60895 16.7199C6.70884 16.5188 6.80874 16.1165 6.90863 15.9154C7.10842 15.5131 7.50799 14.6079 6.90863 14.3062C6.50906 14.3062 6.30927 14.5074 6.20938 14.8091C6.00959 15.0102 5.8098 15.2114 5.70991 15.5131C5.31034 15.4125 5.61002 14.8091 5.51012 14.4068C5.41023 13.904 5.61002 13.5017 5.51012 13.2C4.91076 12.3954 3.51225 13.0994 2.31353 12.8982C2.21364 12.5965 2.11375 11.8925 2.21364 11.6914C3.21257 11.5908 4.71098 11.8925 5.41023 11.4902C5.41023 11.3897 5.41023 11.2891 5.51012 11.2891C5.61002 10.5851 5.21044 10.2834 5.01066 9.88111C5.21044 9.07654 5.01065 7.86969 5.11055 6.86398C5.31033 6.76341 5.41023 6.46169 5.61001 6.26055C5.70991 5.25484 6.30927 4.75199 6.30927 3.74627C6.00959 3.74627 5.70991 3.6457 5.70991 3.94742C5.41023 3.84685 5.31034 4.45027 5.21044 4.14856C5.11055 3.6457 5.41023 3.54513 5.51012 3.14285C6.10948 2.74056 6.70885 2.33828 7.4081 1.936C9.10629 1.73485 12.0032 1.53371 13.5016 2.13714C13.6015 2.74056 13.2019 3.04227 13.3018 3.6457H11.8034C10.7046 3.84684 9.80554 4.3497 8.80661 4.65141C8.60682 4.75198 8.50693 4.95313 8.30714 5.0537C8.30714 5.45598 8.10735 5.65712 8.00746 6.05941C7.70778 7.4674 7.90757 8.67426 7.90757 10.0823Z"],["href","#","aria-label","\u0422\u0432\u0438\u0442\u0442\u0435\u0440",1,"social__link","social__link--twitter"],["width","23","height","20","viewBox","0 0 23 20"],["d","M22.9571 4.24243C22.7628 3.83838 22.0826 3.93939 21.5968 3.83838H20.5279C20.6251 3.43434 20.8194 3.23232 21.0138 2.82828C21.1109 2.42424 21.3053 2.12121 21.2081 1.51515C21.3053 1.31313 21.4024 1.11111 21.4996 0.909089C21.5968 0.808079 21.694 0.404041 21.5968 0.202021C21.4996 7.67636e-07 21.3053 0 21.0138 0C20.9166 0 20.8194 0.101009 20.8194 0.101009C20.4308 0.505049 20.0421 1.11111 19.5562 1.51515H19.4591C19.3619 1.51515 19.4591 1.51515 19.3619 1.61616C19.2647 1.71717 19.0704 1.81818 18.9732 1.81818C18.6817 2.0202 18.4874 2.22222 18.0987 2.32323C17.6129 2.12121 16.9327 2.0202 16.2525 1.91919C15.0865 2.0202 14.0176 2.12121 13.3374 2.62626C12.4629 2.92929 11.8799 3.63636 11.2969 4.24243C11.2969 4.54546 11.0054 4.64646 10.9082 4.94949C10.9082 4.94949 10.9082 5.05051 10.811 5.05051C10.811 5.25253 10.7139 5.35354 10.7139 5.55556C10.7139 5.65657 10.9082 5.9596 10.7139 6.06061C9.93651 5.9596 9.25633 5.45455 8.67331 5.05051C7.99313 4.64646 7.21578 4.44444 6.63277 3.93939C5.95259 3.63636 5.36957 3.13131 4.88372 2.62626C4.68939 2.32323 4.39788 2.12121 4.20354 1.71717C3.81487 1.51515 4.00921 0.80808 3.52336 0.80808C3.23185 0.80808 3.23185 1.0101 3.13468 1.21212C3.03751 1.41414 2.74601 1.41414 2.74601 1.71717C2.74601 1.71717 2.74601 1.81818 2.64884 1.81818C2.4545 2.92929 2.16299 3.83838 2.16299 5.15151C2.26016 5.55555 2.4545 5.85858 2.74601 6.16161C2.35733 6.26263 2.06583 6.36364 1.87149 6.66667C1.77432 7.77778 2.26016 8.28283 2.55167 8.9899C2.64884 9.39394 2.94035 9.69697 3.13468 10C3.13468 10.202 3.32902 10.303 3.42619 10.404C3.42619 10.5051 3.52336 10.505 3.52336 10.6061C3.52336 10.7071 3.81487 10.8081 3.62053 10.8081C3.23185 10.9091 2.64884 10.9091 2.35733 11.2121C2.26016 11.5152 2.26016 12.0202 2.35733 12.3232C2.35733 12.5253 2.64884 12.6263 2.64884 12.8283C3.13468 13.2323 3.7177 13.5354 4.20354 13.9394C4.78656 14.1414 5.36957 14.2424 6.04975 14.3434C5.95258 14.6465 5.75825 14.9495 5.46674 15.0505C4.68939 15.4545 3.7177 15.5556 2.84318 15.7576C2.26016 15.7576 1.87149 15.9596 1.28848 15.9596C0.996969 16.0606 0.413953 16.0606 0.219615 16.1616C0.122446 16.2626 0.122445 16.2626 0.0252764 16.3636C-0.0718926 16.7677 0.122447 17.0707 0.413954 17.2727C0.413954 17.5758 0.608293 17.5758 0.802631 17.6768C0.8998 17.8788 1.09414 17.9798 1.1913 18.0808C1.67715 18.5859 2.4545 18.8889 3.03752 19.1919C3.81487 19.3939 4.59222 19.596 5.46674 19.697C6.34126 19.798 7.31295 19.798 8.18747 19.899H9.15916C9.645 20 10.3252 20 11.0054 20C11.1025 19.899 11.2969 19.899 11.4912 19.899C11.9771 19.596 12.6572 19.4949 13.0459 19.1919C13.6289 18.9899 14.0176 18.5859 14.6006 18.2828C15.4751 17.4748 16.4468 16.9697 17.0298 15.8586C17.2242 15.6566 17.4185 15.4545 17.4185 15.1515C17.71 14.9495 17.8072 14.6465 18.0015 14.4444C18.3902 14.0404 18.6817 13.5354 18.9732 13.0303C19.2647 12.5253 19.5562 11.9192 19.8477 11.4141C19.8477 11.0101 20.1393 10.9091 20.1393 10.505C20.3336 10.303 20.3336 9.79798 20.5279 9.59596C20.5279 9.29293 20.5279 9.19192 20.6251 8.9899C20.6251 7.67677 20.6251 6.56566 20.3336 5.55556C20.9166 5.35354 21.4996 5.25252 21.8883 4.94949C22.6656 5.25252 23.1515 4.84849 22.9571 4.24243ZM19.6534 8.28283C19.4591 9.19192 19.0704 9.69697 18.6817 10.303C18.7789 10.7071 18.5845 10.8081 18.5845 11.2121C18.3902 11.5152 18.293 11.9192 18.1959 12.2222C18.0015 12.5253 17.9044 12.8283 17.71 13.1313C17.3214 13.6364 16.9327 14.2424 16.544 14.7475C16.1553 15.3535 15.6695 15.7576 15.2808 16.2626C14.8921 16.7677 14.4063 17.1717 13.9204 17.5758C13.4346 17.7778 13.0459 17.9798 12.6572 18.2828C12.4629 18.3838 12.1714 18.4848 11.9771 18.5859C11.7827 18.6869 11.4912 18.6869 11.2969 18.8889C10.228 18.9899 9.06199 19.0909 7.79879 18.9899C6.8271 18.8889 5.75824 18.7879 4.88372 18.5859C4.0092 18.3838 3.42619 17.8788 2.64884 17.5758C2.84318 17.3737 3.23185 17.3737 3.62053 17.3737C3.62053 17.1717 4.00921 17.3737 4.00921 17.2727C4.30071 17.3737 4.30071 17.1717 4.49505 17.1717C5.07806 16.9697 5.66108 16.8687 6.14692 16.5657C6.43843 16.4646 6.5356 16.1616 6.8271 15.9596C6.8271 15.7576 6.92427 15.6566 7.02144 15.5556C7.02144 15.2525 7.21578 15.1515 7.11861 14.7475C7.21578 14.5455 7.41012 14.4444 7.41012 14.0404C7.31295 13.9394 7.31295 13.7374 7.11861 13.6364C7.11861 13.4343 6.72994 13.5354 6.72994 13.4343C6.43843 13.4343 6.34126 13.4343 6.14692 13.3333C5.95259 13.3333 5.66108 13.4343 5.66108 13.2323C4.88373 13.2323 4.39788 12.8283 3.81487 12.5253C4.20354 12.2222 4.78656 12.1212 5.07806 11.8182C5.56391 11.7172 6.14692 11.7172 6.14692 11.1111C6.14692 10.404 5.36957 10.404 4.88372 10.303C4.10637 9.59596 3.7177 8.58586 3.13468 7.77778C3.32902 7.57576 3.7177 7.57576 3.81487 7.37374C4.30071 7.47475 4.30071 7.07071 4.49505 6.86869C4.49505 6.36364 4.20354 6.26263 3.91203 6.06061C3.62053 5.85859 3.42619 5.55556 3.23185 5.35354C3.23185 4.54545 3.23185 3.63636 3.32902 2.92929C3.42619 2.92929 3.42619 2.92929 3.42619 3.0303C3.62053 3.43434 4.00921 3.83838 4.20354 4.24243C4.68939 4.64647 5.07806 5.15151 5.75825 5.35354C6.24409 5.75758 6.8271 5.9596 7.31295 6.36364C7.89596 6.66667 8.47898 6.9697 8.96482 7.27273C9.645 7.47475 10.0337 7.9798 10.9082 7.87879C11.1025 7.77778 11.2969 7.67677 11.4912 7.57576C11.7827 7.07071 11.394 6.46464 11.5884 5.95959C11.8799 5.25252 12.3657 4.94949 12.8516 4.44444C13.1431 4.24242 13.4346 4.14141 13.6289 3.93939C13.9204 3.83838 14.3091 3.73737 14.6006 3.53535C14.9893 3.53535 15.2808 3.43434 15.5723 3.43434H16.8355C17.0298 3.53535 17.3214 3.53535 17.5157 3.53535C17.71 3.63636 17.9044 3.83838 18.1959 3.93939C18.9732 4.64646 19.4591 5.65656 19.5562 6.9697C19.5562 7.27273 19.6534 7.67677 19.6534 8.28283ZM19.9449 2.62626C19.8477 2.92929 19.7506 3.33333 19.3619 3.43434C19.3619 3.33333 19.2647 3.33333 19.2647 3.23232C19.2647 3.0303 19.4591 3.0303 19.5562 2.92929C19.6534 2.82828 19.7506 2.62626 19.9449 2.62626C19.9449 2.52525 20.0421 2.62626 19.9449 2.62626ZM14.6006 5.65656C14.795 5.75757 14.8921 5.9596 15.0865 6.06061C15.1836 6.26263 15.378 6.36363 15.6695 6.46464C15.6695 6.26262 15.961 6.46465 16.0582 6.26263C16.2525 6.26263 16.2525 6.0606 16.3497 5.95959C16.3497 5.45454 16.2525 4.94949 15.961 4.64646C15.2808 4.14141 14.3091 4.64646 14.6006 5.65656Z"],[1,"page-footer__copyright","copyright"],[1,"copyright__text"],["href","https://htmlacademy.ru/intensive/adaptive","aria-label","Go to HTML Academy website",1,"copyright__link"],["width","27","height","34","viewBox","0 0 28 35","aria-hidden","true","aria-label","HTML Academy logo","focusable","false"],["d","M13.9689 0.0444336H13.8689L0.368896 1.44443V26.1444L13.8689 34.1444L27.2689 26.1444V1.44443L13.9689 0.0444336ZM25.3689 12.1444L13.8689 5.34443V5.24443H13.7689L13.6689 5.14443V5.24443L2.2689 12.1444V3.14443L13.7689 1.94443L25.3689 3.14443V12.1444ZM13.7689 6.84443L25.2689 13.5444L20.7689 16.1444L13.6689 11.9444V13.3444L19.5689 16.8444L18.6689 17.3444L13.6689 14.3444V15.7444L17.4689 18.0444L16.6689 18.5444L13.6689 16.7444V18.1444L15.5689 19.2444L13.7689 20.3444L2.3689 13.6444L13.7689 6.84443ZM2.2689 15.1444L13.6689 21.9444V22.9444L5.7689 18.2444V19.6444L13.7689 24.4444V25.5444L5.7689 20.8444V22.2444L13.7689 27.0444L21.8689 22.1444V16.9444L25.2689 14.9444V24.9444L13.7689 31.8444L2.2689 25.0444V15.1444Z"]],template:function(n,r){1&n&&(E(0,"footer",0)(1,"div",1),G(2,"img",2),E(3,"section",3)(4,"h2",4),x(5,"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),I(),E(6,"ul",5)(7,"li",6)(8,"a",7),ci(),E(9,"svg",8),G(10,"path",9),I()()(),ks(),E(11,"li",6)(12,"a",10),ci(),E(13,"svg",11),G(14,"path",12),I()()(),ks(),E(15,"li",6)(16,"a",13),ci(),E(17,"svg",14),G(18,"path",15),I()()()()(),ks(),E(19,"section",16)(20,"h2",4),x(21,"Copyright"),I(),E(22,"b",17),x(23,"Special thanks to"),I(),E(24,"a",18),ci(),E(25,"svg",19),G(26,"path",20),I()()()()())}}),t})(),qge=(()=>{class t{constructor(){this.title="mishka"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rt({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page-header"]],template:function(n,r){1&n&&G(0,"app-header",0)(1,"router-outlet")(2,"app-footer")},dependencies:[$1,zge,Wge]}),t})(),Kge=(()=>{class t{constructor(n){this.http=n,this.data={}}load(n){return new Promise(r=>{this.http.get("app.config.json").subscribe(i=>{this.data=Object.assign({},n||{},i||{}),r(this.data)},()=>{this.data=Object.assign({},n||{}),r(this.data)})})}}return t.\u0275fac=function(n){return new(n||t)(V(SS))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const V9_firebase={projectId:"mishka-6ed37",appId:"1:820083813670:web:118d013ca3d05aa93725e7",storageBucket:"mishka-6ed37.appspot.com",locationId:"asia-northeast1",apiKey:"AIzaSyB_NCmgpj4hCHdJlEv2Kmuq49laIgm2fMM",authDomain:"mishka-6ed37.firebaseapp.com",messagingSenderId:"820083813670"},B9="@firebase/database";let MS="";class Yge{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:hd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Jge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const j9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yge(e)}}catch{}return new Jge},La=j9("localStorage"),NS=j9("sessionStorage"),Hc=new Ks("@firebase/database"),H9=function(){let t=1;return function(){return t++}}(),G9=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Tee;n.update(e);const r=n.digest();return cg.encodeByteArray(r)},Fh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Fh.apply(null,r):e+="object"==typeof r?rn(r):r,e+=" "}return e};let Ua=null,z9=!0;const Yt=function(...t){if(!0===z9&&(z9=!1,null===Ua&&!0===NS.get("logging_enabled")&&function(t,e){N(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Hc.logLevel=ye.VERBOSE,Ua=Hc.log.bind(Hc),e&&NS.set("logging_enabled",!0)):"function"==typeof t?Ua=t:(Ua=null,NS.remove("logging_enabled"))}(!0)),Ua){const e=Fh.apply(null,t);Ua(e)}},Lh=function(t){return function(...e){Yt(t,...e)}},PS=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fh(...t);Hc.error(e)},xi=function(...t){const e=`FIREBASE FATAL ERROR: ${Fh(...t)}`;throw Hc.error(e),new Error(e)},Tn=function(...t){const e="FIREBASE WARNING: "+Fh(...t);Hc.warn(e)},y_=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ds="[MIN_NAME]",Ri="[MAX_NAME]",Va=function(t,e){if(t===e)return 0;if(t===Ds||e===Ri)return-1;if(e===Ds||t===Ri)return 1;{const n=v_(t),r=v_(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},eme=function(t,e){return t===e?0:t<e?-1:1},Uh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rn(e))},OS=function(t){if("object"!=typeof t||null===t)return rn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=rn(e[r]),n+=":",n+=OS(t[e[r]]);return n+="}",n},q9=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const K9=function(t){N(!y_(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},ime=new RegExp("^-?(0*)\\d{1,10}$"),v_=function(t){if(ime.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Gc=function(t){try{t()}catch(e){setTimeout(()=>{throw Tn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Vh=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class ome{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ame{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(e)}}let Bh=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const eU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rU="websocket",iU="long_polling";class US{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=La.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&La.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function sU(t,e,n){let r;if(N("string"==typeof e,"typeof type must == string"),N("object"==typeof n,"typeof params must == object"),e===rU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==iU)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ume(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Jt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class cme{constructor(){this.counters_={}}incrementCounter(e,n=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gee(this.counters_)}}const VS={},BS={};function $S(t){const e=t.toString();return VS[e]||(VS[e]=new cme),VS[e]}class dme{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class vo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lh(e),this.stats_=$S(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),sU(n,iU,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dme(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jS((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&eU.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vo.forceAllow_=!0}static forceDisallow(){vo.forceDisallow_=!0}static isAvailable(){return!(!vo.forceAllow_&&(vo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HF(n),i=q9(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=H9(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=jS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Yt("frame writing exception"),a.stack&&Yt(a.stack),Yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let C_=null;typeof MozWebSocket<"u"?C_=MozWebSocket:typeof WebSocket<"u"&&(C_=WebSocket);let zc=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lh(this.connId),this.stats_=$S(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&eU.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),sU(n,rU,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,La.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new C_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==C_&&!t.forceDisallow_}static previouslyFailed(){return La.isInMemoryStorage||!0===La.get("previous_websocket_failure")}markConnectionHealthy(){La.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=hd(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(N(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=rn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=q9(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),hU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[vo,zc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=zc&&zc.isAvailable();let i=r&&!zc.previouslyFailed();if(n.webSocketOnly&&(r||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zc];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class vU{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lh("c:"+this.id+":"),this.transportManager_=new hU(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Uh("t",e),r=Uh("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Uh("t",e),r=Uh("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Uh("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?PS("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(La.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class CU{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class E_ extends CU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new E_}getInitialEvent(e){return N("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ke{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new ke("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wo(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function GS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $h(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bU(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function Qe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ke(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function jn(t,e){const n=de(t),r=de(e);if(null===n)return e;if(n===r)return jn(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zS(t,e){if(wo(t)!==wo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(wo(t)>wo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Pme{constructor(e,n){this.errorPrefix_=n,this.parts_=$h(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yg(this.parts_[r]);TU(this)}}function TU(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ba(t))}function Ba(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class WS extends CU{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new WS}getInitialEvent(e){return N("visible"===e,"Unknown event type: "+e),[this.visible_]}}const jh=1e3;let b_,$a=(()=>{class t extends wU{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Lh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WS.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&E_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(rn(o)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Yu,i={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&ts(n,"w")){const i=Xu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=pg(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=pg(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rn(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):PS("Unrecognized action received from server: "+rn(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){N(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Yt("getToken() completed but was canceled"):(Yt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new vU(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{Tn(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&Tn(f),l())}}})()}interrupt(n){Yt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Yt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rw(this.interruptReasons_)&&(this.reconnectDelay_=jh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>OS(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ke(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Yt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Yt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+MS.replace(/\./g,"-")]=1,dg()?n["framework.cordova"]=1:nw()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=E_.getInstance().currentlyOnline();return rw(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new me(e,n)}}class I_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new me(Ds,e),i=new me(Ds,n);return 0!==this.compare(r,i)}minPost(){return me.MIN}}class AU extends I_{static get __EMPTY_NODE(){return b_}static set __EMPTY_NODE(e){b_=e}compare(e,n){return Va(e.name,n.name)}isDefinedOn(e){throw Qu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return me.MIN}maxPost(){return new me(Ri,b_)}makePost(e,n){return N("string"==typeof e,"KeyIndex indexValue must always be a string."),new me(e,b_)}toString(){return".key"}}const ki=new AU;class T_{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KS,Zr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??tr.EMPTY_NODE,this.right=o??tr.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return tr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return tr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class tr{constructor(e,n=tr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Zr.BLACK,null,null))}remove(e){return new tr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new T_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new T_(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new T_(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new T_(this.root_,null,this.comparator_,!0,e)}}function jme(t,e){return Va(t.name,e.name)}function qS(t,e){return Va(t,e)}tr.EMPTY_NODE=new class $me{copy(e,n,r,i,s){return this}insert(e,n,r){return new Zr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xU=function(t){return"number"==typeof t?"number:"+K9(t):"string:"+t},RU=function(t){if(t.isLeafNode()){const e=t.val();N("string"==typeof e||"number"==typeof e||"object"==typeof e&&ts(e,".sv"),"Priority must be a string or number.")}else N(t===KS||t.isEmpty(),"priority of unexpected type.");N(t===KS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kU,MU,NU,Wc=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,N(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RU(this.priorityNode_)}static set __childrenNodeConstructor(n){kU=n}static get __childrenNodeConstructor(){return kU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:".priority"===de(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=de(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(N(".priority"!==i||1===wo(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+xU(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?K9(this.value_):this.value_,this.lazyHash_=G9(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(N(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return N(s>=0,"Unknown leaf type: "+r),N(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const je=new class Wme extends I_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Va(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return me.MIN}maxPost(){return new me(Ri,new Wc("[PRIORITY-POST]",NU))}makePost(e,n){const r=MU(e);return new me(n,new Wc("[PRIORITY-POST]",r))}toString(){return".priority"}},qme=Math.log(2);class Kme{constructor(e){this.count=parseInt(Math.log(e+1)/qme,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const D_=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Zr(h,d.node,Zr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Zr(h,d.node,Zr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const _=d-p,v=d;d-=p;const b=i(_+1,v),y=t[_],T=n?n(y):y;f(new Zr(T,y.node,g,null,b))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),_=Math.pow(2,u.count-(p+1));g?h(_,Zr.BLACK):(h(_,Zr.BLACK),h(_,Zr.RED))}return l}(new Kme(t.length));return new tr(r||e,a)};let QS;const qc={};class Ss{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(qc&&je,"ChildrenNode.ts has not been loaded"),QS=QS||new Ss({".priority":qc},{".priority":je}),QS}get(e){const n=Xu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tr?n:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,n){N(e!==ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(me.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?D_(r,e.getCompare()):qc;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new Ss(l,c)}addToIndexes(e,n){const r=gg(this.indexes_,(i,s)=>{const o=Xu(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===qc){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(me.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),D_(a,o.getCompare())}return qc}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new me(e.name,a))),u.insert(e,e.node)}});return new Ss(r,this.indexSet_)}removeFromIndexes(e,n){const r=gg(this.indexes_,i=>{if(i===qc)return i;{const s=n.get(e.name);return s?i.remove(new me(e.name,s)):i}});return new Ss(r,this.indexSet_)}}let Hh,se=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&RU(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hh||(Hh=new t(new tr(qS),null,Ss.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hh}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Hh:r}}getChild(n){const r=de(n);return null===r?this:this.getImmediateChild(r).getChild(Le(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(N(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new me(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Hh:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=de(n);if(null===i)return r;{N(".priority"!==de(n)||1===wo(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Le(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(je,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+xU(this.getPriority().val())+":"),this.forEachChild(je,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":G9(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new me(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new me(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new me(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,me.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,me.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Gh?-1:0}withIndex(n){if(n===ki||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ki||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(je),s=r.getIterator(je);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===ki?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Gh=new class Qme extends se{constructor(){super(new tr(qS),se.EMPTY_NODE,Ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}};function nt(t,e=null){if(null===t)return se.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),N(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Wc(t,nt(e));if(t instanceof Array){let n=se.EMPTY_NODE;return Jt(t,(r,i)=>{if(ts(t,r)&&"."!==r.substring(0,1)){const s=nt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(nt(e))}{const n=[];let r=!1;if(Jt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=nt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new me(o,u)))}}),0===n.length)return se.EMPTY_NODE;const s=D_(n,jme,o=>o.name,qS);if(r){const o=D_(n,je.getCompare());return new se(s,nt(e),new Ss({".priority":o},{".priority":je}))}return new se(s,nt(e),Ss.Default)}}Object.defineProperties(me,{MIN:{value:new me(Ds,se.EMPTY_NODE)},MAX:{value:new me(Ri,Gh)}}),AU.__EMPTY_NODE=se.EMPTY_NODE,Wc.__childrenNodeConstructor=se,function Hme(t){KS=t}(Gh),function zme(t){NU=t}(Gh),function Gme(t){MU=t}(nt);class YS extends I_{constructor(e){super(),this.indexPath_=e,N(!he(e)&&".priority"!==de(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Va(e.name,n.name):s}makePost(e,n){const r=nt(e),i=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new me(n,i)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Gh);return new me(Ri,e)}toString(){return $h(this.indexPath_,0).join("/")}}const JS=new class Jme extends I_{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Va(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,n){const r=nt(e);return new me(n,r)}toString(){return".value"}};function Wh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class eA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new eA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VU(t){const e={};if(t.isDefault())return e;let n;return t.index_===je?n="$priority":t.index_===JS?n="$value":t.index_===ki?n="$key":(N(t.index_ instanceof YS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rn(n),t.startSet_&&(e.startAt=rn(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+rn(t.indexStartName_))),t.endSet_&&(e.endAt=rn(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+rn(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function BU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}class A_ extends wU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Lh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=A_.getListenId_(e,r),a={};this.listens_[o]=a;const u=VU(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Xu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=A_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=VU(e._queryParams),r=e._path.toString(),i=new Yu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fd(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=hd(a.responseText)}catch{Tn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Tn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class o_e{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function x_(){return{value:null,children:new Map}}function Yc(t,e,n){if(he(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=de(e);t.children.has(r)||t.children.set(r,x_()),Yc(t.children.get(r),e=Le(e),n)}}function iA(t,e,n){null!==t.value?n(e,t.value):function a_e(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{iA(i,new ke(e.toString()+"/"+r),n)})}class u_e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Jt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class d_e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new u_e(e);const r=1e4+2e4*Math.random();Vh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Jt(e,(i,s)=>{s>0&&ts(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Vh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mr=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mr||(Mr={})),Mr))();function aA(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class R_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(he(this.path)){if(null!=this.affectedTree.value)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new R_(Te(),n,this.revert)}}return N(de(this.path)===e,"operationForChild called for unrelated child."),new R_(Le(this.path),this.affectedTree,this.revert)}}class ja{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mr.OVERWRITE}operationForChild(e){return he(this.path)?new ja(this.source,Te(),this.snap.getImmediateChild(e)):new ja(this.source,Le(this.path),this.snap)}}class Jc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mr.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new ja(this.source,Te(),n.value):new Jc(this.source,Te(),n)}return N(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jc(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Co{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Qh(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function g_e(t,e,n){if(null==e.childName||null==n.childName)throw Qu("Should only compare child_ events.");const r=new me(e.childName,e.snapshotNode),i=new me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function p_e(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function k_(t,e){return{eventCache:t,serverCache:e}}function Yh(t,e,n,r){return k_(new Co(e,n,r),t.serverCache)}function jU(t,e,n,r){return k_(t.eventCache,new Co(e,n,r))}function M_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ha(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let uA;class He{constructor(e,n=(()=>(uA||(uA=new tr(eme)),uA))()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Jt(e,(r,i)=>{n=n.set(new ke(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Te(),value:this.value};if(he(e))return null;{const r=de(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Le(e),n);return null!=s?{path:Qe(new ke(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=de(e),r=this.children.get(n);return null!==r?r.subtree(Le(e)):new He(null)}}set(e,n){if(he(e))return new He(n,this.children);{const r=de(e),s=(this.children.get(r)||new He(null)).set(Le(e),n),o=this.children.insert(r,s);return new He(this.value,o)}}remove(e){if(he(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=de(e),r=this.children.get(n);if(r){const i=r.remove(Le(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new He(null):new He(this.value,s)}return this}}get(e){if(he(e))return this.value;{const n=de(e),r=this.children.get(n);return r?r.get(Le(e)):null}}setTree(e,n){if(he(e))return n;{const r=de(e),s=(this.children.get(r)||new He(null)).setTree(Le(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new He(this.value,o)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Qe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(he(e))return null;{const s=de(e),o=this.children.get(s);return o?o.findOnPath_(Le(e),Qe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,r){if(he(e))return this;{this.value&&r(n,this.value);const i=de(e),s=this.children.get(i);return s?s.foreachOnPath_(Le(e),Qe(n,i),r):new He(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Qe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class ei{constructor(e){this.writeTree_=e}static empty(){return new ei(new He(null))}}function Jh(t,e,n){if(he(e))return new ei(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=jn(i,e);return s=s.updateChild(o,n),new ei(t.writeTree_.set(i,s))}{const i=new He(n),s=t.writeTree_.setTree(e,i);return new ei(s)}}}function cA(t,e,n){let r=t;return Jt(n,(i,s)=>{r=Jh(r,Qe(e,i),s)}),r}function HU(t,e){if(he(e))return ei.empty();{const n=t.writeTree_.setTree(e,new He(null));return new ei(n)}}function lA(t,e){return null!=Ga(t,e)}function Ga(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(jn(n.path,e)):null}function GU(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(je,(r,i)=>{e.push(new me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new me(r,i.value))}),e}function Eo(t,e){if(he(e))return t;{const n=Ga(t,e);return new ei(null!=n?new He(n):t.writeTree_.subtree(e))}}function dA(t){return t.writeTree_.isEmpty()}function Xc(t,e){return zU(Te(),t.writeTree_,e)}function zU(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(N(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=zU(Qe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Qe(t,".priority"),r)),n}}function N_(t,e){return YU(e,t)}function C_e(t,e){if(t.snap)return kr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kr(Qe(t.path,n),e))return!0;return!1}function I_e(t){return t.visible}function WU(t,e,n){let r=ei.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)kr(n,o)?(a=jn(n,o),r=Jh(r,a,s.snap)):kr(o,n)&&(a=jn(o,n),r=Jh(r,Te(),s.snap.getChild(a)));else{if(!s.children)throw Qu("WriteRecord should have .snap or .children");if(kr(n,o))a=jn(n,o),r=cA(r,a,s.children);else if(kr(o,n))if(a=jn(o,n),he(a))r=cA(r,Te(),s.children);else{const u=Xu(s.children,de(a));if(u){const c=u.getChild(Le(a));r=Jh(r,Te(),c)}}}}}return r}function qU(t,e,n,r,i){if(r||i){const s=Eo(t.visibleWrites,e);return!i&&dA(s)?n:i||null!=n||lA(s,Te())?Xc(WU(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(kr(c.path,e)||kr(e,c.path))},e),n||se.EMPTY_NODE):null}{const s=Ga(t.visibleWrites,e);if(null!=s)return s;{const o=Eo(t.visibleWrites,e);return dA(o)?n:null!=n||lA(o,Te())?Xc(o,n||se.EMPTY_NODE):null}}}function P_(t,e,n,r){return qU(t.writeTree,t.treePath,e,n,r)}function hA(t,e){return function b_e(t,e,n){let r=se.EMPTY_NODE;const i=Ga(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Eo(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{const u=Xc(Eo(s,new ke(o)),a);r=r.updateImmediateChild(o,u)}),GU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return GU(Eo(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function KU(t,e,n,r){return function T_e(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qe(e,n);if(lA(t.visibleWrites,s))return null;{const o=Eo(t.visibleWrites,s);return dA(o)?i.getChild(n):Xc(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function O_(t,e){return function S_e(t,e){return Ga(t.visibleWrites,e)}(t.writeTree,Qe(t.treePath,e))}function fA(t,e,n){return function D_e(t,e,n,r){const i=Qe(e,n),s=Ga(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Xc(Eo(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function QU(t,e){return YU(Qe(t.treePath,e),t.writeTree)}function YU(t,e){return{treePath:t,writeTree:e}}class k_e{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),N(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Wh(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function zh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Qc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Qu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Wh(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const JU=new class M_e{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class pA{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Co(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fA(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ha(this.viewCache_),s=function R_e(t,e,n,r,i,s){return function A_e(t,e,n,r,i,s,o){let a;const u=Eo(t.visibleWrites,e),c=Ga(u,Te());if(null!=c)a=c;else{if(null==n)return[];a=Xc(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function XU(t,e,n,r,i,s){const o=e.eventCache;if(null!=O_(r,n))return e;{let a,u;if(he(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ha(e),d=hA(r,c instanceof se?c:se.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=P_(r,Ha(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=de(n);if(".priority"===c){N(1===wo(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=KU(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Le(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=KU(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=fA(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return Yh(e,a,o.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function F_(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(he(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=de(n);if(!u.isCompleteForPath(n)&&wo(n)>1)return e;const p=Le(n),_=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),_):l.updateChild(u.getNode(),f,_,p,JU,null)}const d=jU(e,c,u.isFullyInitialized()||he(n),l.filtersNodes());return XU(t,d,n,i,new pA(i,d,s),a)}function gA(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new pA(i,e,s);if(he(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Yh(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Yh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Le(n),f=a.getNode().getImmediateChild(d);let p;if(he(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===GS(h)&&g.getChild(bU(h)).isEmpty()?g:g.updateChild(h,r):se.EMPTY_NODE}u=f.equals(p)?e:Yh(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function ZU(t,e){return t.eventCache.isCompleteForChild(e)}function eV(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mA(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=he(n)?r:new He(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=eV(0,e.serverCache.getNode().getImmediateChild(d),h);u=F_(t,u,new ke(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=eV(0,e.serverCache.getNode().getImmediateChild(d),h);u=F_(t,u,new ke(d),g,i,s,o,a)}}),u}function G_e(t,e){const n=Ha(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function rV(t,e,n,r){e.type===Mr.MERGE&&null!==e.source.queryId&&(N(Ha(t.viewCache_),"We should always have a full cache before handling merges"),N(M_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function O_e(t,e,n,r,i){const s=new k_e;let o,a;if(n.type===Mr.OVERWRITE){const c=n;c.source.fromUser?o=gA(t,e,c.path,c.snap,r,i,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!he(c.path),o=F_(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Mr.MERGE){const c=n;c.source.fromUser?o=function L_e(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=Qe(n,u);ZU(e,de(l))&&(a=gA(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=Qe(n,u);ZU(e,de(l))||(a=gA(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=mA(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Mr.ACK_USER_WRITE){const c=n;o=c.revert?function B_e(t,e,n,r,i,s){let o;if(null!=O_(r,n))return e;{const a=new pA(r,e,i),u=e.eventCache.getNode();let c;if(he(n)||".priority"===de(n)){let l;if(e.serverCache.isFullyInitialized())l=P_(r,Ha(e));else{const d=e.serverCache.getNode();N(d instanceof se,"serverChildren would be complete if leaf node"),l=hA(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=de(n);let d=fA(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Le(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,se.EMPTY_NODE,Le(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=P_(r,Ha(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=O_(r,Te()),Yh(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function U_e(t,e,n,r,i,s,o){if(null!=O_(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(he(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return F_(t,e,n,u.getNode().getChild(n),i,s,a,o);if(he(n)){let c=new He(null);return u.getNode().forEachChild(ki,(l,d)=>{c=c.set(new ke(l),d)}),mA(t,e,n,c,i,s,a,o)}return e}{let c=new He(null);return r.foreach((l,d)=>{const h=Qe(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),mA(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Mr.LISTEN_COMPLETE)throw Qu("Unknown operation type: "+n.type);o=function V_e(t,e,n,r,i){const s=e.serverCache;return XU(t,jU(e,s.getNode(),s.isFullyInitialized()||he(n),s.isFiltered()),n,r,JU,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function F_e(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=M_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function UU(t){return{type:"value",snapshotNode:t}}(M_(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function P_e(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function iV(t,e,n,r){return function f_e(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Zme(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Qh(t,i,"child_removed",e,r,n),Qh(t,i,"child_added",e,r,n),Qh(t,i,"child_moved",s,r,n),Qh(t,i,"child_changed",e,r,n),Qh(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let L_,V_;function _A(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return N(null!=s,"SyncTree gave us an op for an invalid query."),rV(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(rV(o,e,n,r));return s}}function Io(t,e){let n=null;for(const r of t.views.values())n=n||G_e(r,e);return n}class lV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=function x_e(){return{visibleWrites:ei.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yA(t,e,n,r,i){return function __e(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Jh(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Zc(t,new ja({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function To(t,e,n=!1){const r=function v_e(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function w_e(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&C_e(a,r.path)?i=!1:kr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function E_e(t){t.visibleWrites=WU(t.allWrites,I_e,Te()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=HU(t.visibleWrites,r.path):Jt(r.children,u=>{t.visibleWrites=HU(t.visibleWrites,Qe(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new He(null);return null!=r.snap?s=s.set(Te(),!0):Jt(r.children,o=>{s=s.set(new ke(o),!0)}),Zc(t,new R_(r.path,s,n))}return[]}function Xh(t,e,n){return Zc(t,new ja({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function $_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Io(a,jn(o,e));if(c)return c});return qU(i,e,s,n,!0)}function Zc(t,e){return hV(e,t.syncPointTree_,null,N_(t.pendingWriteTree_,Te()))}function hV(t,e,n,r){if(he(t.path))return fV(t,e,n,r);{const i=e.get(Te());null==n&&null!=i&&(n=Io(i,Te()));let s=[];const o=de(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=QU(r,o);s=s.concat(hV(a,u,c,l))}return i&&(s=s.concat(_A(i,t,r,n))),s}}function fV(t,e,n,r){const i=e.get(Te());null==n&&null!=i&&(n=Io(i,Te()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=QU(r,o),l=t.operationForChild(o);l&&(s=s.concat(fV(l,a,u,c)))}),i&&(s=s.concat(_A(i,t,r,n))),s}function wA(t,e){return t.tagToQueryMap.get(e)}function CA(t){const e=t.indexOf("$");return N(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function EA(t,e,n){const r=t.syncPointTree_.get(e);return N(r,"Missing sync point for query tag that we're tracking"),_A(r,n,N_(t.pendingWriteTree_,e),null)}class IA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new IA(n)}node(){return this.node_}}class bA{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Qe(this.path_,e);return new bA(this.syncTree_,n)}node(){return $_(this.syncTree_,this.path_)}}const gV=function(t,e,n){return t&&"object"==typeof t?(N(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?hye(t[".sv"],e,n):"object"==typeof t[".sv"]?fye(t[".sv"],e):void N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},hye=function(t,e,n){if("timestamp"===t)return n.timestamp;N(!1,"Unexpected server value: "+t)},fye=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},TA=function(t,e,n){return DA(t,new IA(e),n)};function DA(t,e,n){const r=t.getPriority().val(),i=gV(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=gV(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Wc(a,nt(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Wc(i))),o.forEachChild(je,(a,u)=>{const c=DA(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class SA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function H_(t,e){let n=e instanceof ke?e:new ke(e),r=t,i=de(n);for(;null!==i;){const s=Xu(r.node.children,i)||{children:{},childCount:0};r=new SA(i,r,s),n=Le(n),i=de(n)}return r}function za(t){return t.node.value}function AA(t,e){t.node.value=e,xA(t)}function _V(t){return t.node.childCount>0}function G_(t,e){Jt(t.node.children,(n,r)=>{e(new SA(n,t,r))})}function yV(t,e,n,r){n&&!r&&e(t),G_(t,i=>{yV(i,e,!0,r)}),n&&r&&e(t)}function tf(t){return new ke(null===t.parent?t.name:tf(t.parent)+"/"+t.name)}function xA(t){null!==t.parent&&function mye(t,e,n){const r=function pye(t){return void 0===za(t)&&!_V(t)}(n),i=ts(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,xA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,xA(t))}(t.parent,t.name,t)}const _ye=/[\[\].#$\/\u0000-\u001F\u007F]/,yye=/[\[\].#$\u0000-\u001F\u007F]/,RA=10485760,z_=function(t){return"string"==typeof t&&0!==t.length&&!_ye.test(t)},rf=function(t,e,n){const r=n instanceof ke?new Pme(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ba(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ba(r)+" with contents = "+e.toString());if(y_(e))throw new Error(t+"contains "+e.toString()+" "+Ba(r));if("string"==typeof e&&e.length>RA/3&&yg(e)>RA)throw new Error(t+"contains a string greater than "+RA+" utf8 bytes "+Ba(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Jt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!z_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ba(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ome(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yg(e),TU(t)})(r,o),rf(t,a,r),function Fme(t){const e=t.parts_.pop();t.byteLength_-=yg(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ba(r)+" in addition to actual children.")}},CV=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!z_(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!yye.test(t)}(t)}(n))throw new Error(function _g(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Eye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mr(t,e,n){(function W_(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!zS(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function IV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Iye(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>kr(r,e)||kr(e,r))}function Iye(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ua&&Yt("event: "+n.toString()),Gc(r)}}}class Tye{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Eye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x_(),this.transactionQueueTree_=new SA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TV(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function af(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:TV(t)})}function DV(t,e,n,r,i){t.dataUpdateCount++;const s=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=gg(n,c=>nt(c));o=function sye(t,e,n,r){const i=wA(t,r);if(i){const s=CA(i),o=s.path,a=s.queryId,u=jn(o,e),c=He.fromObject(n);return EA(t,o,new Jc(aA(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=nt(n);o=function dV(t,e,n,r){const i=wA(t,r);if(null!=i){const s=CA(i),o=s.path,a=s.queryId,u=jn(o,e);return EA(t,o,new ja(aA(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=gg(n,c=>nt(c));o=function nye(t,e,n){const r=He.fromObject(n);return Zc(t,new Jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=nt(n);o=Xh(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=tl(t,s)),mr(t.eventQueue_,a,o)}function SV(t,e){NA(t,"connected",e),!1===e&&function Rye(t){el(t,"onDisconnectEvents");const e=af(t),n=x_();iA(t.onDisconnect_,Te(),(i,s)=>{const o=function(t,e,n,r){return DA(e,new bA(n,t),r)}(i,s,t.serverSyncTree_,e);Yc(n,i,o)});let r=[];iA(n,Te(),(i,s)=>{r=r.concat(Xh(t.serverSyncTree_,i,s));const o=function LA(t,e){const n=tf(RV(t,e)),r=H_(t.transactionQueueTree_,e);return function gye(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{UA(t,i)}),UA(t,r),yV(r,i=>{UA(t,i)}),n}(t,i);tl(t,o)}),t.onDisconnect_=x_(),mr(t.eventQueue_,Te(),r)}(t)}function NA(t,e,n){const r=new ke("/.info/"+e),i=nt(n);t.infoData_.updateSnapshot(r,i);const s=Xh(t.infoSyncTree_,r,i);mr(t.eventQueue_,r,s)}function q_(t){return t.nextWriteId_++}function el(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yt(n,...e)}function FA(t,e,n){return $_(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function K_(t,e=t.transactionQueueTree_){if(e||Q_(t,e),za(e)){const n=kV(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Lye(t,e,n){const r=n.map(c=>c.currentWriteId),i=FA(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];N(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=jn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{el(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(To(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Q_(t,H_(t.transactionQueueTree_,e)),K_(t,t.transactionQueueTree_),mr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)Gc(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Tn("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}tl(t,e)}},o)}(t,tf(e),n)}else _V(e)&&G_(e,n=>{K_(t,n)})}function tl(t,e){const n=RV(t,e),r=tf(n);return function Uye(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=jn(n,u.path);let d,l=!1;if(N(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(To(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,d="maxretry",i=i.concat(To(t.serverSyncTree_,u.currentWriteId,!0));else{const h=FA(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){rf("transaction failed: Data returned ",f,u.path);let p=nt(f);"object"==typeof f&&null!=f&&ts(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=u.currentWriteId,v=af(t),b=TA(p,h,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=q_(t),o.splice(o.indexOf(_),1),i=i.concat(yA(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally)),i=i.concat(To(t.serverSyncTree_,_,!0))}else l=!0,d="nodata",i=i.concat(To(t.serverSyncTree_,u.currentWriteId,!0))}mr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Q_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Gc(r[a]);K_(t,t.transactionQueueTree_)}(t,kV(t,n),r),r}function RV(t,e){let n,r=t.transactionQueueTree_;for(n=de(e);null!==n&&void 0===za(r);)r=H_(r,n),n=de(e=Le(e));return r}function kV(t,e){const n=[];return MV(t,e,n),n.sort((r,i)=>r.order-i.order),n}function MV(t,e,n){const r=za(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);G_(e,i=>{MV(t,i,n)})}function Q_(t,e){const n=za(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,AA(e,n.length>0?n:void 0)}G_(e,r=>{Q_(t,r)})}function UA(t,e){const n=za(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(To(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?AA(e,void 0):n.length=s+1,mr(t.eventQueue_,tf(e),i);for(let o=0;o<r.length;o++)Gc(r[o])}}const VA=function(t,e){const n=$ye(t),r=n.namespace;return"firebase.com"===n.domain&&xi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new US(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ke(n.pathString)}},$ye=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function Vye(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function Bye(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class _r{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return he(this._path)?null:GS(this._path)}get ref(){return new ti(this._repo,this._path)}get _queryIdentifier(){const e=BU(this._queryParams),n=OS(e);return"{}"===n?"default":n}get _queryObject(){return BU(this._queryParams)}isEqual(e){if(!((e=It(e))instanceof _r))return!1;const n=this._repo===e._repo,r=zS(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Mme(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class ti extends _r{constructor(e,n){super(e,n,new eA,!1)}get parent(){const e=bU(this._path);return null===e?null:new ti(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function q_e(t){N(!L_,"__referenceConstructor has already been defined"),L_=t})(ti),function X_e(t){N(!V_,"__referenceConstructor has already been defined"),V_=t}(ti);const $A={};class ove{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Dye(t,e,n){if(t.stats_=$S(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new A_(t.repoInfo_,(r,i,s,o)=>{DV(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>SV(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $a(t.repoInfo_,e,(r,i,s,o)=>{DV(t,r,i,s,o)},r=>{SV(t,r)},r=>{!function Sye(t,e){Jt(e,(n,r)=>{NA(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function lme(t,e){const n=t.toString();return BS[n]||(BS[n]=e()),BS[n]}(t.repoInfo_,()=>new d_e(t.stats_,t.server_)),t.infoData_=new o_e,t.infoSyncTree_=new lV({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Xh(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),NA(t,"connected",!1),t.serverSyncTree_=new lV({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);mr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ti(this._repo,Te())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rve(t,e){const n=$A[e];(!n||n[t.key]!==t)&&xi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function xV(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&xi("Cannot call "+e+" on a deleted database.")}}function ave(t=rs(),e){return Ar(t,"database").getImmediate({identifier:e})}$a.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$a.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function uve(t){(function Qge(t){MS=t})(Ys),Nt(new bt("database",(e,{instanceIdentifier:n})=>function nve(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=VA(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=VA(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Bh(Bh.OWNER):new ame(t.name,t.options,e);CV("Invalid Firebase Database URL",o),he(o.path)||xi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function ive(t,e,n,r){let i=$A[e.name];i||(i={},$A[e.name]=i);let s=i[t.toURLString()];return s&&xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Tye(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new ome(t.name,n));return new ove(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ve(B9,"0.13.5",t),ve(B9,"0.13.5","esm2017")}();class jA{constructor(e){return e}}const BV="database",HA=new z("angularfire2.database-instances");function fve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jA(r)}}const pve={provide:class dve{constructor(){return gs(BV)}},deps:[[new Ce,HA]]},gve={provide:jA,useFactory:function hve(t,e){const n=ps(BV,t,e);return n&&new jA(n)},deps:[[new Ce,HA],xr]};let mve=(()=>{class t{constructor(){ve("angularfire",bi.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[gve,pve]}),t})();function _ve(t,...e){return{ngModule:mve,providers:[{provide:HA,useFactory:fve(t),multi:!0,deps:[Re,ht,ms,_s,[new Ce,xh],[new Ce,Uc],...e]}]}}const yve=Un(ave,!0),zA="functions";class Ive{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return m(function*(){if(e.appCheck){const n=yield e.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var e=this;return m(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const WA="us-central1";class Tve{constructor(e,n,r,i,s=WA,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Ive(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=WA}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const GV="@firebase/functions";function Ove(t=rs(),e=WA){return Ar(It(t),zA).getImmediate({identifier:e})}!function Pve(t,e){Nt(new bt(zA,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new Tve(s,o,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),ve(GV,"0.8.4",e),ve(GV,"0.8.4","esm2017")}(fetch.bind(self));class QA{constructor(e){return e}}const WV="functions",YA=new z("angularfire2.functions-instances");function Uve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new QA(r)}}const Vve={provide:class Fve{constructor(){return gs(WV)}},deps:[[new Ce,YA]]},Bve={provide:QA,useFactory:function Lve(t,e){const n=ps(WV,t,e);return n&&new QA(n)},deps:[[new Ce,YA],xr]};let $ve=(()=>{class t{constructor(){ve("angularfire",bi.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[Bve,Vve]}),t})();function jve(t,...e){return{ngModule:$ve,providers:[{provide:YA,useFactory:Uve(t),multi:!0,deps:[Re,ht,ms,_s,[new Ce,xh],[new Ce,Uc],...e]}]}}const Hve=Un(Ove,!0);class JA{constructor(e){return e}}const qV="messaging",XA=new z("angularfire2.messaging-instances");function Wve(t){return(e,n)=>{if(!Um.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new JA(r)}}const qve={provide:class Gve{constructor(){return gs(qV)}},deps:[[new Ce,XA]]},Kve={provide:JA,useFactory:function zve(t,e){if(!Um.sync())return null;const n=ps(qV,t,e);return n&&new JA(n)},deps:[[new Ce,XA],xr]};let Qve=(()=>{class t{constructor(){ve("angularfire",bi.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[Kve,qve,{provide:Vs,useValue:Um.async,multi:!0}]}),t})();function Yve(t,...e){return{ngModule:Qve,providers:[{provide:XA,useFactory:Wve(t),multi:!0,deps:[Re,ht,ms,_s,...e]}]}}const Jve=Un(wue,!0),KV="@firebase/performance",ZA="0.5.12",ex="FB-PERF-TRACE-MEASURE",eB="@firebase/performance/config",tB="@firebase/performance/configexpire",nB="Performance",fn=new Kr("performance",nB,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Pi=new Ks(nB);let tx,rB,iB,rx;Pi.logLevel=ye.INFO;class Xt{constructor(e){if(this.window=e,!e)throw fn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&fg()?!!qs()||(Pi.info("IndexedDB is not supported by current browswer"),!1):(Pi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===tx&&(tx=new Xt(rB)),tx}}function nx(){return iB}function sB(t,e){const n=t.length-e.length;if(n<0||n>1)throw fn.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class yr{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=sB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=sB("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===rx&&(rx=new yr),rx}}var qa=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(qa||(qa={})),qa))();const s0e=["firebase_","google_","ga_"],o0e=new RegExp("^[a-zA-Z]\\w*$");function c0e(){const t=Xt.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function oB(){switch(Xt.getInstance().document.visibilityState){case"visible":return qa.VISIBLE;case"hidden":return qa.HIDDEN;default:return qa.UNKNOWN}}function l0e(){const e=Xt.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function aB(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw fn.create("no app id");return n}const ni={loggingEnabled:!0};const w0e="Could not fetch config, will use default configs";function uB(t){if(!t)return t;const e=yr.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):ni.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):ni.logSource&&(e.logSource=ni.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:ni.logEndPointUrl&&(e.logEndPointUrl=ni.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:ni.transportKey&&(e.transportKey=ni.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==ni.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=ni.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==ni.tracesSamplingRate&&(e.tracesSamplingRate=ni.tracesSamplingRate),e.logTraceAfterSampling=cB(e.tracesSamplingRate),e.logNetworkAfterSampling=cB(e.networkRequestsSamplingRate),t}function cB(t){return Math.random()<=t}let sx,ix=1;function lB(t){return ix=2,sx=sx||function b0e(t){return function T0e(){const t=Xt.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function r0e(t){const e=t.getId();return e.then(n=>{iB=n}),e}(t.installations)).then(e=>function _0e(t,e){const n=function y0e(){const t=Xt.getInstance().localStorage;if(!t)return;const e=t.getItem(tB);if(!e||!function E0e(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(eB);if(n)try{return JSON.parse(n)}catch{return}}();return n?(uB(n),Promise.resolve()):function C0e(t,e){return function i0e(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const r=function f0e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw fn.create("no project id");return n}(t.app),i=function p0e(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw fn.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:aB(t.app),app_version:"0.5.12",sdk_version:"0.0.1"})});return fetch(o).then(a=>{if(a.ok)return a.json();throw fn.create("RC response not ok")})}).catch(()=>{Pi.info(w0e)})}(t,e).then(uB).then(r=>function v0e(t){const e=Xt.getInstance().localStorage;!t||!e||(e.setItem(eB,JSON.stringify(t)),e.setItem(tB,String(Date.now()+60*yr.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(t,e)).then(()=>dB(),()=>dB())}(t),sx}function dB(){ix=3}let ax,ey=3,Ao=[],fB=!1;function ty(t){setTimeout(()=>{if(0!==ey){if(!Ao.length)return ty(1e4);!function x0e(){const t=Ao.splice(0,1e3),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function R0e(t,e){return function k0e(t){const e=yr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||Pi.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Ao=[...e,...Ao],Pi.info("Retry transport request later.")),ey=3,ty(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:yr.getInstance().logSource,log_event:e},t).catch(()=>{Ao=[...t,...Ao],ey--,Pi.info(`Tries left: ${ey}.`),ty(1e4)})}()}},t)}function pB(t,e){ax||(ax=function N0e(t){return(...e)=>{!function M0e(t){if(!t.eventTime||!t.message)throw fn.create("invalid cc log");Ao=[...Ao,t]}({message:t(...e),eventTime:Date.now()})}}(O0e)),ax(t,e)}function ny(t){const e=yr.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Xt.getInstance().requiredApisAvailable()||t.isAuto&&oB()!==qa.VISIBLE||(function I0e(){return 3===ix}()?ux(t):lB(t.performanceController).then(()=>ux(t),()=>ux(t)))}function ux(t){if(!nx())return;const e=yr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>pB(t,1),0)}function O0e(t,e){return 0===e?function F0e(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:gB(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function L0e(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const r={application_info:gB(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}(t)}function gB(t){return{google_app_id:aB(t),app_instance_id:nx(),web_app_info:{sdk_version:"0.5.12",page_url:Xt.getInstance().getUrl(),service_worker_status:c0e(),visibility_state:oB(),effective_connection_type:l0e()},application_process_state:0}}const B0e=["_fp","_fcp","_fid"];class xo{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Xt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${ex}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw fn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw fn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ny(this)}record(e,n,r){if(e<=0)throw fn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw fn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));ny(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function $0e(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&B0e.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw fn.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function j0e(t){const e=Math.floor(t);return e<t&&Pi.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=function d0e(t){return!(0===t.length||t.length>40||s0e.some(n=>t.startsWith(n))||!t.match(o0e))}(e),i=function h0e(t){return 0!==t.length&&t.length<=100}(n);if(r&&i)this.customAttributes[e]=n;else{if(!r)throw fn.create("invalid attribute name",{attributeName:e});if(!i)throw fn.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,r,i){const s=Xt.getInstance().getUrl();if(!s)return;const o=new xo(e,"_wt_"+s,!0),a=Math.floor(1e3*Xt.getInstance().getTimeOrigin());if(o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),r){const l=r.find(h=>"first-paint"===h.name);l&&l.startTime&&o.putMetric("_fp",Math.floor(1e3*l.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}ny(o)}static createUserTimingTrace(e,n){ny(new xo(e,n,!1,n))}}function mB(t,e){const n=e;if(!n||void 0===n.responseStart)return;const r=Xt.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function P0e(t){const e=yr.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>pB(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function _B(t){!nx()||(setTimeout(()=>function z0e(t){const e=Xt.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{xo.createOobTrace(t,n,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),xo.createOobTrace(t,n,r,s))})}else xo.createOobTrace(t,n,r)}(t),0),setTimeout(()=>function G0e(t){const e=Xt.getInstance(),n=e.getEntriesByType("resource");for(const r of n)mB(t,r);e.setupObserver("resource",r=>mB(t,r))}(t),0),setTimeout(()=>function W0e(t){const e=Xt.getInstance(),n=e.getEntriesByType("measure");for(const r of n)yB(t,r);e.setupObserver("measure",r=>yB(t,r))}(t),0))}function yB(t,e){const n=e.name;n.substring(0,ex.length)!==ex&&xo.createUserTimingTrace(t,n)}class q0e{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Xt.getInstance().requiredApisAvailable()?Ju().then(n=>{n&&(function A0e(){fB||(ty(5500),fB=!0)}(),lB(this).then(()=>_B(this),()=>_B(this)),this.initialized=!0)}).catch(n=>{Pi.info(`Environment doesn't support IndexedDB: ${n}`)}):Pi.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){yr.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return yr.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){yr.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return yr.getInstance().dataCollectionEnabled}}function Q0e(t=rs()){return Ar(t=It(t),"performance").getImmediate()}const Y0e=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw fn.create("FB not default");if(typeof window>"u")throw fn.create("no window");!function n0e(t){rB=t}(window);const i=new q0e(n,r);return i._init(e),i};!function J0e(){Nt(new bt("performance",Y0e,"PUBLIC")),ve(KV,ZA),ve(KV,ZA,"esm2017")}();class cx{constructor(e){return e}}const vB="performance",lx=new z("angularfire2.performance-instances");function e1e(t){return(e,n,r)=>{if(!iO(n))return null;const i=e.runOutsideAngular(()=>t(r));return new cx(i)}}const t1e={provide:class X0e{constructor(){return gs(vB)}},deps:[[new Ce,lx]]},n1e={provide:cx,useFactory:function Z0e(t,e,n){if(!iO(n))return null;const r=ps(vB,t,e);return r&&new cx(r)},deps:[[new Ce,lx],xr,Wo]};let r1e=(()=>{class t{constructor(){ve("angularfire",bi.full,"perf")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[n1e,t1e]}),t})();function i1e(t,...e){return{ngModule:r1e,providers:[{provide:lx,useFactory:e1e(t),multi:!0,deps:[Re,Wo,ht,ms,_s,...e]}]}}const s1e=Un(Q0e,!0);class dx{constructor(e){return e}}const wB="remote-config",hx=new z("angularfire2.remote-config-instances");function u1e(t){return(e,n)=>{if(!Vm.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new dx(r)}}const c1e={provide:class o1e{constructor(){return gs(wB)}},deps:[[new Ce,hx]]},l1e={provide:dx,useFactory:function a1e(t,e){if(!Vm.sync())return null;const n=ps(wB,t,e);return n&&new dx(n)},deps:[[new Ce,hx],xr]};let d1e=(()=>{class t{constructor(){ve("angularfire",bi.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=At({providers:[l1e,c1e,{provide:Vs,useValue:Vm.async,multi:!0}]}),t})();function h1e(t,...e){return{ngModule:d1e,providers:[{provide:hx,useFactory:u1e(t),multi:!0,deps:[Re,ht,ms,_s,...e]}]}}const f1e=Un(mae,!0);function p1e(t){return()=>t.use("en")}function g1e(t){return()=>t.load()}let m1e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vt({type:t,bootstrap:[qge]}),t.\u0275inj=At({providers:[__,{provide:Vs,useFactory:p1e,deps:[__],multi:!0},{provide:Vs,useFactory:g1e,deps:[Kge],multi:!0},{provide:oP,useValue:"JPY"}],imports:[IJ,jge,oge,_ce(()=>yce(V9_firebase)),Ghe(()=>zhe()),_ve(()=>yve()),ofe(()=>afe()),jve(()=>Hve()),Yve(()=>Jve()),i1e(()=>s1e()),h1e(()=>f1e()),Gpe(()=>zpe())]}),t})();(function cQ(){EP=!1})(),EJ().bootstrapModule(m1e).catch(t=>console.error(t))}},Ue=>{Ue(Ue.s=199)}]);